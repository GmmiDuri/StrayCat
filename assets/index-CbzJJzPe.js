(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var J0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zy={exports:{}},qc={},By={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pl=Symbol.for("react.element"),eI=Symbol.for("react.portal"),tI=Symbol.for("react.fragment"),nI=Symbol.for("react.strict_mode"),iI=Symbol.for("react.profiler"),rI=Symbol.for("react.provider"),sI=Symbol.for("react.context"),oI=Symbol.for("react.forward_ref"),aI=Symbol.for("react.suspense"),lI=Symbol.for("react.memo"),uI=Symbol.for("react.lazy"),eg=Symbol.iterator;function cI(t){return t===null||typeof t!="object"?null:(t=eg&&t[eg]||t["@@iterator"],typeof t=="function"?t:null)}var Uy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jy=Object.assign,Hy={};function Bo(t,e,n){this.props=t,this.context=e,this.refs=Hy,this.updater=n||Uy}Bo.prototype.isReactComponent={};Bo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qy(){}qy.prototype=Bo.prototype;function qd(t,e,n){this.props=t,this.context=e,this.refs=Hy,this.updater=n||Uy}var Wd=qd.prototype=new qy;Wd.constructor=qd;jy(Wd,Bo.prototype);Wd.isPureReactComponent=!0;var tg=Array.isArray,Wy=Object.prototype.hasOwnProperty,$d={current:null},$y={key:!0,ref:!0,__self:!0,__source:!0};function Zy(t,e,n){var i,s={},o=null,l=null;if(e!=null)for(i in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)Wy.call(e,i)&&!$y.hasOwnProperty(i)&&(s[i]=e[i]);var h=arguments.length-2;if(h===1)s.children=n;else if(1<h){for(var d=Array(h),m=0;m<h;m++)d[m]=arguments[m+2];s.children=d}if(t&&t.defaultProps)for(i in h=t.defaultProps,h)s[i]===void 0&&(s[i]=h[i]);return{$$typeof:Pl,type:t,key:o,ref:l,props:s,_owner:$d.current}}function hI(t,e){return{$$typeof:Pl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zd(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pl}function fI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ng=/\/+/g;function zh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?fI(""+t.key):e.toString(36)}function Vu(t,e,n,i,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Pl:case eI:l=!0}}if(l)return l=t,s=s(l),t=i===""?"."+zh(l,0):i,tg(s)?(n="",t!=null&&(n=t.replace(ng,"$&/")+"/"),Vu(s,e,n,"",function(m){return m})):s!=null&&(Zd(s)&&(s=hI(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(ng,"$&/")+"/")+t)),e.push(s)),1;if(l=0,i=i===""?".":i+":",tg(t))for(var h=0;h<t.length;h++){o=t[h];var d=i+zh(o,h);l+=Vu(o,e,n,d,s)}else if(d=cI(t),typeof d=="function")for(t=d.call(t),h=0;!(o=t.next()).done;)o=o.value,d=i+zh(o,h++),l+=Vu(o,e,n,d,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function pu(t,e,n){if(t==null)return t;var i=[],s=0;return Vu(t,i,"","",function(o){return e.call(n,o,s++)}),i}function dI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qt={current:null},Fu={transition:null},pI={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:Fu,ReactCurrentOwner:$d};function Gy(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:pu,forEach:function(t,e,n){pu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pu(t,function(){e++}),e},toArray:function(t){return pu(t,function(e){return e})||[]},only:function(t){if(!Zd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Se.Component=Bo;Se.Fragment=tI;Se.Profiler=iI;Se.PureComponent=qd;Se.StrictMode=nI;Se.Suspense=aI;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pI;Se.act=Gy;Se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=jy({},t.props),s=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=$d.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(d in e)Wy.call(e,d)&&!$y.hasOwnProperty(d)&&(i[d]=e[d]===void 0&&h!==void 0?h[d]:e[d])}var d=arguments.length-2;if(d===1)i.children=n;else if(1<d){h=Array(d);for(var m=0;m<d;m++)h[m]=arguments[m+2];i.children=h}return{$$typeof:Pl,type:t.type,key:s,ref:o,props:i,_owner:l}};Se.createContext=function(t){return t={$$typeof:sI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rI,_context:t},t.Consumer=t};Se.createElement=Zy;Se.createFactory=function(t){var e=Zy.bind(null,t);return e.type=t,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(t){return{$$typeof:oI,render:t}};Se.isValidElement=Zd;Se.lazy=function(t){return{$$typeof:uI,_payload:{_status:-1,_result:t},_init:dI}};Se.memo=function(t,e){return{$$typeof:lI,type:t,compare:e===void 0?null:e}};Se.startTransition=function(t){var e=Fu.transition;Fu.transition={};try{t()}finally{Fu.transition=e}};Se.unstable_act=Gy;Se.useCallback=function(t,e){return qt.current.useCallback(t,e)};Se.useContext=function(t){return qt.current.useContext(t)};Se.useDebugValue=function(){};Se.useDeferredValue=function(t){return qt.current.useDeferredValue(t)};Se.useEffect=function(t,e){return qt.current.useEffect(t,e)};Se.useId=function(){return qt.current.useId()};Se.useImperativeHandle=function(t,e,n){return qt.current.useImperativeHandle(t,e,n)};Se.useInsertionEffect=function(t,e){return qt.current.useInsertionEffect(t,e)};Se.useLayoutEffect=function(t,e){return qt.current.useLayoutEffect(t,e)};Se.useMemo=function(t,e){return qt.current.useMemo(t,e)};Se.useReducer=function(t,e,n){return qt.current.useReducer(t,e,n)};Se.useRef=function(t){return qt.current.useRef(t)};Se.useState=function(t){return qt.current.useState(t)};Se.useSyncExternalStore=function(t,e,n){return qt.current.useSyncExternalStore(t,e,n)};Se.useTransition=function(){return qt.current.useTransition()};Se.version="18.3.1";By.exports=Se;var le=By.exports;const nc=Fy(le);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mI=le,gI=Symbol.for("react.element"),_I=Symbol.for("react.fragment"),yI=Object.prototype.hasOwnProperty,vI=mI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wI={key:!0,ref:!0,__self:!0,__source:!0};function Ky(t,e,n){var i,s={},o=null,l=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(i in e)yI.call(e,i)&&!wI.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:gI,type:t,key:o,ref:l,props:s,_owner:vI.current}}qc.Fragment=_I;qc.jsx=Ky;qc.jsxs=Ky;zy.exports=qc;var B=zy.exports,Cf={},Qy={exports:{}},pn={},Yy={exports:{}},Xy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,ce){var X=$.length;$.push(ce);e:for(;0<X;){var he=X-1>>>1,we=$[he];if(0<s(we,ce))$[he]=ce,$[X]=we,X=he;else break e}}function n($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var ce=$[0],X=$.pop();if(X!==ce){$[0]=X;e:for(var he=0,we=$.length,Be=we>>>1;he<Be;){var Ie=2*(he+1)-1,ve=$[Ie],pe=Ie+1,ot=$[pe];if(0>s(ve,X))pe<we&&0>s(ot,ve)?($[he]=ot,$[pe]=X,he=pe):($[he]=ve,$[Ie]=X,he=Ie);else if(pe<we&&0>s(ot,X))$[he]=ot,$[pe]=X,he=pe;else break e}}return ce}function s($,ce){var X=$.sortIndex-ce.sortIndex;return X!==0?X:$.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,h=l.now();t.unstable_now=function(){return l.now()-h}}var d=[],m=[],y=1,w=null,T=3,b=!1,U=!1,F=!1,Z=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D($){for(var ce=n(m);ce!==null;){if(ce.callback===null)i(m);else if(ce.startTime<=$)i(m),ce.sortIndex=ce.expirationTime,e(d,ce);else break;ce=n(m)}}function W($){if(F=!1,D($),!U)if(n(d)!==null)U=!0,tt(z);else{var ce=n(m);ce!==null&&Vt(W,ce.startTime-$)}}function z($,ce){U=!1,F&&(F=!1,N(I),I=-1),b=!0;var X=T;try{for(D(ce),w=n(d);w!==null&&(!(w.expirationTime>ce)||$&&!k());){var he=w.callback;if(typeof he=="function"){w.callback=null,T=w.priorityLevel;var we=he(w.expirationTime<=ce);ce=t.unstable_now(),typeof we=="function"?w.callback=we:w===n(d)&&i(d),D(ce)}else i(d);w=n(d)}if(w!==null)var Be=!0;else{var Ie=n(m);Ie!==null&&Vt(W,Ie.startTime-ce),Be=!1}return Be}finally{w=null,T=X,b=!1}}var J=!1,S=null,I=-1,C=5,R=-1;function k(){return!(t.unstable_now()-R<C)}function M(){if(S!==null){var $=t.unstable_now();R=$;var ce=!0;try{ce=S(!0,$)}finally{ce?A():(J=!1,S=null)}}else J=!1}var A;if(typeof P=="function")A=function(){P(M)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,ze=ue.port2;ue.port1.onmessage=M,A=function(){ze.postMessage(null)}}else A=function(){Z(M,0)};function tt($){S=$,J||(J=!0,A())}function Vt($,ce){I=Z(function(){$(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){U||b||(U=!0,tt(z))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function($){switch(T){case 1:case 2:case 3:var ce=3;break;default:ce=T}var X=T;T=ce;try{return $()}finally{T=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,ce){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var X=T;T=$;try{return ce()}finally{T=X}},t.unstable_scheduleCallback=function($,ce,X){var he=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?he+X:he):X=he,$){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=X+we,$={id:y++,callback:ce,priorityLevel:$,startTime:X,expirationTime:we,sortIndex:-1},X>he?($.sortIndex=X,e(m,$),n(d)===null&&$===n(m)&&(F?(N(I),I=-1):F=!0,Vt(W,X-he))):($.sortIndex=we,e(d,$),U||b||(U=!0,tt(z))),$},t.unstable_shouldYield=k,t.unstable_wrapCallback=function($){var ce=T;return function(){var X=T;T=ce;try{return $.apply(this,arguments)}finally{T=X}}}})(Xy);Yy.exports=Xy;var TI=Yy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EI=le,dn=TI;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jy=new Set,el={};function ys(t,e){Po(t,e),Po(t+"Capture",e)}function Po(t,e){for(el[t]=e,t=0;t<e.length;t++)Jy.add(e[t])}var Di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Af=Object.prototype.hasOwnProperty,II=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ig={},rg={};function SI(t){return Af.call(rg,t)?!0:Af.call(ig,t)?!1:II.test(t)?rg[t]=!0:(ig[t]=!0,!1)}function PI(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function CI(t,e,n,i){if(e===null||typeof e>"u"||PI(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Wt(t,e,n,i,s,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var At={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){At[t]=new Wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];At[e]=new Wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){At[t]=new Wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){At[t]=new Wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){At[t]=new Wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){At[t]=new Wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){At[t]=new Wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){At[t]=new Wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){At[t]=new Wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gd=/[\-:]([a-z])/g;function Kd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gd,Kd);At[e]=new Wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gd,Kd);At[e]=new Wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gd,Kd);At[e]=new Wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){At[t]=new Wt(t,1,!1,t.toLowerCase(),null,!1,!1)});At.xlinkHref=new Wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){At[t]=new Wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qd(t,e,n,i){var s=At.hasOwnProperty(e)?At[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(CI(e,n,s,i)&&(n=null),i||s===null?SI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Ui=EI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mu=Symbol.for("react.element"),no=Symbol.for("react.portal"),io=Symbol.for("react.fragment"),Yd=Symbol.for("react.strict_mode"),xf=Symbol.for("react.profiler"),ev=Symbol.for("react.provider"),tv=Symbol.for("react.context"),Xd=Symbol.for("react.forward_ref"),Rf=Symbol.for("react.suspense"),kf=Symbol.for("react.suspense_list"),Jd=Symbol.for("react.memo"),er=Symbol.for("react.lazy"),nv=Symbol.for("react.offscreen"),sg=Symbol.iterator;function Ea(t){return t===null||typeof t!="object"?null:(t=sg&&t[sg]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,Bh;function Na(t){if(Bh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bh=e&&e[1]||""}return`
`+Bh+t}var Uh=!1;function jh(t,e){if(!t||Uh)return"";Uh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(m){var i=m}Reflect.construct(t,[],e)}else{try{e.call()}catch(m){i=m}t.call(e.prototype)}else{try{throw Error()}catch(m){i=m}t()}}catch(m){if(m&&i&&typeof m.stack=="string"){for(var s=m.stack.split(`
`),o=i.stack.split(`
`),l=s.length-1,h=o.length-1;1<=l&&0<=h&&s[l]!==o[h];)h--;for(;1<=l&&0<=h;l--,h--)if(s[l]!==o[h]){if(l!==1||h!==1)do if(l--,h--,0>h||s[l]!==o[h]){var d=`
`+s[l].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=l&&0<=h);break}}}finally{Uh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Na(t):""}function AI(t){switch(t.tag){case 5:return Na(t.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return t=jh(t.type,!1),t;case 11:return t=jh(t.type.render,!1),t;case 1:return t=jh(t.type,!0),t;default:return""}}function Lf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case io:return"Fragment";case no:return"Portal";case xf:return"Profiler";case Yd:return"StrictMode";case Rf:return"Suspense";case kf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tv:return(t.displayName||"Context")+".Consumer";case ev:return(t._context.displayName||"Context")+".Provider";case Xd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jd:return e=t.displayName||null,e!==null?e:Lf(t.type)||"Memo";case er:e=t._payload,t=t._init;try{return Lf(t(e))}catch{}}return null}function xI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lf(e);case 8:return e===Yd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function iv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function RI(t){var e=iv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){i=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gu(t){t._valueTracker||(t._valueTracker=RI(t))}function rv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=iv(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function ic(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nf(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function og(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=vr(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sv(t,e){e=e.checked,e!=null&&Qd(t,"checked",e,!1)}function Df(t,e){sv(t,e);var n=vr(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bf(t,e.type,n):e.hasOwnProperty("defaultValue")&&bf(t,e.type,vr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ag(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bf(t,e,n){(e!=="number"||ic(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Da=Array.isArray;function mo(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+vr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Mf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(Da(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:vr(n)}}function ov(t,e){var n=vr(e.value),i=vr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function ug(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function av(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Of(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?av(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _u,lv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_u=_u||document.createElement("div"),_u.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_u.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function tl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kI=["Webkit","ms","Moz","O"];Object.keys(Ba).forEach(function(t){kI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ba[e]=Ba[t]})});function uv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ba.hasOwnProperty(t)&&Ba[t]?(""+e).trim():e+"px"}function cv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=uv(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var LI=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vf(t,e){if(e){if(LI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function Ff(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zf=null;function ep(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bf=null,go=null,_o=null;function cg(t){if(t=xl(t)){if(typeof Bf!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=Kc(e),Bf(t.stateNode,t.type,e))}}function hv(t){go?_o?_o.push(t):_o=[t]:go=t}function fv(){if(go){var t=go,e=_o;if(_o=go=null,cg(t),e)for(t=0;t<e.length;t++)cg(e[t])}}function dv(t,e){return t(e)}function pv(){}var Hh=!1;function mv(t,e,n){if(Hh)return t(e,n);Hh=!0;try{return dv(t,e,n)}finally{Hh=!1,(go!==null||_o!==null)&&(pv(),fv())}}function nl(t,e){var n=t.stateNode;if(n===null)return null;var i=Kc(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var Uf=!1;if(Di)try{var Ia={};Object.defineProperty(Ia,"passive",{get:function(){Uf=!0}}),window.addEventListener("test",Ia,Ia),window.removeEventListener("test",Ia,Ia)}catch{Uf=!1}function NI(t,e,n,i,s,o,l,h,d){var m=Array.prototype.slice.call(arguments,3);try{e.apply(n,m)}catch(y){this.onError(y)}}var Ua=!1,rc=null,sc=!1,jf=null,DI={onError:function(t){Ua=!0,rc=t}};function bI(t,e,n,i,s,o,l,h,d){Ua=!1,rc=null,NI.apply(DI,arguments)}function MI(t,e,n,i,s,o,l,h,d){if(bI.apply(this,arguments),Ua){if(Ua){var m=rc;Ua=!1,rc=null}else throw Error(Y(198));sc||(sc=!0,jf=m)}}function vs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hg(t){if(vs(t)!==t)throw Error(Y(188))}function OI(t){var e=t.alternate;if(!e){if(e=vs(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return hg(s),t;if(o===i)return hg(s),e;o=o.sibling}throw Error(Y(188))}if(n.return!==i.return)n=s,i=o;else{for(var l=!1,h=s.child;h;){if(h===n){l=!0,n=s,i=o;break}if(h===i){l=!0,i=s,n=o;break}h=h.sibling}if(!l){for(h=o.child;h;){if(h===n){l=!0,n=o,i=s;break}if(h===i){l=!0,i=o,n=s;break}h=h.sibling}if(!l)throw Error(Y(189))}}if(n.alternate!==i)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function _v(t){return t=OI(t),t!==null?yv(t):null}function yv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yv(t);if(e!==null)return e;t=t.sibling}return null}var vv=dn.unstable_scheduleCallback,fg=dn.unstable_cancelCallback,VI=dn.unstable_shouldYield,FI=dn.unstable_requestPaint,st=dn.unstable_now,zI=dn.unstable_getCurrentPriorityLevel,tp=dn.unstable_ImmediatePriority,wv=dn.unstable_UserBlockingPriority,oc=dn.unstable_NormalPriority,BI=dn.unstable_LowPriority,Tv=dn.unstable_IdlePriority,Wc=null,si=null;function UI(t){if(si&&typeof si.onCommitFiberRoot=="function")try{si.onCommitFiberRoot(Wc,t,void 0,(t.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:qI,jI=Math.log,HI=Math.LN2;function qI(t){return t>>>=0,t===0?32:31-(jI(t)/HI|0)|0}var yu=64,vu=4194304;function ba(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ac(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var h=l&~s;h!==0?i=ba(h):(o&=l,o!==0&&(i=ba(o)))}else l=n&~s,l!==0?i=ba(l):o!==0&&(i=ba(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Un(e),s=1<<n,i|=t[n],e&=~s;return i}function WI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $I(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-Un(o),h=1<<l,d=s[l];d===-1?(!(h&n)||h&i)&&(s[l]=WI(h,e)):d<=e&&(t.expiredLanes|=h),o&=~h}}function Hf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ev(){var t=yu;return yu<<=1,!(yu&4194240)&&(yu=64),t}function qh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Cl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Un(e),t[e]=n}function ZI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Un(n),o=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~o}}function np(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Un(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var Fe=0;function Iv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Sv,ip,Pv,Cv,Av,qf=!1,wu=[],ar=null,lr=null,ur=null,il=new Map,rl=new Map,nr=[],GI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dg(t,e){switch(t){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":il.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(e.pointerId)}}function Sa(t,e,n,i,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[s]},e!==null&&(e=xl(e),e!==null&&ip(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function KI(t,e,n,i,s){switch(e){case"focusin":return ar=Sa(ar,t,e,n,i,s),!0;case"dragenter":return lr=Sa(lr,t,e,n,i,s),!0;case"mouseover":return ur=Sa(ur,t,e,n,i,s),!0;case"pointerover":var o=s.pointerId;return il.set(o,Sa(il.get(o)||null,t,e,n,i,s)),!0;case"gotpointercapture":return o=s.pointerId,rl.set(o,Sa(rl.get(o)||null,t,e,n,i,s)),!0}return!1}function xv(t){var e=Xr(t.target);if(e!==null){var n=vs(e);if(n!==null){if(e=n.tag,e===13){if(e=gv(n),e!==null){t.blockedOn=e,Av(t.priority,function(){Pv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);zf=i,n.target.dispatchEvent(i),zf=null}else return e=xl(n),e!==null&&ip(e),t.blockedOn=n,!1;e.shift()}return!0}function pg(t,e,n){zu(t)&&n.delete(e)}function QI(){qf=!1,ar!==null&&zu(ar)&&(ar=null),lr!==null&&zu(lr)&&(lr=null),ur!==null&&zu(ur)&&(ur=null),il.forEach(pg),rl.forEach(pg)}function Pa(t,e){t.blockedOn===e&&(t.blockedOn=null,qf||(qf=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,QI)))}function sl(t){function e(s){return Pa(s,t)}if(0<wu.length){Pa(wu[0],t);for(var n=1;n<wu.length;n++){var i=wu[n];i.blockedOn===t&&(i.blockedOn=null)}}for(ar!==null&&Pa(ar,t),lr!==null&&Pa(lr,t),ur!==null&&Pa(ur,t),il.forEach(e),rl.forEach(e),n=0;n<nr.length;n++)i=nr[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<nr.length&&(n=nr[0],n.blockedOn===null);)xv(n),n.blockedOn===null&&nr.shift()}var yo=Ui.ReactCurrentBatchConfig,lc=!0;function YI(t,e,n,i){var s=Fe,o=yo.transition;yo.transition=null;try{Fe=1,rp(t,e,n,i)}finally{Fe=s,yo.transition=o}}function XI(t,e,n,i){var s=Fe,o=yo.transition;yo.transition=null;try{Fe=4,rp(t,e,n,i)}finally{Fe=s,yo.transition=o}}function rp(t,e,n,i){if(lc){var s=Wf(t,e,n,i);if(s===null)ef(t,e,i,uc,n),dg(t,i);else if(KI(s,t,e,n,i))i.stopPropagation();else if(dg(t,i),e&4&&-1<GI.indexOf(t)){for(;s!==null;){var o=xl(s);if(o!==null&&Sv(o),o=Wf(t,e,n,i),o===null&&ef(t,e,i,uc,n),o===s)break;s=o}s!==null&&i.stopPropagation()}else ef(t,e,i,null,n)}}var uc=null;function Wf(t,e,n,i){if(uc=null,t=ep(i),t=Xr(t),t!==null)if(e=vs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return uc=t,null}function Rv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zI()){case tp:return 1;case wv:return 4;case oc:case BI:return 16;case Tv:return 536870912;default:return 16}default:return 16}}var rr=null,sp=null,Bu=null;function kv(){if(Bu)return Bu;var t,e=sp,n=e.length,i,s="value"in rr?rr.value:rr.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var l=n-t;for(i=1;i<=l&&e[n-i]===s[o-i];i++);return Bu=s.slice(t,1<i?1-i:void 0)}function Uu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Tu(){return!0}function mg(){return!1}function mn(t){function e(n,i,s,o,l){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(o):o[h]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Tu:mg,this.isPropagationStopped=mg,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tu)},persist:function(){},isPersistent:Tu}),e}var Uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},op=mn(Uo),Al=Ye({},Uo,{view:0,detail:0}),JI=mn(Al),Wh,$h,Ca,$c=Ye({},Al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ap,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ca&&(Ca&&t.type==="mousemove"?(Wh=t.screenX-Ca.screenX,$h=t.screenY-Ca.screenY):$h=Wh=0,Ca=t),Wh)},movementY:function(t){return"movementY"in t?t.movementY:$h}}),gg=mn($c),e1=Ye({},$c,{dataTransfer:0}),t1=mn(e1),n1=Ye({},Al,{relatedTarget:0}),Zh=mn(n1),i1=Ye({},Uo,{animationName:0,elapsedTime:0,pseudoElement:0}),r1=mn(i1),s1=Ye({},Uo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),o1=mn(s1),a1=Ye({},Uo,{data:0}),_g=mn(a1),l1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=c1[t])?!!e[t]:!1}function ap(){return h1}var f1=Ye({},Al,{key:function(t){if(t.key){var e=l1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Uu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?u1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ap,charCode:function(t){return t.type==="keypress"?Uu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Uu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d1=mn(f1),p1=Ye({},$c,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yg=mn(p1),m1=Ye({},Al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ap}),g1=mn(m1),_1=Ye({},Uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),y1=mn(_1),v1=Ye({},$c,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),w1=mn(v1),T1=[9,13,27,32],lp=Di&&"CompositionEvent"in window,ja=null;Di&&"documentMode"in document&&(ja=document.documentMode);var E1=Di&&"TextEvent"in window&&!ja,Lv=Di&&(!lp||ja&&8<ja&&11>=ja),vg=" ",wg=!1;function Nv(t,e){switch(t){case"keyup":return T1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ro=!1;function I1(t,e){switch(t){case"compositionend":return Dv(e);case"keypress":return e.which!==32?null:(wg=!0,vg);case"textInput":return t=e.data,t===vg&&wg?null:t;default:return null}}function S1(t,e){if(ro)return t==="compositionend"||!lp&&Nv(t,e)?(t=kv(),Bu=sp=rr=null,ro=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Lv&&e.locale!=="ko"?null:e.data;default:return null}}var P1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!P1[t.type]:e==="textarea"}function bv(t,e,n,i){hv(i),e=cc(e,"onChange"),0<e.length&&(n=new op("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Ha=null,ol=null;function C1(t){Wv(t,0)}function Zc(t){var e=ao(t);if(rv(e))return t}function A1(t,e){if(t==="change")return e}var Mv=!1;if(Di){var Gh;if(Di){var Kh="oninput"in document;if(!Kh){var Eg=document.createElement("div");Eg.setAttribute("oninput","return;"),Kh=typeof Eg.oninput=="function"}Gh=Kh}else Gh=!1;Mv=Gh&&(!document.documentMode||9<document.documentMode)}function Ig(){Ha&&(Ha.detachEvent("onpropertychange",Ov),ol=Ha=null)}function Ov(t){if(t.propertyName==="value"&&Zc(ol)){var e=[];bv(e,ol,t,ep(t)),mv(C1,e)}}function x1(t,e,n){t==="focusin"?(Ig(),Ha=e,ol=n,Ha.attachEvent("onpropertychange",Ov)):t==="focusout"&&Ig()}function R1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zc(ol)}function k1(t,e){if(t==="click")return Zc(e)}function L1(t,e){if(t==="input"||t==="change")return Zc(e)}function N1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qn=typeof Object.is=="function"?Object.is:N1;function al(t,e){if(qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Af.call(e,s)||!qn(t[s],e[s]))return!1}return!0}function Sg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pg(t,e){var n=Sg(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sg(n)}}function Vv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Vv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Fv(){for(var t=window,e=ic();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ic(t.document)}return e}function up(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function D1(t){var e=Fv(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Vv(n.ownerDocument.documentElement,n)){if(i!==null&&up(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(i.start,s);i=i.end===void 0?o:Math.min(i.end,s),!t.extend&&o>i&&(s=i,i=o,o=s),s=Pg(n,o);var l=Pg(n,i);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var b1=Di&&"documentMode"in document&&11>=document.documentMode,so=null,$f=null,qa=null,Zf=!1;function Cg(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zf||so==null||so!==ic(i)||(i=so,"selectionStart"in i&&up(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),qa&&al(qa,i)||(qa=i,i=cc($f,"onSelect"),0<i.length&&(e=new op("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=so)))}function Eu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var oo={animationend:Eu("Animation","AnimationEnd"),animationiteration:Eu("Animation","AnimationIteration"),animationstart:Eu("Animation","AnimationStart"),transitionend:Eu("Transition","TransitionEnd")},Qh={},zv={};Di&&(zv=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function Gc(t){if(Qh[t])return Qh[t];if(!oo[t])return t;var e=oo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in zv)return Qh[t]=e[n];return t}var Bv=Gc("animationend"),Uv=Gc("animationiteration"),jv=Gc("animationstart"),Hv=Gc("transitionend"),qv=new Map,Ag="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(t,e){qv.set(t,e),ys(e,[t])}for(var Yh=0;Yh<Ag.length;Yh++){var Xh=Ag[Yh],M1=Xh.toLowerCase(),O1=Xh[0].toUpperCase()+Xh.slice(1);Ar(M1,"on"+O1)}Ar(Bv,"onAnimationEnd");Ar(Uv,"onAnimationIteration");Ar(jv,"onAnimationStart");Ar("dblclick","onDoubleClick");Ar("focusin","onFocus");Ar("focusout","onBlur");Ar(Hv,"onTransitionEnd");Po("onMouseEnter",["mouseout","mouseover"]);Po("onMouseLeave",["mouseout","mouseover"]);Po("onPointerEnter",["pointerout","pointerover"]);Po("onPointerLeave",["pointerout","pointerover"]);ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ma));function xg(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,MI(i,e,void 0,t),t.currentTarget=null}function Wv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var l=i.length-1;0<=l;l--){var h=i[l],d=h.instance,m=h.currentTarget;if(h=h.listener,d!==o&&s.isPropagationStopped())break e;xg(s,h,m),o=d}else for(l=0;l<i.length;l++){if(h=i[l],d=h.instance,m=h.currentTarget,h=h.listener,d!==o&&s.isPropagationStopped())break e;xg(s,h,m),o=d}}}if(sc)throw t=jf,sc=!1,jf=null,t}function qe(t,e){var n=e[Xf];n===void 0&&(n=e[Xf]=new Set);var i=t+"__bubble";n.has(i)||($v(e,t,2,!1),n.add(i))}function Jh(t,e,n){var i=0;e&&(i|=4),$v(n,t,i,e)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function ll(t){if(!t[Iu]){t[Iu]=!0,Jy.forEach(function(n){n!=="selectionchange"&&(V1.has(n)||Jh(n,!1,t),Jh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Iu]||(e[Iu]=!0,Jh("selectionchange",!1,e))}}function $v(t,e,n,i){switch(Rv(e)){case 1:var s=YI;break;case 4:s=XI;break;default:s=rp}n=s.bind(null,e,n,t),s=void 0,!Uf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ef(t,e,n,i,s){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var h=i.stateNode.containerInfo;if(h===s||h.nodeType===8&&h.parentNode===s)break;if(l===4)for(l=i.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;l=l.return}for(;h!==null;){if(l=Xr(h),l===null)return;if(d=l.tag,d===5||d===6){i=o=l;continue e}h=h.parentNode}}i=i.return}mv(function(){var m=o,y=ep(n),w=[];e:{var T=qv.get(t);if(T!==void 0){var b=op,U=t;switch(t){case"keypress":if(Uu(n)===0)break e;case"keydown":case"keyup":b=d1;break;case"focusin":U="focus",b=Zh;break;case"focusout":U="blur",b=Zh;break;case"beforeblur":case"afterblur":b=Zh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=gg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=t1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=g1;break;case Bv:case Uv:case jv:b=r1;break;case Hv:b=y1;break;case"scroll":b=JI;break;case"wheel":b=w1;break;case"copy":case"cut":case"paste":b=o1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=yg}var F=(e&4)!==0,Z=!F&&t==="scroll",N=F?T!==null?T+"Capture":null:T;F=[];for(var P=m,D;P!==null;){D=P;var W=D.stateNode;if(D.tag===5&&W!==null&&(D=W,N!==null&&(W=nl(P,N),W!=null&&F.push(ul(P,W,D)))),Z)break;P=P.return}0<F.length&&(T=new b(T,U,null,n,y),w.push({event:T,listeners:F}))}}if(!(e&7)){e:{if(T=t==="mouseover"||t==="pointerover",b=t==="mouseout"||t==="pointerout",T&&n!==zf&&(U=n.relatedTarget||n.fromElement)&&(Xr(U)||U[bi]))break e;if((b||T)&&(T=y.window===y?y:(T=y.ownerDocument)?T.defaultView||T.parentWindow:window,b?(U=n.relatedTarget||n.toElement,b=m,U=U?Xr(U):null,U!==null&&(Z=vs(U),U!==Z||U.tag!==5&&U.tag!==6)&&(U=null)):(b=null,U=m),b!==U)){if(F=gg,W="onMouseLeave",N="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(F=yg,W="onPointerLeave",N="onPointerEnter",P="pointer"),Z=b==null?T:ao(b),D=U==null?T:ao(U),T=new F(W,P+"leave",b,n,y),T.target=Z,T.relatedTarget=D,W=null,Xr(y)===m&&(F=new F(N,P+"enter",U,n,y),F.target=D,F.relatedTarget=Z,W=F),Z=W,b&&U)t:{for(F=b,N=U,P=0,D=F;D;D=Ys(D))P++;for(D=0,W=N;W;W=Ys(W))D++;for(;0<P-D;)F=Ys(F),P--;for(;0<D-P;)N=Ys(N),D--;for(;P--;){if(F===N||N!==null&&F===N.alternate)break t;F=Ys(F),N=Ys(N)}F=null}else F=null;b!==null&&Rg(w,T,b,F,!1),U!==null&&Z!==null&&Rg(w,Z,U,F,!0)}}e:{if(T=m?ao(m):window,b=T.nodeName&&T.nodeName.toLowerCase(),b==="select"||b==="input"&&T.type==="file")var z=A1;else if(Tg(T))if(Mv)z=L1;else{z=R1;var J=x1}else(b=T.nodeName)&&b.toLowerCase()==="input"&&(T.type==="checkbox"||T.type==="radio")&&(z=k1);if(z&&(z=z(t,m))){bv(w,z,n,y);break e}J&&J(t,T,m),t==="focusout"&&(J=T._wrapperState)&&J.controlled&&T.type==="number"&&bf(T,"number",T.value)}switch(J=m?ao(m):window,t){case"focusin":(Tg(J)||J.contentEditable==="true")&&(so=J,$f=m,qa=null);break;case"focusout":qa=$f=so=null;break;case"mousedown":Zf=!0;break;case"contextmenu":case"mouseup":case"dragend":Zf=!1,Cg(w,n,y);break;case"selectionchange":if(b1)break;case"keydown":case"keyup":Cg(w,n,y)}var S;if(lp)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else ro?Nv(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Lv&&n.locale!=="ko"&&(ro||I!=="onCompositionStart"?I==="onCompositionEnd"&&ro&&(S=kv()):(rr=y,sp="value"in rr?rr.value:rr.textContent,ro=!0)),J=cc(m,I),0<J.length&&(I=new _g(I,t,null,n,y),w.push({event:I,listeners:J}),S?I.data=S:(S=Dv(n),S!==null&&(I.data=S)))),(S=E1?I1(t,n):S1(t,n))&&(m=cc(m,"onBeforeInput"),0<m.length&&(y=new _g("onBeforeInput","beforeinput",null,n,y),w.push({event:y,listeners:m}),y.data=S))}Wv(w,e)})}function ul(t,e,n){return{instance:t,listener:e,currentTarget:n}}function cc(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=nl(t,n),o!=null&&i.unshift(ul(t,o,s)),o=nl(t,e),o!=null&&i.push(ul(t,o,s))),t=t.return}return i}function Ys(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rg(t,e,n,i,s){for(var o=e._reactName,l=[];n!==null&&n!==i;){var h=n,d=h.alternate,m=h.stateNode;if(d!==null&&d===i)break;h.tag===5&&m!==null&&(h=m,s?(d=nl(n,o),d!=null&&l.unshift(ul(n,d,h))):s||(d=nl(n,o),d!=null&&l.push(ul(n,d,h)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var F1=/\r\n?/g,z1=/\u0000|\uFFFD/g;function kg(t){return(typeof t=="string"?t:""+t).replace(F1,`
`).replace(z1,"")}function Su(t,e,n){if(e=kg(e),kg(t)!==e&&n)throw Error(Y(425))}function hc(){}var Gf=null,Kf=null;function Qf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yf=typeof setTimeout=="function"?setTimeout:void 0,B1=typeof clearTimeout=="function"?clearTimeout:void 0,Lg=typeof Promise=="function"?Promise:void 0,U1=typeof queueMicrotask=="function"?queueMicrotask:typeof Lg<"u"?function(t){return Lg.resolve(null).then(t).catch(j1)}:Yf;function j1(t){setTimeout(function(){throw t})}function tf(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),sl(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);sl(e)}function cr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ng(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jo=Math.random().toString(36).slice(2),ri="__reactFiber$"+jo,cl="__reactProps$"+jo,bi="__reactContainer$"+jo,Xf="__reactEvents$"+jo,H1="__reactListeners$"+jo,q1="__reactHandles$"+jo;function Xr(t){var e=t[ri];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bi]||n[ri]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ng(t);t!==null;){if(n=t[ri])return n;t=Ng(t)}return e}t=n,n=t.parentNode}return null}function xl(t){return t=t[ri]||t[bi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ao(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function Kc(t){return t[cl]||null}var Jf=[],lo=-1;function xr(t){return{current:t}}function $e(t){0>lo||(t.current=Jf[lo],Jf[lo]=null,lo--)}function He(t,e){lo++,Jf[lo]=t.current,t.current=e}var wr={},Ot=xr(wr),tn=xr(!1),ls=wr;function Co(t,e){var n=t.type.contextTypes;if(!n)return wr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function nn(t){return t=t.childContextTypes,t!=null}function fc(){$e(tn),$e(Ot)}function Dg(t,e,n){if(Ot.current!==wr)throw Error(Y(168));He(Ot,e),He(tn,n)}function Zv(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(Y(108,xI(t)||"Unknown",s));return Ye({},n,i)}function dc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wr,ls=Ot.current,He(Ot,t),He(tn,tn.current),!0}function bg(t,e,n){var i=t.stateNode;if(!i)throw Error(Y(169));n?(t=Zv(t,e,ls),i.__reactInternalMemoizedMergedChildContext=t,$e(tn),$e(Ot),He(Ot,t)):$e(tn),He(tn,n)}var Ri=null,Qc=!1,nf=!1;function Gv(t){Ri===null?Ri=[t]:Ri.push(t)}function W1(t){Qc=!0,Gv(t)}function Rr(){if(!nf&&Ri!==null){nf=!0;var t=0,e=Fe;try{var n=Ri;for(Fe=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Ri=null,Qc=!1}catch(s){throw Ri!==null&&(Ri=Ri.slice(t+1)),vv(tp,Rr),s}finally{Fe=e,nf=!1}}return null}var uo=[],co=0,pc=null,mc=0,In=[],Sn=0,us=null,ki=1,Li="";function Kr(t,e){uo[co++]=mc,uo[co++]=pc,pc=t,mc=e}function Kv(t,e,n){In[Sn++]=ki,In[Sn++]=Li,In[Sn++]=us,us=t;var i=ki;t=Li;var s=32-Un(i)-1;i&=~(1<<s),n+=1;var o=32-Un(e)+s;if(30<o){var l=s-s%5;o=(i&(1<<l)-1).toString(32),i>>=l,s-=l,ki=1<<32-Un(e)+s|n<<s|i,Li=o+t}else ki=1<<o|n<<s|i,Li=t}function cp(t){t.return!==null&&(Kr(t,1),Kv(t,1,0))}function hp(t){for(;t===pc;)pc=uo[--co],uo[co]=null,mc=uo[--co],uo[co]=null;for(;t===us;)us=In[--Sn],In[Sn]=null,Li=In[--Sn],In[Sn]=null,ki=In[--Sn],In[Sn]=null}var hn=null,un=null,Ze=!1,zn=null;function Qv(t,e){var n=Cn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Mg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hn=t,un=cr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hn=t,un=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=us!==null?{id:ki,overflow:Li}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Cn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,hn=t,un=null,!0):!1;default:return!1}}function ed(t){return(t.mode&1)!==0&&(t.flags&128)===0}function td(t){if(Ze){var e=un;if(e){var n=e;if(!Mg(t,e)){if(ed(t))throw Error(Y(418));e=cr(n.nextSibling);var i=hn;e&&Mg(t,e)?Qv(i,n):(t.flags=t.flags&-4097|2,Ze=!1,hn=t)}}else{if(ed(t))throw Error(Y(418));t.flags=t.flags&-4097|2,Ze=!1,hn=t}}}function Og(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hn=t}function Pu(t){if(t!==hn)return!1;if(!Ze)return Og(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Qf(t.type,t.memoizedProps)),e&&(e=un)){if(ed(t))throw Yv(),Error(Y(418));for(;e;)Qv(t,e),e=cr(e.nextSibling)}if(Og(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){un=cr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}un=null}}else un=hn?cr(t.stateNode.nextSibling):null;return!0}function Yv(){for(var t=un;t;)t=cr(t.nextSibling)}function Ao(){un=hn=null,Ze=!1}function fp(t){zn===null?zn=[t]:zn.push(t)}var $1=Ui.ReactCurrentBatchConfig;function Aa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var i=n.stateNode}if(!i)throw Error(Y(147,t));var s=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var h=s.refs;l===null?delete h[o]:h[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function Cu(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vg(t){var e=t._init;return e(t._payload)}function Xv(t){function e(N,P){if(t){var D=N.deletions;D===null?(N.deletions=[P],N.flags|=16):D.push(P)}}function n(N,P){if(!t)return null;for(;P!==null;)e(N,P),P=P.sibling;return null}function i(N,P){for(N=new Map;P!==null;)P.key!==null?N.set(P.key,P):N.set(P.index,P),P=P.sibling;return N}function s(N,P){return N=pr(N,P),N.index=0,N.sibling=null,N}function o(N,P,D){return N.index=D,t?(D=N.alternate,D!==null?(D=D.index,D<P?(N.flags|=2,P):D):(N.flags|=2,P)):(N.flags|=1048576,P)}function l(N){return t&&N.alternate===null&&(N.flags|=2),N}function h(N,P,D,W){return P===null||P.tag!==6?(P=cf(D,N.mode,W),P.return=N,P):(P=s(P,D),P.return=N,P)}function d(N,P,D,W){var z=D.type;return z===io?y(N,P,D.props.children,W,D.key):P!==null&&(P.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===er&&Vg(z)===P.type)?(W=s(P,D.props),W.ref=Aa(N,P,D),W.return=N,W):(W=Gu(D.type,D.key,D.props,null,N.mode,W),W.ref=Aa(N,P,D),W.return=N,W)}function m(N,P,D,W){return P===null||P.tag!==4||P.stateNode.containerInfo!==D.containerInfo||P.stateNode.implementation!==D.implementation?(P=hf(D,N.mode,W),P.return=N,P):(P=s(P,D.children||[]),P.return=N,P)}function y(N,P,D,W,z){return P===null||P.tag!==7?(P=rs(D,N.mode,W,z),P.return=N,P):(P=s(P,D),P.return=N,P)}function w(N,P,D){if(typeof P=="string"&&P!==""||typeof P=="number")return P=cf(""+P,N.mode,D),P.return=N,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case mu:return D=Gu(P.type,P.key,P.props,null,N.mode,D),D.ref=Aa(N,null,P),D.return=N,D;case no:return P=hf(P,N.mode,D),P.return=N,P;case er:var W=P._init;return w(N,W(P._payload),D)}if(Da(P)||Ea(P))return P=rs(P,N.mode,D,null),P.return=N,P;Cu(N,P)}return null}function T(N,P,D,W){var z=P!==null?P.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return z!==null?null:h(N,P,""+D,W);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case mu:return D.key===z?d(N,P,D,W):null;case no:return D.key===z?m(N,P,D,W):null;case er:return z=D._init,T(N,P,z(D._payload),W)}if(Da(D)||Ea(D))return z!==null?null:y(N,P,D,W,null);Cu(N,D)}return null}function b(N,P,D,W,z){if(typeof W=="string"&&W!==""||typeof W=="number")return N=N.get(D)||null,h(P,N,""+W,z);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case mu:return N=N.get(W.key===null?D:W.key)||null,d(P,N,W,z);case no:return N=N.get(W.key===null?D:W.key)||null,m(P,N,W,z);case er:var J=W._init;return b(N,P,D,J(W._payload),z)}if(Da(W)||Ea(W))return N=N.get(D)||null,y(P,N,W,z,null);Cu(P,W)}return null}function U(N,P,D,W){for(var z=null,J=null,S=P,I=P=0,C=null;S!==null&&I<D.length;I++){S.index>I?(C=S,S=null):C=S.sibling;var R=T(N,S,D[I],W);if(R===null){S===null&&(S=C);break}t&&S&&R.alternate===null&&e(N,S),P=o(R,P,I),J===null?z=R:J.sibling=R,J=R,S=C}if(I===D.length)return n(N,S),Ze&&Kr(N,I),z;if(S===null){for(;I<D.length;I++)S=w(N,D[I],W),S!==null&&(P=o(S,P,I),J===null?z=S:J.sibling=S,J=S);return Ze&&Kr(N,I),z}for(S=i(N,S);I<D.length;I++)C=b(S,N,I,D[I],W),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?I:C.key),P=o(C,P,I),J===null?z=C:J.sibling=C,J=C);return t&&S.forEach(function(k){return e(N,k)}),Ze&&Kr(N,I),z}function F(N,P,D,W){var z=Ea(D);if(typeof z!="function")throw Error(Y(150));if(D=z.call(D),D==null)throw Error(Y(151));for(var J=z=null,S=P,I=P=0,C=null,R=D.next();S!==null&&!R.done;I++,R=D.next()){S.index>I?(C=S,S=null):C=S.sibling;var k=T(N,S,R.value,W);if(k===null){S===null&&(S=C);break}t&&S&&k.alternate===null&&e(N,S),P=o(k,P,I),J===null?z=k:J.sibling=k,J=k,S=C}if(R.done)return n(N,S),Ze&&Kr(N,I),z;if(S===null){for(;!R.done;I++,R=D.next())R=w(N,R.value,W),R!==null&&(P=o(R,P,I),J===null?z=R:J.sibling=R,J=R);return Ze&&Kr(N,I),z}for(S=i(N,S);!R.done;I++,R=D.next())R=b(S,N,I,R.value,W),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?I:R.key),P=o(R,P,I),J===null?z=R:J.sibling=R,J=R);return t&&S.forEach(function(M){return e(N,M)}),Ze&&Kr(N,I),z}function Z(N,P,D,W){if(typeof D=="object"&&D!==null&&D.type===io&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case mu:e:{for(var z=D.key,J=P;J!==null;){if(J.key===z){if(z=D.type,z===io){if(J.tag===7){n(N,J.sibling),P=s(J,D.props.children),P.return=N,N=P;break e}}else if(J.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===er&&Vg(z)===J.type){n(N,J.sibling),P=s(J,D.props),P.ref=Aa(N,J,D),P.return=N,N=P;break e}n(N,J);break}else e(N,J);J=J.sibling}D.type===io?(P=rs(D.props.children,N.mode,W,D.key),P.return=N,N=P):(W=Gu(D.type,D.key,D.props,null,N.mode,W),W.ref=Aa(N,P,D),W.return=N,N=W)}return l(N);case no:e:{for(J=D.key;P!==null;){if(P.key===J)if(P.tag===4&&P.stateNode.containerInfo===D.containerInfo&&P.stateNode.implementation===D.implementation){n(N,P.sibling),P=s(P,D.children||[]),P.return=N,N=P;break e}else{n(N,P);break}else e(N,P);P=P.sibling}P=hf(D,N.mode,W),P.return=N,N=P}return l(N);case er:return J=D._init,Z(N,P,J(D._payload),W)}if(Da(D))return U(N,P,D,W);if(Ea(D))return F(N,P,D,W);Cu(N,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,P!==null&&P.tag===6?(n(N,P.sibling),P=s(P,D),P.return=N,N=P):(n(N,P),P=cf(D,N.mode,W),P.return=N,N=P),l(N)):n(N,P)}return Z}var xo=Xv(!0),Jv=Xv(!1),gc=xr(null),_c=null,ho=null,dp=null;function pp(){dp=ho=_c=null}function mp(t){var e=gc.current;$e(gc),t._currentValue=e}function nd(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function vo(t,e){_c=t,dp=ho=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(en=!0),t.firstContext=null)}function Rn(t){var e=t._currentValue;if(dp!==t)if(t={context:t,memoizedValue:e,next:null},ho===null){if(_c===null)throw Error(Y(308));ho=t,_c.dependencies={lanes:0,firstContext:t}}else ho=ho.next=t;return e}var Jr=null;function gp(t){Jr===null?Jr=[t]:Jr.push(t)}function ew(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,gp(e)):(n.next=s.next,s.next=n),e.interleaved=n,Mi(t,i)}function Mi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var tr=!1;function _p(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ni(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function hr(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Le&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,Mi(t,n)}return s=i.interleaved,s===null?(e.next=e,gp(i)):(e.next=s.next,s.next=e),i.interleaved=e,Mi(t,n)}function ju(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,np(t,n)}}function Fg(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function yc(t,e,n,i){var s=t.updateQueue;tr=!1;var o=s.firstBaseUpdate,l=s.lastBaseUpdate,h=s.shared.pending;if(h!==null){s.shared.pending=null;var d=h,m=d.next;d.next=null,l===null?o=m:l.next=m,l=d;var y=t.alternate;y!==null&&(y=y.updateQueue,h=y.lastBaseUpdate,h!==l&&(h===null?y.firstBaseUpdate=m:h.next=m,y.lastBaseUpdate=d))}if(o!==null){var w=s.baseState;l=0,y=m=d=null,h=o;do{var T=h.lane,b=h.eventTime;if((i&T)===T){y!==null&&(y=y.next={eventTime:b,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var U=t,F=h;switch(T=e,b=n,F.tag){case 1:if(U=F.payload,typeof U=="function"){w=U.call(b,w,T);break e}w=U;break e;case 3:U.flags=U.flags&-65537|128;case 0:if(U=F.payload,T=typeof U=="function"?U.call(b,w,T):U,T==null)break e;w=Ye({},w,T);break e;case 2:tr=!0}}h.callback!==null&&h.lane!==0&&(t.flags|=64,T=s.effects,T===null?s.effects=[h]:T.push(h))}else b={eventTime:b,lane:T,tag:h.tag,payload:h.payload,callback:h.callback,next:null},y===null?(m=y=b,d=w):y=y.next=b,l|=T;if(h=h.next,h===null){if(h=s.shared.pending,h===null)break;T=h,h=T.next,T.next=null,s.lastBaseUpdate=T,s.shared.pending=null}}while(!0);if(y===null&&(d=w),s.baseState=d,s.firstBaseUpdate=m,s.lastBaseUpdate=y,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);hs|=l,t.lanes=l,t.memoizedState=w}}function zg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(Y(191,s));s.call(i)}}}var Rl={},oi=xr(Rl),hl=xr(Rl),fl=xr(Rl);function es(t){if(t===Rl)throw Error(Y(174));return t}function yp(t,e){switch(He(fl,e),He(hl,t),He(oi,Rl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Of(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Of(e,t)}$e(oi),He(oi,e)}function Ro(){$e(oi),$e(hl),$e(fl)}function nw(t){es(fl.current);var e=es(oi.current),n=Of(e,t.type);e!==n&&(He(hl,t),He(oi,n))}function vp(t){hl.current===t&&($e(oi),$e(hl))}var Ke=xr(0);function vc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rf=[];function wp(){for(var t=0;t<rf.length;t++)rf[t]._workInProgressVersionPrimary=null;rf.length=0}var Hu=Ui.ReactCurrentDispatcher,sf=Ui.ReactCurrentBatchConfig,cs=0,Qe=null,pt=null,Tt=null,wc=!1,Wa=!1,dl=0,Z1=0;function kt(){throw Error(Y(321))}function Tp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qn(t[n],e[n]))return!1;return!0}function Ep(t,e,n,i,s,o){if(cs=o,Qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hu.current=t===null||t.memoizedState===null?Y1:X1,t=n(i,s),Wa){o=0;do{if(Wa=!1,dl=0,25<=o)throw Error(Y(301));o+=1,Tt=pt=null,e.updateQueue=null,Hu.current=J1,t=n(i,s)}while(Wa)}if(Hu.current=Tc,e=pt!==null&&pt.next!==null,cs=0,Tt=pt=Qe=null,wc=!1,e)throw Error(Y(300));return t}function Ip(){var t=dl!==0;return dl=0,t}function ni(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Qe.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function kn(){if(pt===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var e=Tt===null?Qe.memoizedState:Tt.next;if(e!==null)Tt=e,pt=t;else{if(t===null)throw Error(Y(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Tt===null?Qe.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function pl(t,e){return typeof e=="function"?e(t):e}function of(t){var e=kn(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var i=pt,s=i.baseQueue,o=n.pending;if(o!==null){if(s!==null){var l=s.next;s.next=o.next,o.next=l}i.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,i=i.baseState;var h=l=null,d=null,m=o;do{var y=m.lane;if((cs&y)===y)d!==null&&(d=d.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),i=m.hasEagerState?m.eagerState:t(i,m.action);else{var w={lane:y,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};d===null?(h=d=w,l=i):d=d.next=w,Qe.lanes|=y,hs|=y}m=m.next}while(m!==null&&m!==o);d===null?l=i:d.next=h,qn(i,e.memoizedState)||(en=!0),e.memoizedState=i,e.baseState=l,e.baseQueue=d,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do o=s.lane,Qe.lanes|=o,hs|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function af(t){var e=kn(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do o=t(o,l.action),l=l.next;while(l!==s);qn(o,e.memoizedState)||(en=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function iw(){}function rw(t,e){var n=Qe,i=kn(),s=e(),o=!qn(i.memoizedState,s);if(o&&(i.memoizedState=s,en=!0),i=i.queue,Sp(aw.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,ml(9,ow.bind(null,n,i,s,e),void 0,null),Et===null)throw Error(Y(349));cs&30||sw(n,e,s)}return s}function sw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ow(t,e,n,i){e.value=n,e.getSnapshot=i,lw(e)&&uw(t)}function aw(t,e,n){return n(function(){lw(e)&&uw(t)})}function lw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qn(t,n)}catch{return!0}}function uw(t){var e=Mi(t,1);e!==null&&jn(e,t,1,-1)}function Bg(t){var e=ni();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:t},e.queue=t,t=t.dispatch=Q1.bind(null,Qe,t),[e.memoizedState,t]}function ml(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function cw(){return kn().memoizedState}function qu(t,e,n,i){var s=ni();Qe.flags|=t,s.memoizedState=ml(1|e,n,void 0,i===void 0?null:i)}function Yc(t,e,n,i){var s=kn();i=i===void 0?null:i;var o=void 0;if(pt!==null){var l=pt.memoizedState;if(o=l.destroy,i!==null&&Tp(i,l.deps)){s.memoizedState=ml(e,n,o,i);return}}Qe.flags|=t,s.memoizedState=ml(1|e,n,o,i)}function Ug(t,e){return qu(8390656,8,t,e)}function Sp(t,e){return Yc(2048,8,t,e)}function hw(t,e){return Yc(4,2,t,e)}function fw(t,e){return Yc(4,4,t,e)}function dw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pw(t,e,n){return n=n!=null?n.concat([t]):null,Yc(4,4,dw.bind(null,e,t),n)}function Pp(){}function mw(t,e){var n=kn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Tp(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function gw(t,e){var n=kn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Tp(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function _w(t,e,n){return cs&21?(qn(n,e)||(n=Ev(),Qe.lanes|=n,hs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,en=!0),t.memoizedState=n)}function G1(t,e){var n=Fe;Fe=n!==0&&4>n?n:4,t(!0);var i=sf.transition;sf.transition={};try{t(!1),e()}finally{Fe=n,sf.transition=i}}function yw(){return kn().memoizedState}function K1(t,e,n){var i=dr(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},vw(t))ww(e,n);else if(n=ew(t,e,n,i),n!==null){var s=jt();jn(n,t,i,s),Tw(n,e,i)}}function Q1(t,e,n){var i=dr(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(vw(t))ww(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,h=o(l,n);if(s.hasEagerState=!0,s.eagerState=h,qn(h,l)){var d=e.interleaved;d===null?(s.next=s,gp(e)):(s.next=d.next,d.next=s),e.interleaved=s;return}}catch{}finally{}n=ew(t,e,s,i),n!==null&&(s=jt(),jn(n,t,i,s),Tw(n,e,i))}}function vw(t){var e=t.alternate;return t===Qe||e!==null&&e===Qe}function ww(t,e){Wa=wc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Tw(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,np(t,n)}}var Tc={readContext:Rn,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},Y1={readContext:Rn,useCallback:function(t,e){return ni().memoizedState=[t,e===void 0?null:e],t},useContext:Rn,useEffect:Ug,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qu(4194308,4,dw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qu(4194308,4,t,e)},useInsertionEffect:function(t,e){return qu(4,2,t,e)},useMemo:function(t,e){var n=ni();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=ni();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=K1.bind(null,Qe,t),[i.memoizedState,t]},useRef:function(t){var e=ni();return t={current:t},e.memoizedState=t},useState:Bg,useDebugValue:Pp,useDeferredValue:function(t){return ni().memoizedState=t},useTransition:function(){var t=Bg(!1),e=t[0];return t=G1.bind(null,t[1]),ni().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Qe,s=ni();if(Ze){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),Et===null)throw Error(Y(349));cs&30||sw(i,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,Ug(aw.bind(null,i,o,t),[t]),i.flags|=2048,ml(9,ow.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=ni(),e=Et.identifierPrefix;if(Ze){var n=Li,i=ki;n=(i&~(1<<32-Un(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=dl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Z1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},X1={readContext:Rn,useCallback:mw,useContext:Rn,useEffect:Sp,useImperativeHandle:pw,useInsertionEffect:hw,useLayoutEffect:fw,useMemo:gw,useReducer:of,useRef:cw,useState:function(){return of(pl)},useDebugValue:Pp,useDeferredValue:function(t){var e=kn();return _w(e,pt.memoizedState,t)},useTransition:function(){var t=of(pl)[0],e=kn().memoizedState;return[t,e]},useMutableSource:iw,useSyncExternalStore:rw,useId:yw,unstable_isNewReconciler:!1},J1={readContext:Rn,useCallback:mw,useContext:Rn,useEffect:Sp,useImperativeHandle:pw,useInsertionEffect:hw,useLayoutEffect:fw,useMemo:gw,useReducer:af,useRef:cw,useState:function(){return af(pl)},useDebugValue:Pp,useDeferredValue:function(t){var e=kn();return pt===null?e.memoizedState=t:_w(e,pt.memoizedState,t)},useTransition:function(){var t=af(pl)[0],e=kn().memoizedState;return[t,e]},useMutableSource:iw,useSyncExternalStore:rw,useId:yw,unstable_isNewReconciler:!1};function Vn(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function id(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xc={isMounted:function(t){return(t=t._reactInternals)?vs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=jt(),s=dr(t),o=Ni(i,s);o.payload=e,n!=null&&(o.callback=n),e=hr(t,o,s),e!==null&&(jn(e,t,s,i),ju(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=jt(),s=dr(t),o=Ni(i,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=hr(t,o,s),e!==null&&(jn(e,t,s,i),ju(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=jt(),i=dr(t),s=Ni(n,i);s.tag=2,e!=null&&(s.callback=e),e=hr(t,s,i),e!==null&&(jn(e,t,i,n),ju(e,t,i))}};function jg(t,e,n,i,s,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,l):e.prototype&&e.prototype.isPureReactComponent?!al(n,i)||!al(s,o):!0}function Ew(t,e,n){var i=!1,s=wr,o=e.contextType;return typeof o=="object"&&o!==null?o=Rn(o):(s=nn(e)?ls:Ot.current,i=e.contextTypes,o=(i=i!=null)?Co(t,s):wr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xc,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function Hg(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Xc.enqueueReplaceState(e,e.state,null)}function rd(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},_p(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Rn(o):(o=nn(e)?ls:Ot.current,s.context=Co(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(id(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Xc.enqueueReplaceState(s,s.state,null),yc(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ko(t,e){try{var n="",i=e;do n+=AI(i),i=i.return;while(i);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function lf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function sd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var eS=typeof WeakMap=="function"?WeakMap:Map;function Iw(t,e,n){n=Ni(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Ic||(Ic=!0,md=i),sd(t,e)},n}function Sw(t,e,n){n=Ni(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){sd(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){sd(t,e),typeof i!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function qg(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new eS;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=pS.bind(null,t,e,n),e.then(t,t))}function Wg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $g(t,e,n,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ni(-1,1),e.tag=2,hr(n,e,1))),n.lanes|=1),t)}var tS=Ui.ReactCurrentOwner,en=!1;function Ut(t,e,n,i){e.child=t===null?Jv(e,null,n,i):xo(e,t.child,n,i)}function Zg(t,e,n,i,s){n=n.render;var o=e.ref;return vo(e,s),i=Ep(t,e,n,i,o,s),n=Ip(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Oi(t,e,s)):(Ze&&n&&cp(e),e.flags|=1,Ut(t,e,i,s),e.child)}function Gg(t,e,n,i,s){if(t===null){var o=n.type;return typeof o=="function"&&!Dp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Pw(t,e,o,i,s)):(t=Gu(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:al,n(l,i)&&t.ref===e.ref)return Oi(t,e,s)}return e.flags|=1,t=pr(o,i),t.ref=e.ref,t.return=e,e.child=t}function Pw(t,e,n,i,s){if(t!==null){var o=t.memoizedProps;if(al(o,i)&&t.ref===e.ref)if(en=!1,e.pendingProps=i=o,(t.lanes&s)!==0)t.flags&131072&&(en=!0);else return e.lanes=t.lanes,Oi(t,e,s)}return od(t,e,n,i,s)}function Cw(t,e,n){var i=e.pendingProps,s=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(po,ln),ln|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He(po,ln),ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,He(po,ln),ln|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,He(po,ln),ln|=i;return Ut(t,e,s,n),e.child}function Aw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function od(t,e,n,i,s){var o=nn(n)?ls:Ot.current;return o=Co(e,o),vo(e,s),n=Ep(t,e,n,i,o,s),i=Ip(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Oi(t,e,s)):(Ze&&i&&cp(e),e.flags|=1,Ut(t,e,n,s),e.child)}function Kg(t,e,n,i,s){if(nn(n)){var o=!0;dc(e)}else o=!1;if(vo(e,s),e.stateNode===null)Wu(t,e),Ew(e,n,i),rd(e,n,i,s),i=!0;else if(t===null){var l=e.stateNode,h=e.memoizedProps;l.props=h;var d=l.context,m=n.contextType;typeof m=="object"&&m!==null?m=Rn(m):(m=nn(n)?ls:Ot.current,m=Co(e,m));var y=n.getDerivedStateFromProps,w=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function";w||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(h!==i||d!==m)&&Hg(e,l,i,m),tr=!1;var T=e.memoizedState;l.state=T,yc(e,i,l,s),d=e.memoizedState,h!==i||T!==d||tn.current||tr?(typeof y=="function"&&(id(e,n,y,i),d=e.memoizedState),(h=tr||jg(e,n,h,i,T,d,m))?(w||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=d),l.props=i,l.state=d,l.context=m,i=h):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{l=e.stateNode,tw(t,e),h=e.memoizedProps,m=e.type===e.elementType?h:Vn(e.type,h),l.props=m,w=e.pendingProps,T=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=Rn(d):(d=nn(n)?ls:Ot.current,d=Co(e,d));var b=n.getDerivedStateFromProps;(y=typeof b=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(h!==w||T!==d)&&Hg(e,l,i,d),tr=!1,T=e.memoizedState,l.state=T,yc(e,i,l,s);var U=e.memoizedState;h!==w||T!==U||tn.current||tr?(typeof b=="function"&&(id(e,n,b,i),U=e.memoizedState),(m=tr||jg(e,n,m,i,T,U,d)||!1)?(y||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,U,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,U,d)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||h===t.memoizedProps&&T===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&T===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=U),l.props=i,l.state=U,l.context=d,i=m):(typeof l.componentDidUpdate!="function"||h===t.memoizedProps&&T===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&T===t.memoizedState||(e.flags|=1024),i=!1)}return ad(t,e,n,i,o,s)}function ad(t,e,n,i,s,o){Aw(t,e);var l=(e.flags&128)!==0;if(!i&&!l)return s&&bg(e,n,!1),Oi(t,e,o);i=e.stateNode,tS.current=e;var h=l&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&l?(e.child=xo(e,t.child,null,o),e.child=xo(e,null,h,o)):Ut(t,e,h,o),e.memoizedState=i.state,s&&bg(e,n,!0),e.child}function xw(t){var e=t.stateNode;e.pendingContext?Dg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Dg(t,e.context,!1),yp(t,e.containerInfo)}function Qg(t,e,n,i,s){return Ao(),fp(s),e.flags|=256,Ut(t,e,n,i),e.child}var ld={dehydrated:null,treeContext:null,retryLane:0};function ud(t){return{baseLanes:t,cachePool:null,transitions:null}}function Rw(t,e,n){var i=e.pendingProps,s=Ke.current,o=!1,l=(e.flags&128)!==0,h;if((h=l)||(h=t!==null&&t.memoizedState===null?!1:(s&2)!==0),h?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),He(Ke,s&1),t===null)return td(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=i.children,t=i.fallback,o?(i=e.mode,o=e.child,l={mode:"hidden",children:l},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=th(l,i,0,null),t=rs(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=ud(n),e.memoizedState=ld,t):Cp(e,l));if(s=t.memoizedState,s!==null&&(h=s.dehydrated,h!==null))return nS(t,e,l,i,h,s,n);if(o){o=i.fallback,l=e.mode,s=t.child,h=s.sibling;var d={mode:"hidden",children:i.children};return!(l&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=d,e.deletions=null):(i=pr(s,d),i.subtreeFlags=s.subtreeFlags&14680064),h!==null?o=pr(h,o):(o=rs(o,l,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,l=t.child.memoizedState,l=l===null?ud(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=ld,i}return o=t.child,t=o.sibling,i=pr(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Cp(t,e){return e=th({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Au(t,e,n,i){return i!==null&&fp(i),xo(e,t.child,null,n),t=Cp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nS(t,e,n,i,s,o,l){if(n)return e.flags&256?(e.flags&=-257,i=lf(Error(Y(422))),Au(t,e,l,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,s=e.mode,i=th({mode:"visible",children:i.children},s,0,null),o=rs(o,s,l,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&xo(e,t.child,null,l),e.child.memoizedState=ud(l),e.memoizedState=ld,o);if(!(e.mode&1))return Au(t,e,l,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var h=i.dgst;return i=h,o=Error(Y(419)),i=lf(o,i,void 0),Au(t,e,l,i)}if(h=(l&t.childLanes)!==0,en||h){if(i=Et,i!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|l)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Mi(t,s),jn(i,t,s,-1))}return Np(),i=lf(Error(Y(421))),Au(t,e,l,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=mS.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,un=cr(s.nextSibling),hn=e,Ze=!0,zn=null,t!==null&&(In[Sn++]=ki,In[Sn++]=Li,In[Sn++]=us,ki=t.id,Li=t.overflow,us=e),e=Cp(e,i.children),e.flags|=4096,e)}function Yg(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),nd(t.return,e,n)}function uf(t,e,n,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=s)}function kw(t,e,n){var i=e.pendingProps,s=i.revealOrder,o=i.tail;if(Ut(t,e,i.children,n),i=Ke.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yg(t,n,e);else if(t.tag===19)Yg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(He(Ke,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&vc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),uf(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&vc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}uf(e,!0,n,null,o);break;case"together":uf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Oi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=pr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=pr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function iS(t,e,n){switch(e.tag){case 3:xw(e),Ao();break;case 5:nw(e);break;case 1:nn(e.type)&&dc(e);break;case 4:yp(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;He(gc,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(He(Ke,Ke.current&1),e.flags|=128,null):n&e.child.childLanes?Rw(t,e,n):(He(Ke,Ke.current&1),t=Oi(t,e,n),t!==null?t.sibling:null);He(Ke,Ke.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return kw(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),He(Ke,Ke.current),i)break;return null;case 22:case 23:return e.lanes=0,Cw(t,e,n)}return Oi(t,e,n)}var Lw,cd,Nw,Dw;Lw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cd=function(){};Nw=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,es(oi.current);var o=null;switch(n){case"input":s=Nf(t,s),i=Nf(t,i),o=[];break;case"select":s=Ye({},s,{value:void 0}),i=Ye({},i,{value:void 0}),o=[];break;case"textarea":s=Mf(t,s),i=Mf(t,i),o=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=hc)}Vf(n,i);var l;n=null;for(m in s)if(!i.hasOwnProperty(m)&&s.hasOwnProperty(m)&&s[m]!=null)if(m==="style"){var h=s[m];for(l in h)h.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(el.hasOwnProperty(m)?o||(o=[]):(o=o||[]).push(m,null));for(m in i){var d=i[m];if(h=s!=null?s[m]:void 0,i.hasOwnProperty(m)&&d!==h&&(d!=null||h!=null))if(m==="style")if(h){for(l in h)!h.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&h[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(o||(o=[]),o.push(m,n)),n=d;else m==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,h=h?h.__html:void 0,d!=null&&h!==d&&(o=o||[]).push(m,d)):m==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(m,""+d):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(el.hasOwnProperty(m)?(d!=null&&m==="onScroll"&&qe("scroll",t),o||h===d||(o=[])):(o=o||[]).push(m,d))}n&&(o=o||[]).push("style",n);var m=o;(e.updateQueue=m)&&(e.flags|=4)}};Dw=function(t,e,n,i){n!==i&&(e.flags|=4)};function xa(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function rS(t,e,n){var i=e.pendingProps;switch(hp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(e),null;case 1:return nn(e.type)&&fc(),Lt(e),null;case 3:return i=e.stateNode,Ro(),$e(tn),$e(Ot),wp(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Pu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zn!==null&&(yd(zn),zn=null))),cd(t,e),Lt(e),null;case 5:vp(e);var s=es(fl.current);if(n=e.type,t!==null&&e.stateNode!=null)Nw(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Y(166));return Lt(e),null}if(t=es(oi.current),Pu(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[ri]=e,i[cl]=o,t=(e.mode&1)!==0,n){case"dialog":qe("cancel",i),qe("close",i);break;case"iframe":case"object":case"embed":qe("load",i);break;case"video":case"audio":for(s=0;s<Ma.length;s++)qe(Ma[s],i);break;case"source":qe("error",i);break;case"img":case"image":case"link":qe("error",i),qe("load",i);break;case"details":qe("toggle",i);break;case"input":og(i,o),qe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},qe("invalid",i);break;case"textarea":lg(i,o),qe("invalid",i)}Vf(n,o),s=null;for(var l in o)if(o.hasOwnProperty(l)){var h=o[l];l==="children"?typeof h=="string"?i.textContent!==h&&(o.suppressHydrationWarning!==!0&&Su(i.textContent,h,t),s=["children",h]):typeof h=="number"&&i.textContent!==""+h&&(o.suppressHydrationWarning!==!0&&Su(i.textContent,h,t),s=["children",""+h]):el.hasOwnProperty(l)&&h!=null&&l==="onScroll"&&qe("scroll",i)}switch(n){case"input":gu(i),ag(i,o,!0);break;case"textarea":gu(i),ug(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=hc)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=av(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),n==="select"&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[ri]=e,t[cl]=i,Lw(t,e,!1,!1),e.stateNode=t;e:{switch(l=Ff(n,i),n){case"dialog":qe("cancel",t),qe("close",t),s=i;break;case"iframe":case"object":case"embed":qe("load",t),s=i;break;case"video":case"audio":for(s=0;s<Ma.length;s++)qe(Ma[s],t);s=i;break;case"source":qe("error",t),s=i;break;case"img":case"image":case"link":qe("error",t),qe("load",t),s=i;break;case"details":qe("toggle",t),s=i;break;case"input":og(t,i),s=Nf(t,i),qe("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=Ye({},i,{value:void 0}),qe("invalid",t);break;case"textarea":lg(t,i),s=Mf(t,i),qe("invalid",t);break;default:s=i}Vf(n,s),h=s;for(o in h)if(h.hasOwnProperty(o)){var d=h[o];o==="style"?cv(t,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&lv(t,d)):o==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&tl(t,d):typeof d=="number"&&tl(t,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(el.hasOwnProperty(o)?d!=null&&o==="onScroll"&&qe("scroll",t):d!=null&&Qd(t,o,d,l))}switch(n){case"input":gu(t),ag(t,i,!1);break;case"textarea":gu(t),ug(t);break;case"option":i.value!=null&&t.setAttribute("value",""+vr(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?mo(t,!!i.multiple,o,!1):i.defaultValue!=null&&mo(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=hc)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lt(e),null;case 6:if(t&&e.stateNode!=null)Dw(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Y(166));if(n=es(fl.current),es(oi.current),Pu(e)){if(i=e.stateNode,n=e.memoizedProps,i[ri]=e,(o=i.nodeValue!==n)&&(t=hn,t!==null))switch(t.tag){case 3:Su(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Su(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[ri]=e,e.stateNode=i}return Lt(e),null;case 13:if($e(Ke),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&un!==null&&e.mode&1&&!(e.flags&128))Yv(),Ao(),e.flags|=98560,o=!1;else if(o=Pu(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(Y(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Y(317));o[ri]=e}else Ao(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lt(e),o=!1}else zn!==null&&(yd(zn),zn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Ke.current&1?mt===0&&(mt=3):Np())),e.updateQueue!==null&&(e.flags|=4),Lt(e),null);case 4:return Ro(),cd(t,e),t===null&&ll(e.stateNode.containerInfo),Lt(e),null;case 10:return mp(e.type._context),Lt(e),null;case 17:return nn(e.type)&&fc(),Lt(e),null;case 19:if($e(Ke),o=e.memoizedState,o===null)return Lt(e),null;if(i=(e.flags&128)!==0,l=o.rendering,l===null)if(i)xa(o,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=vc(t),l!==null){for(e.flags|=128,xa(o,!1),i=l.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return He(Ke,Ke.current&1|2),e.child}t=t.sibling}o.tail!==null&&st()>Lo&&(e.flags|=128,i=!0,xa(o,!1),e.lanes=4194304)}else{if(!i)if(t=vc(l),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Ze)return Lt(e),null}else 2*st()-o.renderingStartTime>Lo&&n!==1073741824&&(e.flags|=128,i=!0,xa(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(n=o.last,n!==null?n.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=st(),e.sibling=null,n=Ke.current,He(Ke,i?n&1|2:n&1),e):(Lt(e),null);case 22:case 23:return Lp(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?ln&1073741824&&(Lt(e),e.subtreeFlags&6&&(e.flags|=8192)):Lt(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function sS(t,e){switch(hp(e),e.tag){case 1:return nn(e.type)&&fc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ro(),$e(tn),$e(Ot),wp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vp(e),null;case 13:if($e(Ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));Ao()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(Ke),null;case 4:return Ro(),null;case 10:return mp(e.type._context),null;case 22:case 23:return Lp(),null;case 24:return null;default:return null}}var xu=!1,bt=!1,oS=typeof WeakSet=="function"?WeakSet:Set,se=null;function fo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){et(t,e,i)}else n.current=null}function hd(t,e,n){try{n()}catch(i){et(t,e,i)}}var Xg=!1;function aS(t,e){if(Gf=lc,t=Fv(),up(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,h=-1,d=-1,m=0,y=0,w=t,T=null;t:for(;;){for(var b;w!==n||s!==0&&w.nodeType!==3||(h=l+s),w!==o||i!==0&&w.nodeType!==3||(d=l+i),w.nodeType===3&&(l+=w.nodeValue.length),(b=w.firstChild)!==null;)T=w,w=b;for(;;){if(w===t)break t;if(T===n&&++m===s&&(h=l),T===o&&++y===i&&(d=l),(b=w.nextSibling)!==null)break;w=T,T=w.parentNode}w=b}n=h===-1||d===-1?null:{start:h,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kf={focusedElem:t,selectionRange:n},lc=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var U=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(U!==null){var F=U.memoizedProps,Z=U.memoizedState,N=e.stateNode,P=N.getSnapshotBeforeUpdate(e.elementType===e.type?F:Vn(e.type,F),Z);N.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var D=e.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(W){et(e,e.return,W)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return U=Xg,Xg=!1,U}function $a(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&hd(e,n,o)}s=s.next}while(s!==i)}}function Jc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function fd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bw(t){var e=t.alternate;e!==null&&(t.alternate=null,bw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ri],delete e[cl],delete e[Xf],delete e[H1],delete e[q1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Mw(t){return t.tag===5||t.tag===3||t.tag===4}function Jg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Mw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dd(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hc));else if(i!==4&&(t=t.child,t!==null))for(dd(t,e,n),t=t.sibling;t!==null;)dd(t,e,n),t=t.sibling}function pd(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(pd(t,e,n),t=t.sibling;t!==null;)pd(t,e,n),t=t.sibling}var It=null,Fn=!1;function Ji(t,e,n){for(n=n.child;n!==null;)Ow(t,e,n),n=n.sibling}function Ow(t,e,n){if(si&&typeof si.onCommitFiberUnmount=="function")try{si.onCommitFiberUnmount(Wc,n)}catch{}switch(n.tag){case 5:bt||fo(n,e);case 6:var i=It,s=Fn;It=null,Ji(t,e,n),It=i,Fn=s,It!==null&&(Fn?(t=It,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&(Fn?(t=It,n=n.stateNode,t.nodeType===8?tf(t.parentNode,n):t.nodeType===1&&tf(t,n),sl(t)):tf(It,n.stateNode));break;case 4:i=It,s=Fn,It=n.stateNode.containerInfo,Fn=!0,Ji(t,e,n),It=i,Fn=s;break;case 0:case 11:case 14:case 15:if(!bt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var o=s,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&hd(n,e,l),s=s.next}while(s!==i)}Ji(t,e,n);break;case 1:if(!bt&&(fo(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(h){et(n,e,h)}Ji(t,e,n);break;case 21:Ji(t,e,n);break;case 22:n.mode&1?(bt=(i=bt)||n.memoizedState!==null,Ji(t,e,n),bt=i):Ji(t,e,n);break;default:Ji(t,e,n)}}function e_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new oS),e.forEach(function(i){var s=gS.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function On(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var o=t,l=e,h=l;e:for(;h!==null;){switch(h.tag){case 5:It=h.stateNode,Fn=!1;break e;case 3:It=h.stateNode.containerInfo,Fn=!0;break e;case 4:It=h.stateNode.containerInfo,Fn=!0;break e}h=h.return}if(It===null)throw Error(Y(160));Ow(o,l,s),It=null,Fn=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(m){et(s,e,m)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Vw(e,t),e=e.sibling}function Vw(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(On(e,t),ti(t),i&4){try{$a(3,t,t.return),Jc(3,t)}catch(F){et(t,t.return,F)}try{$a(5,t,t.return)}catch(F){et(t,t.return,F)}}break;case 1:On(e,t),ti(t),i&512&&n!==null&&fo(n,n.return);break;case 5:if(On(e,t),ti(t),i&512&&n!==null&&fo(n,n.return),t.flags&32){var s=t.stateNode;try{tl(s,"")}catch(F){et(t,t.return,F)}}if(i&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,h=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{h==="input"&&o.type==="radio"&&o.name!=null&&sv(s,o),Ff(h,l);var m=Ff(h,o);for(l=0;l<d.length;l+=2){var y=d[l],w=d[l+1];y==="style"?cv(s,w):y==="dangerouslySetInnerHTML"?lv(s,w):y==="children"?tl(s,w):Qd(s,y,w,m)}switch(h){case"input":Df(s,o);break;case"textarea":ov(s,o);break;case"select":var T=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var b=o.value;b!=null?mo(s,!!o.multiple,b,!1):T!==!!o.multiple&&(o.defaultValue!=null?mo(s,!!o.multiple,o.defaultValue,!0):mo(s,!!o.multiple,o.multiple?[]:"",!1))}s[cl]=o}catch(F){et(t,t.return,F)}}break;case 6:if(On(e,t),ti(t),i&4){if(t.stateNode===null)throw Error(Y(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(F){et(t,t.return,F)}}break;case 3:if(On(e,t),ti(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{sl(e.containerInfo)}catch(F){et(t,t.return,F)}break;case 4:On(e,t),ti(t);break;case 13:On(e,t),ti(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Rp=st())),i&4&&e_(t);break;case 22:if(y=n!==null&&n.memoizedState!==null,t.mode&1?(bt=(m=bt)||y,On(e,t),bt=m):On(e,t),ti(t),i&8192){if(m=t.memoizedState!==null,(t.stateNode.isHidden=m)&&!y&&t.mode&1)for(se=t,y=t.child;y!==null;){for(w=se=y;se!==null;){switch(T=se,b=T.child,T.tag){case 0:case 11:case 14:case 15:$a(4,T,T.return);break;case 1:fo(T,T.return);var U=T.stateNode;if(typeof U.componentWillUnmount=="function"){i=T,n=T.return;try{e=i,U.props=e.memoizedProps,U.state=e.memoizedState,U.componentWillUnmount()}catch(F){et(i,n,F)}}break;case 5:fo(T,T.return);break;case 22:if(T.memoizedState!==null){n_(w);continue}}b!==null?(b.return=T,se=b):n_(w)}y=y.sibling}e:for(y=null,w=t;;){if(w.tag===5){if(y===null){y=w;try{s=w.stateNode,m?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(h=w.stateNode,d=w.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,h.style.display=uv("display",l))}catch(F){et(t,t.return,F)}}}else if(w.tag===6){if(y===null)try{w.stateNode.nodeValue=m?"":w.memoizedProps}catch(F){et(t,t.return,F)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===t)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===t)break e;for(;w.sibling===null;){if(w.return===null||w.return===t)break e;y===w&&(y=null),w=w.return}y===w&&(y=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:On(e,t),ti(t),i&4&&e_(t);break;case 21:break;default:On(e,t),ti(t)}}function ti(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Mw(n)){var i=n;break e}n=n.return}throw Error(Y(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(tl(s,""),i.flags&=-33);var o=Jg(t);pd(t,o,s);break;case 3:case 4:var l=i.stateNode.containerInfo,h=Jg(t);dd(t,h,l);break;default:throw Error(Y(161))}}catch(d){et(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lS(t,e,n){se=t,Fw(t)}function Fw(t,e,n){for(var i=(t.mode&1)!==0;se!==null;){var s=se,o=s.child;if(s.tag===22&&i){var l=s.memoizedState!==null||xu;if(!l){var h=s.alternate,d=h!==null&&h.memoizedState!==null||bt;h=xu;var m=bt;if(xu=l,(bt=d)&&!m)for(se=s;se!==null;)l=se,d=l.child,l.tag===22&&l.memoizedState!==null?i_(s):d!==null?(d.return=l,se=d):i_(s);for(;o!==null;)se=o,Fw(o),o=o.sibling;se=s,xu=h,bt=m}t_(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,se=o):t_(t)}}function t_(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bt||Jc(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!bt)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Vn(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&zg(e,o,i);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zg(e,l,n)}break;case 5:var h=e.stateNode;if(n===null&&e.flags&4){n=h;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var m=e.alternate;if(m!==null){var y=m.memoizedState;if(y!==null){var w=y.dehydrated;w!==null&&sl(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}bt||e.flags&512&&fd(e)}catch(T){et(e,e.return,T)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function n_(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function i_(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Jc(4,e)}catch(d){et(e,n,d)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(d){et(e,s,d)}}var o=e.return;try{fd(e)}catch(d){et(e,o,d)}break;case 5:var l=e.return;try{fd(e)}catch(d){et(e,l,d)}}}catch(d){et(e,e.return,d)}if(e===t){se=null;break}var h=e.sibling;if(h!==null){h.return=e.return,se=h;break}se=e.return}}var uS=Math.ceil,Ec=Ui.ReactCurrentDispatcher,Ap=Ui.ReactCurrentOwner,An=Ui.ReactCurrentBatchConfig,Le=0,Et=null,ct=null,Ct=0,ln=0,po=xr(0),mt=0,gl=null,hs=0,eh=0,xp=0,Za=null,Xt=null,Rp=0,Lo=1/0,xi=null,Ic=!1,md=null,fr=null,Ru=!1,sr=null,Sc=0,Ga=0,gd=null,$u=-1,Zu=0;function jt(){return Le&6?st():$u!==-1?$u:$u=st()}function dr(t){return t.mode&1?Le&2&&Ct!==0?Ct&-Ct:$1.transition!==null?(Zu===0&&(Zu=Ev()),Zu):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:Rv(t.type)),t):1}function jn(t,e,n,i){if(50<Ga)throw Ga=0,gd=null,Error(Y(185));Cl(t,n,i),(!(Le&2)||t!==Et)&&(t===Et&&(!(Le&2)&&(eh|=n),mt===4&&ir(t,Ct)),rn(t,i),n===1&&Le===0&&!(e.mode&1)&&(Lo=st()+500,Qc&&Rr()))}function rn(t,e){var n=t.callbackNode;$I(t,e);var i=ac(t,t===Et?Ct:0);if(i===0)n!==null&&fg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&fg(n),e===1)t.tag===0?W1(r_.bind(null,t)):Gv(r_.bind(null,t)),U1(function(){!(Le&6)&&Rr()}),n=null;else{switch(Iv(i)){case 1:n=tp;break;case 4:n=wv;break;case 16:n=oc;break;case 536870912:n=Tv;break;default:n=oc}n=$w(n,zw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function zw(t,e){if($u=-1,Zu=0,Le&6)throw Error(Y(327));var n=t.callbackNode;if(wo()&&t.callbackNode!==n)return null;var i=ac(t,t===Et?Ct:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Pc(t,i);else{e=i;var s=Le;Le|=2;var o=Uw();(Et!==t||Ct!==e)&&(xi=null,Lo=st()+500,is(t,e));do try{fS();break}catch(h){Bw(t,h)}while(!0);pp(),Ec.current=o,Le=s,ct!==null?e=0:(Et=null,Ct=0,e=mt)}if(e!==0){if(e===2&&(s=Hf(t),s!==0&&(i=s,e=_d(t,s))),e===1)throw n=gl,is(t,0),ir(t,i),rn(t,st()),n;if(e===6)ir(t,i);else{if(s=t.current.alternate,!(i&30)&&!cS(s)&&(e=Pc(t,i),e===2&&(o=Hf(t),o!==0&&(i=o,e=_d(t,o))),e===1))throw n=gl,is(t,0),ir(t,i),rn(t,st()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(Y(345));case 2:Qr(t,Xt,xi);break;case 3:if(ir(t,i),(i&130023424)===i&&(e=Rp+500-st(),10<e)){if(ac(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){jt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Yf(Qr.bind(null,t,Xt,xi),e);break}Qr(t,Xt,xi);break;case 4:if(ir(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var l=31-Un(i);o=1<<l,l=e[l],l>s&&(s=l),i&=~o}if(i=s,i=st()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*uS(i/1960))-i,10<i){t.timeoutHandle=Yf(Qr.bind(null,t,Xt,xi),i);break}Qr(t,Xt,xi);break;case 5:Qr(t,Xt,xi);break;default:throw Error(Y(329))}}}return rn(t,st()),t.callbackNode===n?zw.bind(null,t):null}function _d(t,e){var n=Za;return t.current.memoizedState.isDehydrated&&(is(t,e).flags|=256),t=Pc(t,e),t!==2&&(e=Xt,Xt=n,e!==null&&yd(e)),t}function yd(t){Xt===null?Xt=t:Xt.push.apply(Xt,t)}function cS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],o=s.getSnapshot;s=s.value;try{if(!qn(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ir(t,e){for(e&=~xp,e&=~eh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Un(e),i=1<<n;t[n]=-1,e&=~i}}function r_(t){if(Le&6)throw Error(Y(327));wo();var e=ac(t,0);if(!(e&1))return rn(t,st()),null;var n=Pc(t,e);if(t.tag!==0&&n===2){var i=Hf(t);i!==0&&(e=i,n=_d(t,i))}if(n===1)throw n=gl,is(t,0),ir(t,e),rn(t,st()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qr(t,Xt,xi),rn(t,st()),null}function kp(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(Lo=st()+500,Qc&&Rr())}}function fs(t){sr!==null&&sr.tag===0&&!(Le&6)&&wo();var e=Le;Le|=1;var n=An.transition,i=Fe;try{if(An.transition=null,Fe=1,t)return t()}finally{Fe=i,An.transition=n,Le=e,!(Le&6)&&Rr()}}function Lp(){ln=po.current,$e(po)}function is(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,B1(n)),ct!==null)for(n=ct.return;n!==null;){var i=n;switch(hp(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&fc();break;case 3:Ro(),$e(tn),$e(Ot),wp();break;case 5:vp(i);break;case 4:Ro();break;case 13:$e(Ke);break;case 19:$e(Ke);break;case 10:mp(i.type._context);break;case 22:case 23:Lp()}n=n.return}if(Et=t,ct=t=pr(t.current,null),Ct=ln=e,mt=0,gl=null,xp=eh=hs=0,Xt=Za=null,Jr!==null){for(e=0;e<Jr.length;e++)if(n=Jr[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,o=n.pending;if(o!==null){var l=o.next;o.next=s,i.next=l}n.pending=i}Jr=null}return t}function Bw(t,e){do{var n=ct;try{if(pp(),Hu.current=Tc,wc){for(var i=Qe.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}wc=!1}if(cs=0,Tt=pt=Qe=null,Wa=!1,dl=0,Ap.current=null,n===null||n.return===null){mt=1,gl=e,ct=null;break}e:{var o=t,l=n.return,h=n,d=e;if(e=Ct,h.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var m=d,y=h,w=y.tag;if(!(y.mode&1)&&(w===0||w===11||w===15)){var T=y.alternate;T?(y.updateQueue=T.updateQueue,y.memoizedState=T.memoizedState,y.lanes=T.lanes):(y.updateQueue=null,y.memoizedState=null)}var b=Wg(l);if(b!==null){b.flags&=-257,$g(b,l,h,o,e),b.mode&1&&qg(o,m,e),e=b,d=m;var U=e.updateQueue;if(U===null){var F=new Set;F.add(d),e.updateQueue=F}else U.add(d);break e}else{if(!(e&1)){qg(o,m,e),Np();break e}d=Error(Y(426))}}else if(Ze&&h.mode&1){var Z=Wg(l);if(Z!==null){!(Z.flags&65536)&&(Z.flags|=256),$g(Z,l,h,o,e),fp(ko(d,h));break e}}o=d=ko(d,h),mt!==4&&(mt=2),Za===null?Za=[o]:Za.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var N=Iw(o,d,e);Fg(o,N);break e;case 1:h=d;var P=o.type,D=o.stateNode;if(!(o.flags&128)&&(typeof P.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(fr===null||!fr.has(D)))){o.flags|=65536,e&=-e,o.lanes|=e;var W=Sw(o,h,e);Fg(o,W);break e}}o=o.return}while(o!==null)}Hw(n)}catch(z){e=z,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(!0)}function Uw(){var t=Ec.current;return Ec.current=Tc,t===null?Tc:t}function Np(){(mt===0||mt===3||mt===2)&&(mt=4),Et===null||!(hs&268435455)&&!(eh&268435455)||ir(Et,Ct)}function Pc(t,e){var n=Le;Le|=2;var i=Uw();(Et!==t||Ct!==e)&&(xi=null,is(t,e));do try{hS();break}catch(s){Bw(t,s)}while(!0);if(pp(),Le=n,Ec.current=i,ct!==null)throw Error(Y(261));return Et=null,Ct=0,mt}function hS(){for(;ct!==null;)jw(ct)}function fS(){for(;ct!==null&&!VI();)jw(ct)}function jw(t){var e=Ww(t.alternate,t,ln);t.memoizedProps=t.pendingProps,e===null?Hw(t):ct=e,Ap.current=null}function Hw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=sS(n,e),n!==null){n.flags&=32767,ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,ct=null;return}}else if(n=rS(n,e,ln),n!==null){ct=n;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);mt===0&&(mt=5)}function Qr(t,e,n){var i=Fe,s=An.transition;try{An.transition=null,Fe=1,dS(t,e,n,i)}finally{An.transition=s,Fe=i}return null}function dS(t,e,n,i){do wo();while(sr!==null);if(Le&6)throw Error(Y(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(ZI(t,o),t===Et&&(ct=Et=null,Ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ru||(Ru=!0,$w(oc,function(){return wo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=An.transition,An.transition=null;var l=Fe;Fe=1;var h=Le;Le|=4,Ap.current=null,aS(t,n),Vw(n,t),D1(Kf),lc=!!Gf,Kf=Gf=null,t.current=n,lS(n),FI(),Le=h,Fe=l,An.transition=o}else t.current=n;if(Ru&&(Ru=!1,sr=t,Sc=s),o=t.pendingLanes,o===0&&(fr=null),UI(n.stateNode),rn(t,st()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(Ic)throw Ic=!1,t=md,md=null,t;return Sc&1&&t.tag!==0&&wo(),o=t.pendingLanes,o&1?t===gd?Ga++:(Ga=0,gd=t):Ga=0,Rr(),null}function wo(){if(sr!==null){var t=Iv(Sc),e=An.transition,n=Fe;try{if(An.transition=null,Fe=16>t?16:t,sr===null)var i=!1;else{if(t=sr,sr=null,Sc=0,Le&6)throw Error(Y(331));var s=Le;for(Le|=4,se=t.current;se!==null;){var o=se,l=o.child;if(se.flags&16){var h=o.deletions;if(h!==null){for(var d=0;d<h.length;d++){var m=h[d];for(se=m;se!==null;){var y=se;switch(y.tag){case 0:case 11:case 15:$a(8,y,o)}var w=y.child;if(w!==null)w.return=y,se=w;else for(;se!==null;){y=se;var T=y.sibling,b=y.return;if(bw(y),y===m){se=null;break}if(T!==null){T.return=b,se=T;break}se=b}}}var U=o.alternate;if(U!==null){var F=U.child;if(F!==null){U.child=null;do{var Z=F.sibling;F.sibling=null,F=Z}while(F!==null)}}se=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,se=l;else e:for(;se!==null;){if(o=se,o.flags&2048)switch(o.tag){case 0:case 11:case 15:$a(9,o,o.return)}var N=o.sibling;if(N!==null){N.return=o.return,se=N;break e}se=o.return}}var P=t.current;for(se=P;se!==null;){l=se;var D=l.child;if(l.subtreeFlags&2064&&D!==null)D.return=l,se=D;else e:for(l=P;se!==null;){if(h=se,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Jc(9,h)}}catch(z){et(h,h.return,z)}if(h===l){se=null;break e}var W=h.sibling;if(W!==null){W.return=h.return,se=W;break e}se=h.return}}if(Le=s,Rr(),si&&typeof si.onPostCommitFiberRoot=="function")try{si.onPostCommitFiberRoot(Wc,t)}catch{}i=!0}return i}finally{Fe=n,An.transition=e}}return!1}function s_(t,e,n){e=ko(n,e),e=Iw(t,e,1),t=hr(t,e,1),e=jt(),t!==null&&(Cl(t,1,e),rn(t,e))}function et(t,e,n){if(t.tag===3)s_(t,t,n);else for(;e!==null;){if(e.tag===3){s_(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(fr===null||!fr.has(i))){t=ko(n,t),t=Sw(e,t,1),e=hr(e,t,1),t=jt(),e!==null&&(Cl(e,1,t),rn(e,t));break}}e=e.return}}function pS(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=jt(),t.pingedLanes|=t.suspendedLanes&n,Et===t&&(Ct&n)===n&&(mt===4||mt===3&&(Ct&130023424)===Ct&&500>st()-Rp?is(t,0):xp|=n),rn(t,e)}function qw(t,e){e===0&&(t.mode&1?(e=vu,vu<<=1,!(vu&130023424)&&(vu=4194304)):e=1);var n=jt();t=Mi(t,e),t!==null&&(Cl(t,e,n),rn(t,n))}function mS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qw(t,n)}function gS(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(Y(314))}i!==null&&i.delete(e),qw(t,n)}var Ww;Ww=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||tn.current)en=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return en=!1,iS(t,e,n);en=!!(t.flags&131072)}else en=!1,Ze&&e.flags&1048576&&Kv(e,mc,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Wu(t,e),t=e.pendingProps;var s=Co(e,Ot.current);vo(e,n),s=Ep(null,e,i,t,s,n);var o=Ip();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nn(i)?(o=!0,dc(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,_p(e),s.updater=Xc,e.stateNode=s,s._reactInternals=e,rd(e,i,t,n),e=ad(null,e,i,!0,o,n)):(e.tag=0,Ze&&o&&cp(e),Ut(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Wu(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=yS(i),t=Vn(i,t),s){case 0:e=od(null,e,i,t,n);break e;case 1:e=Kg(null,e,i,t,n);break e;case 11:e=Zg(null,e,i,t,n);break e;case 14:e=Gg(null,e,i,Vn(i.type,t),n);break e}throw Error(Y(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Vn(i,s),od(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Vn(i,s),Kg(t,e,i,s,n);case 3:e:{if(xw(e),t===null)throw Error(Y(387));i=e.pendingProps,o=e.memoizedState,s=o.element,tw(t,e),yc(e,i,null,n);var l=e.memoizedState;if(i=l.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=ko(Error(Y(423)),e),e=Qg(t,e,i,n,s);break e}else if(i!==s){s=ko(Error(Y(424)),e),e=Qg(t,e,i,n,s);break e}else for(un=cr(e.stateNode.containerInfo.firstChild),hn=e,Ze=!0,zn=null,n=Jv(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ao(),i===s){e=Oi(t,e,n);break e}Ut(t,e,i,n)}e=e.child}return e;case 5:return nw(e),t===null&&td(e),i=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,l=s.children,Qf(i,s)?l=null:o!==null&&Qf(i,o)&&(e.flags|=32),Aw(t,e),Ut(t,e,l,n),e.child;case 6:return t===null&&td(e),null;case 13:return Rw(t,e,n);case 4:return yp(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=xo(e,null,i,n):Ut(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Vn(i,s),Zg(t,e,i,s,n);case 7:return Ut(t,e,e.pendingProps,n),e.child;case 8:return Ut(t,e,e.pendingProps.children,n),e.child;case 12:return Ut(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,o=e.memoizedProps,l=s.value,He(gc,i._currentValue),i._currentValue=l,o!==null)if(qn(o.value,l)){if(o.children===s.children&&!tn.current){e=Oi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var h=o.dependencies;if(h!==null){l=o.child;for(var d=h.firstContext;d!==null;){if(d.context===i){if(o.tag===1){d=Ni(-1,n&-n),d.tag=2;var m=o.updateQueue;if(m!==null){m=m.shared;var y=m.pending;y===null?d.next=d:(d.next=y.next,y.next=d),m.pending=d}}o.lanes|=n,d=o.alternate,d!==null&&(d.lanes|=n),nd(o.return,n,e),h.lanes|=n;break}d=d.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(Y(341));l.lanes|=n,h=l.alternate,h!==null&&(h.lanes|=n),nd(l,n,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}Ut(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,vo(e,n),s=Rn(s),i=i(s),e.flags|=1,Ut(t,e,i,n),e.child;case 14:return i=e.type,s=Vn(i,e.pendingProps),s=Vn(i.type,s),Gg(t,e,i,s,n);case 15:return Pw(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Vn(i,s),Wu(t,e),e.tag=1,nn(i)?(t=!0,dc(e)):t=!1,vo(e,n),Ew(e,i,s),rd(e,i,s,n),ad(null,e,i,!0,t,n);case 19:return kw(t,e,n);case 22:return Cw(t,e,n)}throw Error(Y(156,e.tag))};function $w(t,e){return vv(t,e)}function _S(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,e,n,i){return new _S(t,e,n,i)}function Dp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yS(t){if(typeof t=="function")return Dp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xd)return 11;if(t===Jd)return 14}return 2}function pr(t,e){var n=t.alternate;return n===null?(n=Cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gu(t,e,n,i,s,o){var l=2;if(i=t,typeof t=="function")Dp(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case io:return rs(n.children,s,o,e);case Yd:l=8,s|=8;break;case xf:return t=Cn(12,n,e,s|2),t.elementType=xf,t.lanes=o,t;case Rf:return t=Cn(13,n,e,s),t.elementType=Rf,t.lanes=o,t;case kf:return t=Cn(19,n,e,s),t.elementType=kf,t.lanes=o,t;case nv:return th(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ev:l=10;break e;case tv:l=9;break e;case Xd:l=11;break e;case Jd:l=14;break e;case er:l=16,i=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Cn(l,n,e,s),e.elementType=t,e.type=i,e.lanes=o,e}function rs(t,e,n,i){return t=Cn(7,t,i,e),t.lanes=n,t}function th(t,e,n,i){return t=Cn(22,t,i,e),t.elementType=nv,t.lanes=n,t.stateNode={isHidden:!1},t}function cf(t,e,n){return t=Cn(6,t,null,e),t.lanes=n,t}function hf(t,e,n){return e=Cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vS(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qh(0),this.expirationTimes=qh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qh(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function bp(t,e,n,i,s,o,l,h,d){return t=new vS(t,e,n,h,d),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Cn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_p(o),t}function wS(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:no,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function Zw(t){if(!t)return wr;t=t._reactInternals;e:{if(vs(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(nn(n))return Zv(t,n,e)}return e}function Gw(t,e,n,i,s,o,l,h,d){return t=bp(n,i,!0,t,s,o,l,h,d),t.context=Zw(null),n=t.current,i=jt(),s=dr(n),o=Ni(i,s),o.callback=e??null,hr(n,o,s),t.current.lanes=s,Cl(t,s,i),rn(t,i),t}function nh(t,e,n,i){var s=e.current,o=jt(),l=dr(s);return n=Zw(n),e.context===null?e.context=n:e.pendingContext=n,e=Ni(o,l),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=hr(s,e,l),t!==null&&(jn(t,s,l,o),ju(t,s,l)),l}function Cc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function o_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Mp(t,e){o_(t,e),(t=t.alternate)&&o_(t,e)}function TS(){return null}var Kw=typeof reportError=="function"?reportError:function(t){console.error(t)};function Op(t){this._internalRoot=t}ih.prototype.render=Op.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));nh(t,e,null,null)};ih.prototype.unmount=Op.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fs(function(){nh(null,t,null,null)}),e[bi]=null}};function ih(t){this._internalRoot=t}ih.prototype.unstable_scheduleHydration=function(t){if(t){var e=Cv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<nr.length&&e!==0&&e<nr[n].priority;n++);nr.splice(n,0,t),n===0&&xv(t)}};function Vp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function a_(){}function ES(t,e,n,i,s){if(s){if(typeof i=="function"){var o=i;i=function(){var m=Cc(l);o.call(m)}}var l=Gw(e,i,t,0,null,!1,!1,"",a_);return t._reactRootContainer=l,t[bi]=l.current,ll(t.nodeType===8?t.parentNode:t),fs(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var h=i;i=function(){var m=Cc(d);h.call(m)}}var d=bp(t,0,!1,null,null,!1,!1,"",a_);return t._reactRootContainer=d,t[bi]=d.current,ll(t.nodeType===8?t.parentNode:t),fs(function(){nh(e,d,n,i)}),d}function sh(t,e,n,i,s){var o=n._reactRootContainer;if(o){var l=o;if(typeof s=="function"){var h=s;s=function(){var d=Cc(l);h.call(d)}}nh(e,l,t,s)}else l=ES(n,e,t,s,i);return Cc(l)}Sv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ba(e.pendingLanes);n!==0&&(np(e,n|1),rn(e,st()),!(Le&6)&&(Lo=st()+500,Rr()))}break;case 13:fs(function(){var i=Mi(t,1);if(i!==null){var s=jt();jn(i,t,1,s)}}),Mp(t,1)}};ip=function(t){if(t.tag===13){var e=Mi(t,134217728);if(e!==null){var n=jt();jn(e,t,134217728,n)}Mp(t,134217728)}};Pv=function(t){if(t.tag===13){var e=dr(t),n=Mi(t,e);if(n!==null){var i=jt();jn(n,t,e,i)}Mp(t,e)}};Cv=function(){return Fe};Av=function(t,e){var n=Fe;try{return Fe=t,e()}finally{Fe=n}};Bf=function(t,e,n){switch(e){case"input":if(Df(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=Kc(i);if(!s)throw Error(Y(90));rv(i),Df(i,s)}}}break;case"textarea":ov(t,n);break;case"select":e=n.value,e!=null&&mo(t,!!n.multiple,e,!1)}};dv=kp;pv=fs;var IS={usingClientEntryPoint:!1,Events:[xl,ao,Kc,hv,fv,kp]},Ra={findFiberByHostInstance:Xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SS={bundleType:Ra.bundleType,version:Ra.version,rendererPackageName:Ra.rendererPackageName,rendererConfig:Ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_v(t),t===null?null:t.stateNode},findFiberByHostInstance:Ra.findFiberByHostInstance||TS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{Wc=ku.inject(SS),si=ku}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IS;pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vp(e))throw Error(Y(200));return wS(t,e,null,n)};pn.createRoot=function(t,e){if(!Vp(t))throw Error(Y(299));var n=!1,i="",s=Kw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=bp(t,1,!1,null,null,n,!1,i,s),t[bi]=e.current,ll(t.nodeType===8?t.parentNode:t),new Op(e)};pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=_v(e),t=t===null?null:t.stateNode,t};pn.flushSync=function(t){return fs(t)};pn.hydrate=function(t,e,n){if(!rh(e))throw Error(Y(200));return sh(null,t,e,!0,n)};pn.hydrateRoot=function(t,e,n){if(!Vp(t))throw Error(Y(405));var i=n!=null&&n.hydratedSources||null,s=!1,o="",l=Kw;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=Gw(e,null,t,1,n??null,s,!1,o,l),t[bi]=e.current,ll(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ih(e)};pn.render=function(t,e,n){if(!rh(e))throw Error(Y(200));return sh(null,t,e,!1,n)};pn.unmountComponentAtNode=function(t){if(!rh(t))throw Error(Y(40));return t._reactRootContainer?(fs(function(){sh(null,null,t,!1,function(){t._reactRootContainer=null,t[bi]=null})}),!0):!1};pn.unstable_batchedUpdates=kp;pn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!rh(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return sh(t,e,n,!1,i)};pn.version="18.3.1-next-f1338f8080-20240426";function Qw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qw)}catch(t){console.error(t)}}Qw(),Qy.exports=pn;var Yw=Qy.exports,l_=Yw;Cf.createRoot=l_.createRoot,Cf.hydrateRoot=l_.hydrateRoot;function Xw(t,e){const n=le.useRef(e);le.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const PS=1;function CS(t){return Object.freeze({__version:PS,map:t})}function AS(t,e){return Object.freeze({...t,...e})}const Jw=le.createContext(null),eT=Jw.Provider;function Fp(){const t=le.useContext(Jw);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function xS(t){function e(n,i){const{instance:s,context:o}=t(n).current;return le.useImperativeHandle(i,()=>s),n.children==null?null:nc.createElement(eT,{value:o},n.children)}return le.forwardRef(e)}function RS(t){function e(n,i){const[s,o]=le.useState(!1),{instance:l}=t(n,o).current;le.useImperativeHandle(i,()=>l),le.useEffect(function(){s&&l.update()},[l,s,n.children]);const h=l._contentNode;return h?Yw.createPortal(n.children,h):null}return le.forwardRef(e)}function kS(t){function e(n,i){const{instance:s}=t(n).current;return le.useImperativeHandle(i,()=>s),null}return le.forwardRef(e)}function tT(t,e){const n=le.useRef();le.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function zp(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function LS(t,e){return function(i,s){const o=Fp(),l=t(zp(i,o),o);return Xw(o.map,i.attribution),tT(l.current,i.eventHandlers),e(l.current,o,i,s),l}}var vd={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(J0,function(n){var i="1.9.4";function s(r){var a,c,f,g;for(c=1,f=arguments.length;c<f;c++){g=arguments[c];for(a in g)r[a]=g[a]}return r}var o=Object.create||function(){function r(){}return function(a){return r.prototype=a,new r}}();function l(r,a){var c=Array.prototype.slice;if(r.bind)return r.bind.apply(r,c.call(arguments,1));var f=c.call(arguments,2);return function(){return r.apply(a,f.length?f.concat(c.call(arguments)):arguments)}}var h=0;function d(r){return"_leaflet_id"in r||(r._leaflet_id=++h),r._leaflet_id}function m(r,a,c){var f,g,v,x;return x=function(){f=!1,g&&(v.apply(c,g),g=!1)},v=function(){f?g=arguments:(r.apply(c,arguments),setTimeout(x,a),f=!0)},v}function y(r,a,c){var f=a[1],g=a[0],v=f-g;return r===f&&c?r:((r-g)%v+v)%v+g}function w(){return!1}function T(r,a){if(a===!1)return r;var c=Math.pow(10,a===void 0?6:a);return Math.round(r*c)/c}function b(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function U(r){return b(r).split(/\s+/)}function F(r,a){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?o(r.options):{});for(var c in a)r.options[c]=a[c];return r.options}function Z(r,a,c){var f=[];for(var g in r)f.push(encodeURIComponent(c?g.toUpperCase():g)+"="+encodeURIComponent(r[g]));return(!a||a.indexOf("?")===-1?"?":"&")+f.join("&")}var N=/\{ *([\w_ -]+) *\}/g;function P(r,a){return r.replace(N,function(c,f){var g=a[f];if(g===void 0)throw new Error("No value provided for variable "+c);return typeof g=="function"&&(g=g(a)),g})}var D=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function W(r,a){for(var c=0;c<r.length;c++)if(r[c]===a)return c;return-1}var z="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function J(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var S=0;function I(r){var a=+new Date,c=Math.max(0,16-(a-S));return S=a+c,window.setTimeout(r,c)}var C=window.requestAnimationFrame||J("RequestAnimationFrame")||I,R=window.cancelAnimationFrame||J("CancelAnimationFrame")||J("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function k(r,a,c){if(c&&C===I)r.call(a);else return C.call(window,l(r,a))}function M(r){r&&R.call(window,r)}var A={__proto__:null,extend:s,create:o,bind:l,get lastId(){return h},stamp:d,throttle:m,wrapNum:y,falseFn:w,formatNum:T,trim:b,splitWords:U,setOptions:F,getParamString:Z,template:P,isArray:D,indexOf:W,emptyImageUrl:z,requestFn:C,cancelFn:R,requestAnimFrame:k,cancelAnimFrame:M};function ue(){}ue.extend=function(r){var a=function(){F(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=a.__super__=this.prototype,f=o(c);f.constructor=a,a.prototype=f;for(var g in this)Object.prototype.hasOwnProperty.call(this,g)&&g!=="prototype"&&g!=="__super__"&&(a[g]=this[g]);return r.statics&&s(a,r.statics),r.includes&&(ze(r.includes),s.apply(null,[f].concat(r.includes))),s(f,r),delete f.statics,delete f.includes,f.options&&(f.options=c.options?o(c.options):{},s(f.options,r.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,x=f._initHooks.length;v<x;v++)f._initHooks[v].call(this)}},a},ue.include=function(r){var a=this.prototype.options;return s(this.prototype,r),r.options&&(this.prototype.options=a,this.mergeOptions(r.options)),this},ue.mergeOptions=function(r){return s(this.prototype.options,r),this},ue.addInitHook=function(r){var a=Array.prototype.slice.call(arguments,1),c=typeof r=="function"?r:function(){this[r].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function ze(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=D(r)?r:[r];for(var a=0;a<r.length;a++)r[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var tt={on:function(r,a,c){if(typeof r=="object")for(var f in r)this._on(f,r[f],a);else{r=U(r);for(var g=0,v=r.length;g<v;g++)this._on(r[g],a,c)}return this},off:function(r,a,c){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var f in r)this._off(f,r[f],a);else{r=U(r);for(var g=arguments.length===1,v=0,x=r.length;v<x;v++)g?this._off(r[v]):this._off(r[v],a,c)}return this},_on:function(r,a,c,f){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(r,a,c)===!1){c===this&&(c=void 0);var g={fn:a,ctx:c};f&&(g.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(g)}},_off:function(r,a,c){var f,g,v;if(this._events&&(f=this._events[r],!!f)){if(arguments.length===1){if(this._firingCount)for(g=0,v=f.length;g<v;g++)f[g].fn=w;delete this._events[r];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var x=this._listens(r,a,c);if(x!==!1){var V=f[x];this._firingCount&&(V.fn=w,this._events[r]=f=f.slice()),f.splice(x,1)}}},fire:function(r,a,c){if(!this.listens(r,c))return this;var f=s({},a,{type:r,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var g=this._events[r];if(g){this._firingCount=this._firingCount+1||1;for(var v=0,x=g.length;v<x;v++){var V=g[v],q=V.fn;V.once&&this.off(r,q,V.ctx),q.call(V.ctx||this,f)}this._firingCount--}}return c&&this._propagateEvent(f),this},listens:function(r,a,c,f){typeof r!="string"&&console.warn('"string" type argument expected');var g=a;typeof a!="function"&&(f=!!a,g=void 0,c=void 0);var v=this._events&&this._events[r];if(v&&v.length&&this._listens(r,g,c)!==!1)return!0;if(f){for(var x in this._eventParents)if(this._eventParents[x].listens(r,a,c,f))return!0}return!1},_listens:function(r,a,c){if(!this._events)return!1;var f=this._events[r]||[];if(!a)return!!f.length;c===this&&(c=void 0);for(var g=0,v=f.length;g<v;g++)if(f[g].fn===a&&f[g].ctx===c)return g;return!1},once:function(r,a,c){if(typeof r=="object")for(var f in r)this._on(f,r[f],a,!0);else{r=U(r);for(var g=0,v=r.length;g<v;g++)this._on(r[g],a,c,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[d(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[d(r)],this},_propagateEvent:function(r){for(var a in this._eventParents)this._eventParents[a].fire(r.type,s({layer:r.target,propagatedFrom:r.target},r),!0)}};tt.addEventListener=tt.on,tt.removeEventListener=tt.clearAllEventListeners=tt.off,tt.addOneTimeEventListener=tt.once,tt.fireEvent=tt.fire,tt.hasEventListeners=tt.listens;var Vt=ue.extend(tt);function $(r,a,c){this.x=c?Math.round(r):r,this.y=c?Math.round(a):a}var ce=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};$.prototype={clone:function(){return new $(this.x,this.y)},add:function(r){return this.clone()._add(X(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(X(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new $(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new $(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ce(this.x),this.y=ce(this.y),this},distanceTo:function(r){r=X(r);var a=r.x-this.x,c=r.y-this.y;return Math.sqrt(a*a+c*c)},equals:function(r){return r=X(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=X(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+T(this.x)+", "+T(this.y)+")"}};function X(r,a,c){return r instanceof $?r:D(r)?new $(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new $(r.x,r.y):new $(r,a,c)}function he(r,a){if(r)for(var c=a?[r,a]:r,f=0,g=c.length;f<g;f++)this.extend(c[f])}he.prototype={extend:function(r){var a,c;if(!r)return this;if(r instanceof $||typeof r[0]=="number"||"x"in r)a=c=X(r);else if(r=we(r),a=r.min,c=r.max,!a||!c)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=c.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(r){return X((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return X(this.min.x,this.max.y)},getTopRight:function(){return X(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var a,c;return typeof r[0]=="number"||r instanceof $?r=X(r):r=we(r),r instanceof he?(a=r.min,c=r.max):a=c=r,a.x>=this.min.x&&c.x<=this.max.x&&a.y>=this.min.y&&c.y<=this.max.y},intersects:function(r){r=we(r);var a=this.min,c=this.max,f=r.min,g=r.max,v=g.x>=a.x&&f.x<=c.x,x=g.y>=a.y&&f.y<=c.y;return v&&x},overlaps:function(r){r=we(r);var a=this.min,c=this.max,f=r.min,g=r.max,v=g.x>a.x&&f.x<c.x,x=g.y>a.y&&f.y<c.y;return v&&x},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var a=this.min,c=this.max,f=Math.abs(a.x-c.x)*r,g=Math.abs(a.y-c.y)*r;return we(X(a.x-f,a.y-g),X(c.x+f,c.y+g))},equals:function(r){return r?(r=we(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function we(r,a){return!r||r instanceof he?r:new he(r,a)}function Be(r,a){if(r)for(var c=a?[r,a]:r,f=0,g=c.length;f<g;f++)this.extend(c[f])}Be.prototype={extend:function(r){var a=this._southWest,c=this._northEast,f,g;if(r instanceof ve)f=r,g=r;else if(r instanceof Be){if(f=r._southWest,g=r._northEast,!f||!g)return this}else return r?this.extend(pe(r)||Ie(r)):this;return!a&&!c?(this._southWest=new ve(f.lat,f.lng),this._northEast=new ve(g.lat,g.lng)):(a.lat=Math.min(f.lat,a.lat),a.lng=Math.min(f.lng,a.lng),c.lat=Math.max(g.lat,c.lat),c.lng=Math.max(g.lng,c.lng)),this},pad:function(r){var a=this._southWest,c=this._northEast,f=Math.abs(a.lat-c.lat)*r,g=Math.abs(a.lng-c.lng)*r;return new Be(new ve(a.lat-f,a.lng-g),new ve(c.lat+f,c.lng+g))},getCenter:function(){return new ve((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ve(this.getNorth(),this.getWest())},getSouthEast:function(){return new ve(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof ve||"lat"in r?r=pe(r):r=Ie(r);var a=this._southWest,c=this._northEast,f,g;return r instanceof Be?(f=r.getSouthWest(),g=r.getNorthEast()):f=g=r,f.lat>=a.lat&&g.lat<=c.lat&&f.lng>=a.lng&&g.lng<=c.lng},intersects:function(r){r=Ie(r);var a=this._southWest,c=this._northEast,f=r.getSouthWest(),g=r.getNorthEast(),v=g.lat>=a.lat&&f.lat<=c.lat,x=g.lng>=a.lng&&f.lng<=c.lng;return v&&x},overlaps:function(r){r=Ie(r);var a=this._southWest,c=this._northEast,f=r.getSouthWest(),g=r.getNorthEast(),v=g.lat>a.lat&&f.lat<c.lat,x=g.lng>a.lng&&f.lng<c.lng;return v&&x},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,a){return r?(r=Ie(r),this._southWest.equals(r.getSouthWest(),a)&&this._northEast.equals(r.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ie(r,a){return r instanceof Be?r:new Be(r,a)}function ve(r,a,c){if(isNaN(r)||isNaN(a))throw new Error("Invalid LatLng object: ("+r+", "+a+")");this.lat=+r,this.lng=+a,c!==void 0&&(this.alt=+c)}ve.prototype={equals:function(r,a){if(!r)return!1;r=pe(r);var c=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return c<=(a===void 0?1e-9:a)},toString:function(r){return"LatLng("+T(this.lat,r)+", "+T(this.lng,r)+")"},distanceTo:function(r){return $t.distance(this,pe(r))},wrap:function(){return $t.wrapLatLng(this)},toBounds:function(r){var a=180*r/40075017,c=a/Math.cos(Math.PI/180*this.lat);return Ie([this.lat-a,this.lng-c],[this.lat+a,this.lng+c])},clone:function(){return new ve(this.lat,this.lng,this.alt)}};function pe(r,a,c){return r instanceof ve?r:D(r)&&typeof r[0]!="object"?r.length===3?new ve(r[0],r[1],r[2]):r.length===2?new ve(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new ve(r.lat,"lng"in r?r.lng:r.lon,r.alt):a===void 0?null:new ve(r,a,c)}var ot={latLngToPoint:function(r,a){var c=this.projection.project(r),f=this.scale(a);return this.transformation._transform(c,f)},pointToLatLng:function(r,a){var c=this.scale(a),f=this.transformation.untransform(r,c);return this.projection.unproject(f)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var a=this.projection.bounds,c=this.scale(r),f=this.transformation.transform(a.min,c),g=this.transformation.transform(a.max,c);return new he(f,g)},infinite:!1,wrapLatLng:function(r){var a=this.wrapLng?y(r.lng,this.wrapLng,!0):r.lng,c=this.wrapLat?y(r.lat,this.wrapLat,!0):r.lat,f=r.alt;return new ve(c,a,f)},wrapLatLngBounds:function(r){var a=r.getCenter(),c=this.wrapLatLng(a),f=a.lat-c.lat,g=a.lng-c.lng;if(f===0&&g===0)return r;var v=r.getSouthWest(),x=r.getNorthEast(),V=new ve(v.lat-f,v.lng-g),q=new ve(x.lat-f,x.lng-g);return new Be(V,q)}},$t=s({},ot,{wrapLng:[-180,180],R:6371e3,distance:function(r,a){var c=Math.PI/180,f=r.lat*c,g=a.lat*c,v=Math.sin((a.lat-r.lat)*c/2),x=Math.sin((a.lng-r.lng)*c/2),V=v*v+Math.cos(f)*Math.cos(g)*x*x,q=2*Math.atan2(Math.sqrt(V),Math.sqrt(1-V));return this.R*q}}),Nr=6378137,Dr={R:Nr,MAX_LATITUDE:85.0511287798,project:function(r){var a=Math.PI/180,c=this.MAX_LATITUDE,f=Math.max(Math.min(c,r.lat),-c),g=Math.sin(f*a);return new $(this.R*r.lng*a,this.R*Math.log((1+g)/(1-g))/2)},unproject:function(r){var a=180/Math.PI;return new ve((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*a,r.x*a/this.R)},bounds:function(){var r=Nr*Math.PI;return new he([-r,-r],[r,r])}()};function br(r,a,c,f){if(D(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=a,this._c=c,this._d=f}br.prototype={transform:function(r,a){return this._transform(r.clone(),a)},_transform:function(r,a){return a=a||1,r.x=a*(this._a*r.x+this._b),r.y=a*(this._c*r.y+this._d),r},untransform:function(r,a){return a=a||1,new $((r.x/a-this._b)/this._a,(r.y/a-this._d)/this._c)}};function $n(r,a,c,f){return new br(r,a,c,f)}var mi=s({},$t,{code:"EPSG:3857",projection:Dr,transformation:function(){var r=.5/(Math.PI*Dr.R);return $n(r,.5,-r,.5)}()}),Is=s({},mi,{code:"EPSG:900913"});function Mr(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function j(r,a){var c="",f,g,v,x,V,q;for(f=0,v=r.length;f<v;f++){for(V=r[f],g=0,x=V.length;g<x;g++)q=V[g],c+=(g?"L":"M")+q.x+" "+q.y;c+=a?oe.svg?"z":"x":""}return c||"M0 0"}var Ae=document.documentElement.style,_t="ActiveXObject"in window,Ge=_t&&!document.addEventListener,nt="msLaunchUri"in navigator&&!("documentMode"in document),Hi=Zt("webkit"),Ol=Zt("android"),Qo=Zt("android 2")||Zt("android 3"),Ch=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Or=Ol&&Zt("Google")&&Ch<537&&!("AudioNode"in window),Ss=!!window.opera,Yo=!nt&&Zt("chrome"),Ps=Zt("gecko")&&!Hi&&!Ss&&!_t,Ah=!Yo&&Zt("safari"),Vl=Zt("phantom"),Xo="OTransition"in Ae,Fl=navigator.platform.indexOf("Win")===0,qi=_t&&"transition"in Ae,Vr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Qo,Cs="MozPerspective"in Ae,gi=!window.L_DISABLE_3D&&(qi||Vr||Cs)&&!Xo&&!Vl,Wi=typeof orientation<"u"||Zt("mobile"),As=Wi&&Hi,zl=Wi&&Vr,$i=!window.PointerEvent&&window.MSPointerEvent,Jo=!!(window.PointerEvent||$i),yt="ontouchstart"in window||!!window.TouchEvent,Bl=!window.L_NO_TOUCH&&(yt||Jo),Fr=Wi&&Ss,zr=Wi&&Ps,xh=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Rh=function(){var r=!1;try{var a=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",w,a),window.removeEventListener("testPassiveEventSupport",w,a)}catch{}return r}(),Zi=function(){return!!document.createElement("canvas").getContext}(),ea=!!(document.createElementNS&&Mr("svg").createSVGRect),kh=!!ea&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),xs=!ea&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var a=r.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),Ul=navigator.platform.indexOf("Mac")===0,jl=navigator.platform.indexOf("Linux")===0;function Zt(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var oe={ie:_t,ielt9:Ge,edge:nt,webkit:Hi,android:Ol,android23:Qo,androidStock:Or,opera:Ss,chrome:Yo,gecko:Ps,safari:Ah,phantom:Vl,opera12:Xo,win:Fl,ie3d:qi,webkit3d:Vr,gecko3d:Cs,any3d:gi,mobile:Wi,mobileWebkit:As,mobileWebkit3d:zl,msPointer:$i,pointer:Jo,touch:Bl,touchNative:yt,mobileOpera:Fr,mobileGecko:zr,retina:xh,passiveEvents:Rh,canvas:Zi,svg:ea,vml:xs,inlineSvg:kh,mac:Ul,linux:jl},Hl=oe.msPointer?"MSPointerDown":"pointerdown",Ln=oe.msPointer?"MSPointerMove":"pointermove",ta=oe.msPointer?"MSPointerUp":"pointerup",na=oe.msPointer?"MSPointerCancel":"pointercancel",Br={touchstart:Hl,touchmove:Ln,touchend:ta,touchcancel:na},Rs={touchstart:ia,touchmove:gn,touchend:gn,touchcancel:gn},_i={},ql=!1;function Wl(r,a,c){return a==="touchstart"&&Ur(),Rs[a]?(c=Rs[a].bind(this,c),r.addEventListener(Br[a],c,!1),c):(console.warn("wrong event specified:",a),w)}function Lh(r,a,c){if(!Br[a]){console.warn("wrong event specified:",a);return}r.removeEventListener(Br[a],c,!1)}function ks(r){_i[r.pointerId]=r}function $l(r){_i[r.pointerId]&&(_i[r.pointerId]=r)}function Ls(r){delete _i[r.pointerId]}function Ur(){ql||(document.addEventListener(Hl,ks,!0),document.addEventListener(Ln,$l,!0),document.addEventListener(ta,Ls,!0),document.addEventListener(na,Ls,!0),ql=!0)}function gn(r,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var c in _i)a.touches.push(_i[c]);a.changedTouches=[a],r(a)}}function ia(r,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&at(a),gn(r,a)}function Nh(r){var a={},c,f;for(f in r)c=r[f],a[f]=c&&c.bind?c.bind(r):c;return r=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var Zl=200;function Gl(r,a){r.addEventListener("dblclick",a);var c=0,f;function g(v){if(v.detail!==1){f=v.detail;return}if(!(v.pointerType==="mouse"||v.sourceCapabilities&&!v.sourceCapabilities.firesTouchEvents)){var x=la(v);if(!(x.some(function(q){return q instanceof HTMLLabelElement&&q.attributes.for})&&!x.some(function(q){return q instanceof HTMLInputElement||q instanceof HTMLSelectElement}))){var V=Date.now();V-c<=Zl?(f++,f===2&&a(Nh(v))):f=1,c=V}}}return r.addEventListener("click",g),{dblclick:a,simDblclick:g}}function Kl(r,a){r.removeEventListener("dblclick",a.dblclick),r.removeEventListener("click",a.simDblclick)}var jr=Ns(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),yi=Ns(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ra=yi==="webkitTransition"||yi==="OTransition"?yi+"End":"transitionend";function sa(r){return typeof r=="string"?document.getElementById(r):r}function Gi(r,a){var c=r.style[a]||r.currentStyle&&r.currentStyle[a];if((!c||c==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(r,null);c=f?f[a]:null}return c==="auto"?null:c}function xe(r,a,c){var f=document.createElement(r);return f.className=a||"",c&&c.appendChild(f),f}function Ne(r){var a=r.parentNode;a&&a.removeChild(r)}function Ft(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function _n(r){var a=r.parentNode;a&&a.lastChild!==r&&a.appendChild(r)}function yn(r){var a=r.parentNode;a&&a.firstChild!==r&&a.insertBefore(r,a.firstChild)}function Hr(r,a){if(r.classList!==void 0)return r.classList.contains(a);var c=Zn(r);return c.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(c)}function re(r,a){if(r.classList!==void 0)for(var c=U(a),f=0,g=c.length;f<g;f++)r.classList.add(c[f]);else if(!Hr(r,a)){var v=Zn(r);vi(r,(v?v+" ":"")+a)}}function Ue(r,a){r.classList!==void 0?r.classList.remove(a):vi(r,b((" "+Zn(r)+" ").replace(" "+a+" "," ")))}function vi(r,a){r.className.baseVal===void 0?r.className=a:r.className.baseVal=a}function Zn(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Gt(r,a){"opacity"in r.style?r.style.opacity=a:"filter"in r.style&&Ql(r,a)}function Ql(r,a){var c=!1,f="DXImageTransform.Microsoft.Alpha";try{c=r.filters.item(f)}catch{if(a===1)return}a=Math.round(a*100),c?(c.Enabled=a!==100,c.Opacity=a):r.style.filter+=" progid:"+f+"(opacity="+a+")"}function Ns(r){for(var a=document.documentElement.style,c=0;c<r.length;c++)if(r[c]in a)return r[c];return!1}function wi(r,a,c){var f=a||new $(0,0);r.style[jr]=(oe.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(c?" scale("+c+")":"")}function Je(r,a){r._leaflet_pos=a,oe.any3d?wi(r,a):(r.style.left=a.x+"px",r.style.top=a.y+"px")}function Ti(r){return r._leaflet_pos||new $(0,0)}var Nn,on,Ds;if("onselectstart"in document)Nn=function(){me(window,"selectstart",at)},on=function(){Ve(window,"selectstart",at)};else{var Ki=Ns(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Nn=function(){if(Ki){var r=document.documentElement.style;Ds=r[Ki],r[Ki]="none"}},on=function(){Ki&&(document.documentElement.style[Ki]=Ds,Ds=void 0)}}function bs(){me(window,"dragstart",at)}function Ms(){Ve(window,"dragstart",at)}var qr,Gn;function oa(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Os(),qr=r,Gn=r.style.outlineStyle,r.style.outlineStyle="none",me(window,"keydown",Os))}function Os(){qr&&(qr.style.outlineStyle=Gn,qr=void 0,Gn=void 0,Ve(window,"keydown",Os))}function Yl(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function vn(r){var a=r.getBoundingClientRect();return{x:a.width/r.offsetWidth||1,y:a.height/r.offsetHeight||1,boundingClientRect:a}}var Dh={__proto__:null,TRANSFORM:jr,TRANSITION:yi,TRANSITION_END:ra,get:sa,getStyle:Gi,create:xe,remove:Ne,empty:Ft,toFront:_n,toBack:yn,hasClass:Hr,addClass:re,removeClass:Ue,setClass:vi,getClass:Zn,setOpacity:Gt,testProp:Ns,setTransform:wi,setPosition:Je,getPosition:Ti,get disableTextSelection(){return Nn},get enableTextSelection(){return on},disableImageDrag:bs,enableImageDrag:Ms,preventOutline:oa,restoreOutline:Os,getSizedParentNode:Yl,getScale:vn};function me(r,a,c,f){if(a&&typeof a=="object")for(var g in a)Vs(r,g,a[g],c);else{a=U(a);for(var v=0,x=a.length;v<x;v++)Vs(r,a[v],c,f)}return this}var zt="_leaflet_events";function Ve(r,a,c,f){if(arguments.length===1)Qi(r),delete r[zt];else if(a&&typeof a=="object")for(var g in a)Wr(r,g,a[g],c);else if(a=U(a),arguments.length===2)Qi(r,function(V){return W(a,V)!==-1});else for(var v=0,x=a.length;v<x;v++)Wr(r,a[v],c,f);return this}function Qi(r,a){for(var c in r[zt]){var f=c.split(/\d/)[0];(!a||a(f))&&Wr(r,f,null,null,c)}}var Ei={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Vs(r,a,c,f){var g=a+d(c)+(f?"_"+d(f):"");if(r[zt]&&r[zt][g])return this;var v=function(V){return c.call(f||r,V||window.event)},x=v;!oe.touchNative&&oe.pointer&&a.indexOf("touch")===0?v=Wl(r,a,v):oe.touch&&a==="dblclick"?v=Gl(r,v):"addEventListener"in r?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?r.addEventListener(Ei[a]||a,v,oe.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(v=function(V){V=V||window.event,ca(r,V)&&x(V)},r.addEventListener(Ei[a],v,!1)):r.addEventListener(a,x,!1):r.attachEvent("on"+a,v),r[zt]=r[zt]||{},r[zt][g]=v}function Wr(r,a,c,f,g){g=g||a+d(c)+(f?"_"+d(f):"");var v=r[zt]&&r[zt][g];if(!v)return this;!oe.touchNative&&oe.pointer&&a.indexOf("touch")===0?Lh(r,a,v):oe.touch&&a==="dblclick"?Kl(r,v):"removeEventListener"in r?r.removeEventListener(Ei[a]||a,v,!1):r.detachEvent("on"+a,v),r[zt][g]=null}function be(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function aa(r){return Vs(r,"wheel",be),this}function $r(r){return me(r,"mousedown touchstart dblclick contextmenu",be),r._leaflet_disable_click=!0,this}function at(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function Kn(r){return at(r),be(r),this}function la(r){if(r.composedPath)return r.composedPath();for(var a=[],c=r.target;c;)a.push(c),c=c.parentNode;return a}function Zr(r,a){if(!a)return new $(r.clientX,r.clientY);var c=vn(a),f=c.boundingClientRect;return new $((r.clientX-f.left)/c.x-a.clientLeft,(r.clientY-f.top)/c.y-a.clientTop)}var Qn=oe.linux&&oe.chrome?window.devicePixelRatio:oe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ua(r){return oe.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Qn:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function ca(r,a){var c=a.relatedTarget;if(!c)return!0;try{for(;c&&c!==r;)c=c.parentNode}catch{return!1}return c!==r}var Gr={__proto__:null,on:me,off:Ve,stopPropagation:be,disableScrollPropagation:aa,disableClickPropagation:$r,preventDefault:at,stop:Kn,getPropagationPath:la,getMousePosition:Zr,getWheelDelta:ua,isExternalTarget:ca,addListener:me,removeListener:Ve},ha=Vt.extend({run:function(r,a,c,f){this.stop(),this._el=r,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=Ti(r),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=k(this._animate,this),this._step()},_step:function(r){var a=+new Date-this._startTime,c=this._duration*1e3;a<c?this._runFrame(this._easeOut(a/c),r):(this._runFrame(1),this._complete())},_runFrame:function(r,a){var c=this._startPos.add(this._offset.multiplyBy(r));a&&c._round(),Je(this._el,c),this.fire("step")},_complete:function(){M(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Te=Vt.extend({options:{crs:mi,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,a){a=F(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(pe(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=yi&&oe.any3d&&!oe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),me(this._proxy,ra,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,a,c){if(a=a===void 0?this._zoom:this._limitZoom(a),r=this._limitCenter(pe(r),a,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=s({animate:c.animate},c.zoom),c.pan=s({animate:c.animate,duration:c.duration},c.pan));var f=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,a,c.zoom):this._tryAnimatedPan(r,c.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(r,a,c.pan&&c.pan.noMoveStart),this},setZoom:function(r,a){return this._loaded?this.setView(this.getCenter(),r,{zoom:a}):(this._zoom=r,this)},zoomIn:function(r,a){return r=r||(oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,a)},zoomOut:function(r,a){return r=r||(oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,a)},setZoomAround:function(r,a,c){var f=this.getZoomScale(a),g=this.getSize().divideBy(2),v=r instanceof $?r:this.latLngToContainerPoint(r),x=v.subtract(g).multiplyBy(1-1/f),V=this.containerPointToLatLng(g.add(x));return this.setView(V,a,{zoom:c})},_getBoundsCenterZoom:function(r,a){a=a||{},r=r.getBounds?r.getBounds():Ie(r);var c=X(a.paddingTopLeft||a.padding||[0,0]),f=X(a.paddingBottomRight||a.padding||[0,0]),g=this.getBoundsZoom(r,!1,c.add(f));if(g=typeof a.maxZoom=="number"?Math.min(a.maxZoom,g):g,g===1/0)return{center:r.getCenter(),zoom:g};var v=f.subtract(c).divideBy(2),x=this.project(r.getSouthWest(),g),V=this.project(r.getNorthEast(),g),q=this.unproject(x.add(V).divideBy(2).add(v),g);return{center:q,zoom:g}},fitBounds:function(r,a){if(r=Ie(r),!r.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(r,a);return this.setView(c.center,c.zoom,a)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,a){return this.setView(r,this._zoom,{pan:a})},panBy:function(r,a){if(r=X(r).round(),a=a||{},!r.x&&!r.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ha,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){re(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,c,a.duration||.25,a.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,a,c){if(c=c||{},c.animate===!1||!oe.any3d)return this.setView(r,a,c);this._stop();var f=this.project(this.getCenter()),g=this.project(r),v=this.getSize(),x=this._zoom;r=pe(r),a=a===void 0?x:a;var V=Math.max(v.x,v.y),q=V*this.getZoomScale(x,a),Q=g.distanceTo(f)||1,te=1.42,fe=te*te;function Ee(lt){var du=lt?-1:1,K0=lt?q:V,Q0=q*q-V*V+du*fe*fe*Q*Q,Y0=2*K0*fe*Q,Fh=Q0/Y0,Jm=Math.sqrt(Fh*Fh+1)-Fh,X0=Jm<1e-9?-18:Math.log(Jm);return X0}function Bt(lt){return(Math.exp(lt)-Math.exp(-lt))/2}function vt(lt){return(Math.exp(lt)+Math.exp(-lt))/2}function En(lt){return Bt(lt)/vt(lt)}var Qt=Ee(0);function Qs(lt){return V*(vt(Qt)/vt(Qt+te*lt))}function W0(lt){return V*(vt(Qt)*En(Qt+te*lt)-Bt(Qt))/fe}function $0(lt){return 1-Math.pow(1-lt,1.5)}var Z0=Date.now(),Ym=(Ee(1)-Qt)/te,G0=c.duration?1e3*c.duration:1e3*Ym*.8;function Xm(){var lt=(Date.now()-Z0)/G0,du=$0(lt)*Ym;lt<=1?(this._flyToFrame=k(Xm,this),this._move(this.unproject(f.add(g.subtract(f).multiplyBy(W0(du)/Q)),x),this.getScaleZoom(V/Qs(du),x),{flyTo:!0})):this._move(r,a)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),Xm.call(this),this},flyToBounds:function(r,a){var c=this._getBoundsCenterZoom(r,a);return this.flyTo(c.center,c.zoom,a)},setMaxBounds:function(r){return r=Ie(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var a=this.options.minZoom;return this.options.minZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var a=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,a){this._enforcingBounds=!0;var c=this.getCenter(),f=this._limitCenter(c,this._zoom,Ie(r));return c.equals(f)||this.panTo(f,a),this._enforcingBounds=!1,this},panInside:function(r,a){a=a||{};var c=X(a.paddingTopLeft||a.padding||[0,0]),f=X(a.paddingBottomRight||a.padding||[0,0]),g=this.project(this.getCenter()),v=this.project(r),x=this.getPixelBounds(),V=we([x.min.add(c),x.max.subtract(f)]),q=V.getSize();if(!V.contains(v)){this._enforcingBounds=!0;var Q=v.subtract(V.getCenter()),te=V.extend(v).getSize().subtract(q);g.x+=Q.x<0?-te.x:te.x,g.y+=Q.y<0?-te.y:te.y,this.panTo(this.unproject(g),a),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=s({animate:!1,pan:!0},r===!0?{animate:!0}:r);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),f=a.divideBy(2).round(),g=c.divideBy(2).round(),v=f.subtract(g);return!v.x&&!v.y?this:(r.animate&&r.pan?this.panBy(v):(r.pan&&this._rawPanBy(v),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=s({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=l(this._handleGeolocationResponse,this),c=l(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,c,r):navigator.geolocation.getCurrentPosition(a,c,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var a=r.code,c=r.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var a=r.coords.latitude,c=r.coords.longitude,f=new ve(a,c),g=f.toBounds(r.coords.accuracy*2),v=this._locateOptions;if(v.setView){var x=this.getBoundsZoom(g);this.setView(f,v.maxZoom?Math.min(x,v.maxZoom):x)}var V={latlng:f,bounds:g,timestamp:r.timestamp};for(var q in r.coords)typeof r.coords[q]=="number"&&(V[q]=r.coords[q]);this.fire("locationfound",V)}},addHandler:function(r,a){if(!a)return this;var c=this[r]=new a(this);return this._handlers.push(c),this.options[r]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ne(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(M(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Ne(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,a){var c="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),f=xe("div",c,a||this._mapPane);return r&&(this._panes[r]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),a=this.unproject(r.getBottomLeft()),c=this.unproject(r.getTopRight());return new Be(a,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,a,c){r=Ie(r),c=X(c||[0,0]);var f=this.getZoom()||0,g=this.getMinZoom(),v=this.getMaxZoom(),x=r.getNorthWest(),V=r.getSouthEast(),q=this.getSize().subtract(c),Q=we(this.project(V,f),this.project(x,f)).getSize(),te=oe.any3d?this.options.zoomSnap:1,fe=q.x/Q.x,Ee=q.y/Q.y,Bt=a?Math.max(fe,Ee):Math.min(fe,Ee);return f=this.getScaleZoom(Bt,f),te&&(f=Math.round(f/(te/100))*(te/100),f=a?Math.ceil(f/te)*te:Math.floor(f/te)*te),Math.max(g,Math.min(v,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new $(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,a){var c=this._getTopLeftPoint(r,a);return new he(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,a){var c=this.options.crs;return a=a===void 0?this._zoom:a,c.scale(r)/c.scale(a)},getScaleZoom:function(r,a){var c=this.options.crs;a=a===void 0?this._zoom:a;var f=c.zoom(r*c.scale(a));return isNaN(f)?1/0:f},project:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(pe(r),a)},unproject:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(X(r),a)},layerPointToLatLng:function(r){var a=X(r).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(r){var a=this.project(pe(r))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(pe(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(Ie(r))},distance:function(r,a){return this.options.crs.distance(pe(r),pe(a))},containerPointToLayerPoint:function(r){return X(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return X(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var a=this.containerPointToLayerPoint(X(r));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(pe(r)))},mouseEventToContainerPoint:function(r){return Zr(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var a=this._container=sa(r);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");me(a,"scroll",this._onScroll,this),this._containerId=d(a)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&oe.any3d,re(r,"leaflet-container"+(oe.touch?" leaflet-touch":"")+(oe.retina?" leaflet-retina":"")+(oe.ielt9?" leaflet-oldie":"")+(oe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=Gi(r,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Je(this._mapPane,new $(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(re(r.markerPane,"leaflet-zoom-hide"),re(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,a,c){Je(this._mapPane,new $(0,0));var f=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var g=this._zoom!==a;this._moveStart(g,c)._move(r,a)._moveEnd(g),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(r,a){return r&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(r,a,c,f){a===void 0&&(a=this._zoom);var g=this._zoom!==a;return this._zoom=a,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),f?c&&c.pinch&&this.fire("zoom",c):((g||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return M(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Je(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[d(this._container)]=this;var a=r?Ve:me;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),oe.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){M(this._resizeRequest),this._resizeRequest=k(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,a){for(var c=[],f,g=a==="mouseout"||a==="mouseover",v=r.target||r.srcElement,x=!1;v;){if(f=this._targets[d(v)],f&&(a==="click"||a==="preclick")&&this._draggableMoved(f)){x=!0;break}if(f&&f.listens(a,!0)&&(g&&!ca(v,r)||(c.push(f),g))||v===this._container)break;v=v.parentNode}return!c.length&&!x&&!g&&this.listens(a,!0)&&(c=[this]),c},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var a=r.target||r.srcElement;if(!(!this._loaded||a._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(a))){var c=r.type;c==="mousedown"&&oa(a),this._fireDOMEvent(r,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,a,c){if(r.type==="click"){var f=s({},r);f.type="preclick",this._fireDOMEvent(f,f.type,c)}var g=this._findEventTargets(r,a);if(c){for(var v=[],x=0;x<c.length;x++)c[x].listens(a,!0)&&v.push(c[x]);g=v.concat(g)}if(g.length){a==="contextmenu"&&at(r);var V=g[0],q={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var Q=V.getLatLng&&(!V._radius||V._radius<=10);q.containerPoint=Q?this.latLngToContainerPoint(V.getLatLng()):this.mouseEventToContainerPoint(r),q.layerPoint=this.containerPointToLayerPoint(q.containerPoint),q.latlng=Q?V.getLatLng():this.layerPointToLatLng(q.layerPoint)}for(x=0;x<g.length;x++)if(g[x].fire(a,q,!0),q.originalEvent._stopped||g[x].options.bubblingMouseEvents===!1&&W(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,a=this._handlers.length;r<a;r++)this._handlers[r].disable()},whenReady:function(r,a){return this._loaded?r.call(a||this,{target:this}):this.on("load",r,a),this},_getMapPanePos:function(){return Ti(this._mapPane)||new $(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,a){var c=r&&a!==void 0?this._getNewPixelOrigin(r,a):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,a){var c=this.getSize()._divideBy(2);return this.project(r,a)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,a,c){var f=this._getNewPixelOrigin(c,a);return this.project(r,a)._subtract(f)},_latLngBoundsToNewLayerBounds:function(r,a,c){var f=this._getNewPixelOrigin(c,a);return we([this.project(r.getSouthWest(),a)._subtract(f),this.project(r.getNorthWest(),a)._subtract(f),this.project(r.getSouthEast(),a)._subtract(f),this.project(r.getNorthEast(),a)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,a,c){if(!c)return r;var f=this.project(r,a),g=this.getSize().divideBy(2),v=new he(f.subtract(g),f.add(g)),x=this._getBoundsOffset(v,c,a);return Math.abs(x.x)<=1&&Math.abs(x.y)<=1?r:this.unproject(f.add(x),a)},_limitOffset:function(r,a){if(!a)return r;var c=this.getPixelBounds(),f=new he(c.min.add(r),c.max.add(r));return r.add(this._getBoundsOffset(f,a))},_getBoundsOffset:function(r,a,c){var f=we(this.project(a.getNorthEast(),c),this.project(a.getSouthWest(),c)),g=f.min.subtract(r.min),v=f.max.subtract(r.max),x=this._rebound(g.x,-v.x),V=this._rebound(g.y,-v.y);return new $(x,V)},_rebound:function(r,a){return r+a>0?Math.round(r-a)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(a))},_limitZoom:function(r){var a=this.getMinZoom(),c=this.getMaxZoom(),f=oe.any3d?this.options.zoomSnap:1;return f&&(r=Math.round(r/f)*f),Math.max(a,Math.min(c,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ue(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,a){var c=this._getCenterOffset(r)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,a),!0)},_createAnimProxy:function(){var r=this._proxy=xe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(a){var c=jr,f=this._proxy.style[c];wi(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),f===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ne(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),a=this.getZoom();wi(this._proxy,this.project(r,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,a,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(a),g=this._getCenterOffset(r)._divideBy(1-1/f);return c.animate!==!0&&!this.getSize().contains(g)?!1:(k(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(r,a,!0)},this),!0)},_animateZoom:function(r,a,c,f){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=a,re(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:a,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ue(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Fs(r,a){return new Te(r,a)}var Kt=ue.extend({options:{position:"topright"},initialize:function(r){F(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var a=this._map;return a&&a.removeControl(this),this.options.position=r,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var a=this._container=this.onAdd(r),c=this.getPosition(),f=r._controlCorners[c];return re(a,"leaflet-control"),c.indexOf("bottom")!==-1?f.insertBefore(a,f.firstChild):f.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ne(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Yn=function(r){return new Kt(r)};Te.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},a="leaflet-",c=this._controlContainer=xe("div",a+"control-container",this._container);function f(g,v){var x=a+g+" "+a+v;r[g+v]=xe("div",x,c)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Ne(this._controlCorners[r]);Ne(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Xl=Kt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,a,c,f){return c<f?-1:f<c?1:0}},initialize:function(r,a,c){F(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in r)this._addLayer(r[f],f);for(f in a)this._addLayer(a[f],f,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Kt.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,a){return this._addLayer(r,a),this._map?this._update():this},addOverlay:function(r,a){return this._addLayer(r,a,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var a=this._getLayer(d(r));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){re(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(re(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Ue(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ue(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",a=this._container=xe("div",r),c=this.options.collapsed;a.setAttribute("aria-haspopup",!0),$r(a),aa(a);var f=this._section=xe("section",r+"-list");c&&(this._map.on("click",this.collapse,this),me(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var g=this._layersLink=xe("a",r+"-toggle",a);g.href="#",g.title="Layers",g.setAttribute("role","button"),me(g,{keydown:function(v){v.keyCode===13&&this._expandSafely()},click:function(v){at(v),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=xe("div",r+"-base",f),this._separator=xe("div",r+"-separator",f),this._overlaysList=xe("div",r+"-overlays",f),a.appendChild(f)},_getLayer:function(r){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&d(this._layers[a].layer)===r)return this._layers[a]},_addLayer:function(r,a,c){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:a,overlay:c}),this.options.sortLayers&&this._layers.sort(l(function(f,g){return this.options.sortFunction(f.layer,g.layer,f.name,g.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ft(this._baseLayersList),Ft(this._overlaysList),this._layerControlInputs=[];var r,a,c,f,g=0;for(c=0;c<this._layers.length;c++)f=this._layers[c],this._addItem(f),a=a||f.overlay,r=r||!f.overlay,g+=f.overlay?0:1;return this.options.hideSingleBase&&(r=r&&g>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=a&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var a=this._getLayer(d(r.target)),c=a.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;c&&this._map.fire(c,a)},_createRadioElement:function(r,a){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(a?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=c,f.firstChild},_addItem:function(r){var a=document.createElement("label"),c=this._map.hasLayer(r.layer),f;r.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=c):f=this._createRadioElement("leaflet-base-layers_"+d(this),c),this._layerControlInputs.push(f),f.layerId=d(r.layer),me(f,"click",this._onInputClick,this);var g=document.createElement("span");g.innerHTML=" "+r.name;var v=document.createElement("span");a.appendChild(v),v.appendChild(f),v.appendChild(g);var x=r.overlay?this._overlaysList:this._baseLayersList;return x.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,a,c,f=[],g=[];this._handlingClick=!0;for(var v=r.length-1;v>=0;v--)a=r[v],c=this._getLayer(a.layerId).layer,a.checked?f.push(c):a.checked||g.push(c);for(v=0;v<g.length;v++)this._map.hasLayer(g[v])&&this._map.removeLayer(g[v]);for(v=0;v<f.length;v++)this._map.hasLayer(f[v])||this._map.addLayer(f[v]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,a,c,f=this._map.getZoom(),g=r.length-1;g>=0;g--)a=r[g],c=this._getLayer(a.layerId).layer,a.disabled=c.options.minZoom!==void 0&&f<c.options.minZoom||c.options.maxZoom!==void 0&&f>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,me(r,"click",at),this.expand();var a=this;setTimeout(function(){Ve(r,"click",at),a._preventClick=!1})}}),Jl=function(r,a,c){return new Xl(r,a,c)},Ii=Kt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var a="leaflet-control-zoom",c=xe("div",a+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,a+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,a+"-out",c,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,a,c,f,g){var v=xe("a",c,f);return v.innerHTML=r,v.href="#",v.title=a,v.setAttribute("role","button"),v.setAttribute("aria-label",a),$r(v),me(v,"click",Kn),me(v,"click",g,this),me(v,"click",this._refocusOnMap,this),v},_updateDisabled:function(){var r=this._map,a="leaflet-disabled";Ue(this._zoomInButton,a),Ue(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(re(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(re(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});Te.mergeOptions({zoomControl:!0}),Te.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ii,this.addControl(this.zoomControl))});var eu=function(r){return new Ii(r)},fa=Kt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var a="leaflet-control-scale",c=xe("div",a),f=this.options;return this._addScales(f,a+"-line",c),r.on(f.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),c},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,a,c){r.metric&&(this._mScale=xe("div",a,c)),r.imperial&&(this._iScale=xe("div",a,c))},_update:function(){var r=this._map,a=r.getSize().y/2,c=r.distance(r.containerPointToLatLng([0,a]),r.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(c)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var a=this._getRoundNum(r),c=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,c,a/r)},_updateImperial:function(r){var a=r*3.2808399,c,f,g;a>5280?(c=a/5280,f=this._getRoundNum(c),this._updateScale(this._iScale,f+" mi",f/c)):(g=this._getRoundNum(a),this._updateScale(this._iScale,g+" ft",g/a))},_updateScale:function(r,a,c){r.style.width=Math.round(this.options.maxWidth*c)+"px",r.innerHTML=a},_getRoundNum:function(r){var a=Math.pow(10,(Math.floor(r)+"").length-1),c=r/a;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,a*c}}),da=function(r){return new fa(r)},pa='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',zs=Kt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(oe.inlineSvg?pa+" ":"")+"Leaflet</a>"},initialize:function(r){F(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=xe("div","leaflet-control-attribution"),$r(this._container);for(var a in r._layers)r._layers[a].getAttribution&&this.addAttribution(r._layers[a].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var a in this._attributions)this._attributions[a]&&r.push(a);var c=[];this.options.prefix&&c.push(this.options.prefix),r.length&&c.push(r.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});Te.mergeOptions({attributionControl:!0}),Te.addInitHook(function(){this.options.attributionControl&&new zs().addTo(this)});var Bs=function(r){return new zs(r)};Kt.Layers=Xl,Kt.Zoom=Ii,Kt.Scale=fa,Kt.Attribution=zs,Yn.layers=Jl,Yn.zoom=eu,Yn.scale=da,Yn.attribution=Bs;var an=ue.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});an.addTo=function(r,a){return r.addHandler(a,this),this};var tu={Events:tt},Xn=oe.touch?"touchstart mousedown":"mousedown",Dn=Vt.extend({options:{clickTolerance:3},initialize:function(r,a,c,f){F(this,f),this._element=r,this._dragStartTarget=a||r,this._preventOutline=c},enable:function(){this._enabled||(me(this._dragStartTarget,Xn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Dn._dragging===this&&this.finishDrag(!0),Ve(this._dragStartTarget,Xn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Hr(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Dn._dragging===this&&this.finishDrag();return}if(!(Dn._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Dn._dragging=this,this._preventOutline&&oa(this._element),bs(),Nn(),!this._moving)){this.fire("down");var a=r.touches?r.touches[0]:r,c=Yl(this._element);this._startPoint=new $(a.clientX,a.clientY),this._startPos=Ti(this._element),this._parentScale=vn(c);var f=r.type==="mousedown";me(document,f?"mousemove":"touchmove",this._onMove,this),me(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var a=r.touches&&r.touches.length===1?r.touches[0]:r,c=new $(a.clientX,a.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,at(r),this._moved||(this.fire("dragstart"),this._moved=!0,re(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),re(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Je(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Ue(document.body,"leaflet-dragging"),this._lastTarget&&(Ue(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ve(document,"mousemove touchmove",this._onMove,this),Ve(document,"mouseup touchend touchcancel",this._onUp,this),Ms(),on();var a=this._moved&&this._moving;this._moving=!1,Dn._dragging=!1,a&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function ma(r,a,c){var f,g=[1,4,2,8],v,x,V,q,Q,te,fe,Ee;for(v=0,te=r.length;v<te;v++)r[v]._code=H(r[v],a);for(V=0;V<4;V++){for(fe=g[V],f=[],v=0,te=r.length,x=te-1;v<te;x=v++)q=r[v],Q=r[x],q._code&fe?Q._code&fe||(Ee=O(Q,q,fe,a,c),Ee._code=H(Ee,a),f.push(Ee)):(Q._code&fe&&(Ee=O(Q,q,fe,a,c),Ee._code=H(Ee,a),f.push(Ee)),f.push(q));r=f}return r}function ga(r,a){var c,f,g,v,x,V,q,Q,te;if(!r||r.length===0)throw new Error("latlngs not passed");De(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var fe=pe([0,0]),Ee=Ie(r),Bt=Ee.getNorthWest().distanceTo(Ee.getSouthWest())*Ee.getNorthEast().distanceTo(Ee.getNorthWest());Bt<1700&&(fe=Us(r));var vt=r.length,En=[];for(c=0;c<vt;c++){var Qt=pe(r[c]);En.push(a.project(pe([Qt.lat-fe.lat,Qt.lng-fe.lng])))}for(V=q=Q=0,c=0,f=vt-1;c<vt;f=c++)g=En[c],v=En[f],x=g.y*v.x-v.y*g.x,q+=(g.x+v.x)*x,Q+=(g.y+v.y)*x,V+=x*3;V===0?te=En[0]:te=[q/V,Q/V];var Qs=a.unproject(X(te));return pe([Qs.lat+fe.lat,Qs.lng+fe.lng])}function Us(r){for(var a=0,c=0,f=0,g=0;g<r.length;g++){var v=pe(r[g]);a+=v.lat,c+=v.lng,f++}return pe([a/f,c/f])}var js={__proto__:null,clipPolygon:ma,polygonCenter:ga,centroid:Us};function Rt(r,a){if(!a||!r.length)return r.slice();var c=a*a;return r=p(r,c),r=Yi(r,c),r}function _a(r,a,c){return Math.sqrt(ge(r,a,c,!0))}function nu(r,a,c){return ge(r,a,c)}function Yi(r,a){var c=r.length,f=typeof Uint8Array<"u"?Uint8Array:Array,g=new f(c);g[0]=g[c-1]=1,u(r,g,a,0,c-1);var v,x=[];for(v=0;v<c;v++)g[v]&&x.push(r[v]);return x}function u(r,a,c,f,g){var v=0,x,V,q;for(V=f+1;V<=g-1;V++)q=ge(r[V],r[f],r[g],!0),q>v&&(x=V,v=q);v>c&&(a[x]=1,u(r,a,c,f,x),u(r,a,c,x,g))}function p(r,a){for(var c=[r[0]],f=1,g=0,v=r.length;f<v;f++)ee(r[f],r[g])>a&&(c.push(r[f]),g=f);return g<v-1&&c.push(r[v-1]),c}var _;function E(r,a,c,f,g){var v=f?_:H(r,c),x=H(a,c),V,q,Q;for(_=x;;){if(!(v|x))return[r,a];if(v&x)return!1;V=v||x,q=O(r,a,V,c,g),Q=H(q,c),V===v?(r=q,v=Q):(a=q,x=Q)}}function O(r,a,c,f,g){var v=a.x-r.x,x=a.y-r.y,V=f.min,q=f.max,Q,te;return c&8?(Q=r.x+v*(q.y-r.y)/x,te=q.y):c&4?(Q=r.x+v*(V.y-r.y)/x,te=V.y):c&2?(Q=q.x,te=r.y+x*(q.x-r.x)/v):c&1&&(Q=V.x,te=r.y+x*(V.x-r.x)/v),new $(Q,te,g)}function H(r,a){var c=0;return r.x<a.min.x?c|=1:r.x>a.max.x&&(c|=2),r.y<a.min.y?c|=4:r.y>a.max.y&&(c|=8),c}function ee(r,a){var c=a.x-r.x,f=a.y-r.y;return c*c+f*f}function ge(r,a,c,f){var g=a.x,v=a.y,x=c.x-g,V=c.y-v,q=x*x+V*V,Q;return q>0&&(Q=((r.x-g)*x+(r.y-v)*V)/q,Q>1?(g=c.x,v=c.y):Q>0&&(g+=x*Q,v+=V*Q)),x=r.x-g,V=r.y-v,f?x*x+V*V:new $(g,v)}function De(r){return!D(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function Me(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),De(r)}function it(r,a){var c,f,g,v,x,V,q,Q;if(!r||r.length===0)throw new Error("latlngs not passed");De(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var te=pe([0,0]),fe=Ie(r),Ee=fe.getNorthWest().distanceTo(fe.getSouthWest())*fe.getNorthEast().distanceTo(fe.getNorthWest());Ee<1700&&(te=Us(r));var Bt=r.length,vt=[];for(c=0;c<Bt;c++){var En=pe(r[c]);vt.push(a.project(pe([En.lat-te.lat,En.lng-te.lng])))}for(c=0,f=0;c<Bt-1;c++)f+=vt[c].distanceTo(vt[c+1])/2;if(f===0)Q=vt[0];else for(c=0,v=0;c<Bt-1;c++)if(x=vt[c],V=vt[c+1],g=x.distanceTo(V),v+=g,v>f){q=(v-f)/g,Q=[V.x-q*(V.x-x.x),V.y-q*(V.y-x.y)];break}var Qt=a.unproject(X(Q));return pe([Qt.lat+te.lat,Qt.lng+te.lng])}var wn={__proto__:null,simplify:Rt,pointToSegmentDistance:_a,closestPointOnSegment:nu,clipSegment:E,_getEdgeIntersection:O,_getBitCode:H,_sqClosestPointOnSegment:ge,isFlat:De,_flat:Me,polylineCenter:it},bn={project:function(r){return new $(r.lng,r.lat)},unproject:function(r){return new ve(r.y,r.x)},bounds:new he([-180,-90],[180,90])},Tn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new he([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var a=Math.PI/180,c=this.R,f=r.lat*a,g=this.R_MINOR/c,v=Math.sqrt(1-g*g),x=v*Math.sin(f),V=Math.tan(Math.PI/4-f/2)/Math.pow((1-x)/(1+x),v/2);return f=-c*Math.log(Math.max(V,1e-10)),new $(r.lng*a*c,f)},unproject:function(r){for(var a=180/Math.PI,c=this.R,f=this.R_MINOR/c,g=Math.sqrt(1-f*f),v=Math.exp(-r.y/c),x=Math.PI/2-2*Math.atan(v),V=0,q=.1,Q;V<15&&Math.abs(q)>1e-7;V++)Q=g*Math.sin(x),Q=Math.pow((1-Q)/(1+Q),g/2),q=Math.PI/2-2*Math.atan(v*Q)-x,x+=q;return new ve(x*a,r.x*a/c)}},Jn={__proto__:null,LonLat:bn,Mercator:Tn,SphericalMercator:Dr},Hs=s({},$t,{code:"EPSG:3395",projection:Tn,transformation:function(){var r=.5/(Math.PI*Tn.R);return $n(r,.5,-r,.5)}()}),qs=s({},$t,{code:"EPSG:4326",projection:bn,transformation:$n(1/180,1,-1/180,.5)}),I0=s({},ot,{projection:bn,transformation:$n(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,a){var c=a.lng-r.lng,f=a.lat-r.lat;return Math.sqrt(c*c+f*f)},infinite:!0});ot.Earth=$t,ot.EPSG3395=Hs,ot.EPSG3857=mi,ot.EPSG900913=Is,ot.EPSG4326=qs,ot.Simple=I0;var Mn=Vt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[d(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[d(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var a=r.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var c=this.getEvents();a.on(c,this),this.once("remove",function(){a.off(c,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});Te.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var a=d(r);return this._layers[a]?this:(this._layers[a]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var a=d(r);return this._layers[a]?(this._loaded&&r.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return d(r)in this._layers},eachLayer:function(r,a){for(var c in this._layers)r.call(a,this._layers[c]);return this},_addLayers:function(r){r=r?D(r)?r:[r]:[];for(var a=0,c=r.length;a<c;a++)this.addLayer(r[a])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[d(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var a=d(r);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,a=-1/0,c=this._getZoomSpan();for(var f in this._zoomBoundLayers){var g=this._zoomBoundLayers[f].options;r=g.minZoom===void 0?r:Math.min(r,g.minZoom),a=g.maxZoom===void 0?a:Math.max(a,g.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=r===1/0?void 0:r,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ws=Mn.extend({initialize:function(r,a){F(this,a),this._layers={};var c,f;if(r)for(c=0,f=r.length;c<f;c++)this.addLayer(r[c])},addLayer:function(r){var a=this.getLayerId(r);return this._layers[a]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var a=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(r){var a=typeof r=="number"?r:this.getLayerId(r);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var a=Array.prototype.slice.call(arguments,1),c,f;for(c in this._layers)f=this._layers[c],f[r]&&f[r].apply(f,a);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,a){for(var c in this._layers)r.call(a,this._layers[c]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return d(r)}}),S0=function(r,a){return new Ws(r,a)},Si=Ws.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),Ws.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),Ws.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new Be;for(var a in this._layers){var c=this._layers[a];r.extend(c.getBounds?c.getBounds():c.getLatLng())}return r}}),P0=function(r,a){return new Si(r,a)},$s=ue.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){F(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,a){var c=this._getIconUrl(r);if(!c){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(c,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(f,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(r,a){var c=this.options,f=c[a+"Size"];typeof f=="number"&&(f=[f,f]);var g=X(f),v=X(a==="shadow"&&c.shadowAnchor||c.iconAnchor||g&&g.divideBy(2,!0));r.className="leaflet-marker-"+a+" "+(c.className||""),v&&(r.style.marginLeft=-v.x+"px",r.style.marginTop=-v.y+"px"),g&&(r.style.width=g.x+"px",r.style.height=g.y+"px")},_createImg:function(r,a){return a=a||document.createElement("img"),a.src=r,a},_getIconUrl:function(r){return oe.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function C0(r){return new $s(r)}var ya=$s.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof ya.imagePath!="string"&&(ya.imagePath=this._detectIconPath()),(this.options.imagePath||ya.imagePath)+$s.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var a=function(c,f,g){var v=f.exec(c);return v&&v[g]};return r=a(r,/^url\((['"])?(.+)\1\)$/,2),r&&a(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=xe("div","leaflet-default-icon-path",document.body),a=Gi(r,"background-image")||Gi(r,"backgroundImage");if(document.body.removeChild(r),a=this._stripUrl(a),a)return a;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Nm=an.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Dn(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),re(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ue(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var a=this._marker,c=a._map,f=this._marker.options.autoPanSpeed,g=this._marker.options.autoPanPadding,v=Ti(a._icon),x=c.getPixelBounds(),V=c.getPixelOrigin(),q=we(x.min._subtract(V).add(g),x.max._subtract(V).subtract(g));if(!q.contains(v)){var Q=X((Math.max(q.max.x,v.x)-q.max.x)/(x.max.x-q.max.x)-(Math.min(q.min.x,v.x)-q.min.x)/(x.min.x-q.min.x),(Math.max(q.max.y,v.y)-q.max.y)/(x.max.y-q.max.y)-(Math.min(q.min.y,v.y)-q.min.y)/(x.min.y-q.min.y)).multiplyBy(f);c.panBy(Q,{animate:!1}),this._draggable._newPos._add(Q),this._draggable._startPos._add(Q),Je(a._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=k(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(M(this._panRequest),this._panRequest=k(this._adjustPan.bind(this,r)))},_onDrag:function(r){var a=this._marker,c=a._shadow,f=Ti(a._icon),g=a._map.layerPointToLatLng(f);c&&Je(c,f),a._latlng=g,r.latlng=g,r.oldLatLng=this._oldLatLng,a.fire("move",r).fire("drag",r)},_onDragEnd:function(r){M(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),iu=Mn.extend({options:{icon:new ya,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,a){F(this,a),this._latlng=pe(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var a=this._latlng;return this._latlng=pe(r),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=r.icon.createIcon(this._icon),f=!1;c!==this._icon&&(this._icon&&this._removeIcon(),f=!0,r.title&&(c.title=r.title),c.tagName==="IMG"&&(c.alt=r.alt||"")),re(c,a),r.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&me(c,"focus",this._panOnFocus,this);var g=r.icon.createShadow(this._shadow),v=!1;g!==this._shadow&&(this._removeShadow(),v=!0),g&&(re(g,a),g.alt=""),this._shadow=g,r.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),g&&v&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ve(this._icon,"focus",this._panOnFocus,this),Ne(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ne(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Je(this._icon,r),this._shadow&&Je(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(re(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Nm)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Nm(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Gt(this._icon,r),this._shadow&&Gt(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var a=this.options.icon.options,c=a.iconSize?X(a.iconSize):X(0,0),f=a.iconAnchor?X(a.iconAnchor):X(0,0);r.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:c.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function A0(r,a){return new iu(r,a)}var Xi=Mn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return F(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ru=Xi.extend({options:{fill:!0,radius:10},initialize:function(r,a){F(this,a),this._latlng=pe(r),this._radius=this.options.radius},setLatLng:function(r){var a=this._latlng;return this._latlng=pe(r),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var a=r&&r.radius||this._radius;return Xi.prototype.setStyle.call(this,r),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,a=this._radiusY||r,c=this._clickTolerance(),f=[r+c,a+c];this._pxBounds=new he(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function x0(r,a){return new ru(r,a)}var bh=ru.extend({initialize:function(r,a,c){if(typeof a=="number"&&(a=s({},c,{radius:a})),F(this,a),this._latlng=pe(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new Be(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Xi.prototype.setStyle,_project:function(){var r=this._latlng.lng,a=this._latlng.lat,c=this._map,f=c.options.crs;if(f.distance===$t.distance){var g=Math.PI/180,v=this._mRadius/$t.R/g,x=c.project([a+v,r]),V=c.project([a-v,r]),q=x.add(V).divideBy(2),Q=c.unproject(q).lat,te=Math.acos((Math.cos(v*g)-Math.sin(a*g)*Math.sin(Q*g))/(Math.cos(a*g)*Math.cos(Q*g)))/g;(isNaN(te)||te===0)&&(te=v/Math.cos(Math.PI/180*a)),this._point=q.subtract(c.getPixelOrigin()),this._radius=isNaN(te)?0:q.x-c.project([Q,r-te]).x,this._radiusY=q.y-x.y}else{var fe=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(fe).x}this._updateBounds()}});function R0(r,a,c){return new bh(r,a,c)}var Pi=Xi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,a){F(this,a),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var a=1/0,c=null,f=ge,g,v,x=0,V=this._parts.length;x<V;x++)for(var q=this._parts[x],Q=1,te=q.length;Q<te;Q++){g=q[Q-1],v=q[Q];var fe=f(r,g,v,!0);fe<a&&(a=fe,c=f(r,g,v))}return c&&(c.distance=Math.sqrt(a)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return it(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,a){return a=a||this._defaultShape(),r=pe(r),a.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new Be,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return De(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var a=[],c=De(r),f=0,g=r.length;f<g;f++)c?(a[f]=pe(r[f]),this._bounds.extend(a[f])):a[f]=this._convertLatLngs(r[f]);return a},_project:function(){var r=new he;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),a=new $(r,r);this._rawPxBounds&&(this._pxBounds=new he([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(r,a,c){var f=r[0]instanceof ve,g=r.length,v,x;if(f){for(x=[],v=0;v<g;v++)x[v]=this._map.latLngToLayerPoint(r[v]),c.extend(x[v]);a.push(x)}else for(v=0;v<g;v++)this._projectLatlngs(r[v],a,c)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,c,f,g,v,x,V,q;for(c=0,g=0,v=this._rings.length;c<v;c++)for(q=this._rings[c],f=0,x=q.length;f<x-1;f++)V=E(q[f],q[f+1],r,f,!0),V&&(a[g]=a[g]||[],a[g].push(V[0]),(V[1]!==q[f+1]||f===x-2)&&(a[g].push(V[1]),g++))}},_simplifyPoints:function(){for(var r=this._parts,a=this.options.smoothFactor,c=0,f=r.length;c<f;c++)r[c]=Rt(r[c],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,a){var c,f,g,v,x,V,q=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(c=0,v=this._parts.length;c<v;c++)for(V=this._parts[c],f=0,x=V.length,g=x-1;f<x;g=f++)if(!(!a&&f===0)&&_a(r,V[g],V[f])<=q)return!0;return!1}});function k0(r,a){return new Pi(r,a)}Pi._flat=Me;var Zs=Pi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ga(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var a=Pi.prototype._convertLatLngs.call(this,r),c=a.length;return c>=2&&a[0]instanceof ve&&a[0].equals(a[c-1])&&a.pop(),a},_setLatLngs:function(r){Pi.prototype._setLatLngs.call(this,r),De(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return De(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,a=this.options.weight,c=new $(a,a);if(r=new he(r.min.subtract(c),r.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,g=this._rings.length,v;f<g;f++)v=ma(this._rings[f],r,!0),v.length&&this._parts.push(v)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var a=!1,c,f,g,v,x,V,q,Q;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(v=0,q=this._parts.length;v<q;v++)for(c=this._parts[v],x=0,Q=c.length,V=Q-1;x<Q;V=x++)f=c[x],g=c[V],f.y>r.y!=g.y>r.y&&r.x<(g.x-f.x)*(r.y-f.y)/(g.y-f.y)+f.x&&(a=!a);return a||Pi.prototype._containsPoint.call(this,r,!0)}});function L0(r,a){return new Zs(r,a)}var Ci=Si.extend({initialize:function(r,a){F(this,a),this._layers={},r&&this.addData(r)},addData:function(r){var a=D(r)?r:r.features,c,f,g;if(a){for(c=0,f=a.length;c<f;c++)g=a[c],(g.geometries||g.geometry||g.features||g.coordinates)&&this.addData(g);return this}var v=this.options;if(v.filter&&!v.filter(r))return this;var x=su(r,v);return x?(x.feature=lu(r),x.defaultOptions=x.options,this.resetStyle(x),v.onEachFeature&&v.onEachFeature(r,x),this.addLayer(x)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=s({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(a){this._setLayerStyle(a,r)},this)},_setLayerStyle:function(r,a){r.setStyle&&(typeof a=="function"&&(a=a(r.feature)),r.setStyle(a))}});function su(r,a){var c=r.type==="Feature"?r.geometry:r,f=c?c.coordinates:null,g=[],v=a&&a.pointToLayer,x=a&&a.coordsToLatLng||Mh,V,q,Q,te;if(!f&&!c)return null;switch(c.type){case"Point":return V=x(f),Dm(v,r,V,a);case"MultiPoint":for(Q=0,te=f.length;Q<te;Q++)V=x(f[Q]),g.push(Dm(v,r,V,a));return new Si(g);case"LineString":case"MultiLineString":return q=ou(f,c.type==="LineString"?0:1,x),new Pi(q,a);case"Polygon":case"MultiPolygon":return q=ou(f,c.type==="Polygon"?1:2,x),new Zs(q,a);case"GeometryCollection":for(Q=0,te=c.geometries.length;Q<te;Q++){var fe=su({geometry:c.geometries[Q],type:"Feature",properties:r.properties},a);fe&&g.push(fe)}return new Si(g);case"FeatureCollection":for(Q=0,te=c.features.length;Q<te;Q++){var Ee=su(c.features[Q],a);Ee&&g.push(Ee)}return new Si(g);default:throw new Error("Invalid GeoJSON object.")}}function Dm(r,a,c,f){return r?r(a,c):new iu(c,f&&f.markersInheritOptions&&f)}function Mh(r){return new ve(r[1],r[0],r[2])}function ou(r,a,c){for(var f=[],g=0,v=r.length,x;g<v;g++)x=a?ou(r[g],a-1,c):(c||Mh)(r[g]),f.push(x);return f}function Oh(r,a){return r=pe(r),r.alt!==void 0?[T(r.lng,a),T(r.lat,a),T(r.alt,a)]:[T(r.lng,a),T(r.lat,a)]}function au(r,a,c,f){for(var g=[],v=0,x=r.length;v<x;v++)g.push(a?au(r[v],De(r[v])?0:a-1,c,f):Oh(r[v],f));return!a&&c&&g.length>0&&g.push(g[0].slice()),g}function Gs(r,a){return r.feature?s({},r.feature,{geometry:a}):lu(a)}function lu(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Vh={toGeoJSON:function(r){return Gs(this,{type:"Point",coordinates:Oh(this.getLatLng(),r)})}};iu.include(Vh),bh.include(Vh),ru.include(Vh),Pi.include({toGeoJSON:function(r){var a=!De(this._latlngs),c=au(this._latlngs,a?1:0,!1,r);return Gs(this,{type:(a?"Multi":"")+"LineString",coordinates:c})}}),Zs.include({toGeoJSON:function(r){var a=!De(this._latlngs),c=a&&!De(this._latlngs[0]),f=au(this._latlngs,c?2:a?1:0,!0,r);return a||(f=[f]),Gs(this,{type:(c?"Multi":"")+"Polygon",coordinates:f})}}),Ws.include({toMultiPoint:function(r){var a=[];return this.eachLayer(function(c){a.push(c.toGeoJSON(r).geometry.coordinates)}),Gs(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(r){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(r);var c=a==="GeometryCollection",f=[];return this.eachLayer(function(g){if(g.toGeoJSON){var v=g.toGeoJSON(r);if(c)f.push(v.geometry);else{var x=lu(v);x.type==="FeatureCollection"?f.push.apply(f,x.features):f.push(x)}}}),c?Gs(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function bm(r,a){return new Ci(r,a)}var N0=bm,uu=Mn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,a,c){this._url=r,this._bounds=Ie(a),F(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(re(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ne(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&_n(this._image),this},bringToBack:function(){return this._map&&yn(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=Ie(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",a=this._image=r?this._url:xe("img");if(re(a,"leaflet-image-layer"),this._zoomAnimated&&re(a,"leaflet-zoom-animated"),this.options.className&&re(a,this.options.className),a.onselectstart=w,a.onmousemove=w,a.onload=l(this.fire,this,"load"),a.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(r){var a=this._map.getZoomScale(r.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;wi(this._image,c,a)},_reset:function(){var r=this._image,a=new he(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=a.getSize();Je(r,a.min),r.style.width=c.x+"px",r.style.height=c.y+"px"},_updateOpacity:function(){Gt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),D0=function(r,a,c){return new uu(r,a,c)},Mm=uu.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",a=this._image=r?this._url:xe("video");if(re(a,"leaflet-image-layer"),this._zoomAnimated&&re(a,"leaflet-zoom-animated"),this.options.className&&re(a,this.options.className),a.onselectstart=w,a.onmousemove=w,a.onloadeddata=l(this.fire,this,"load"),r){for(var c=a.getElementsByTagName("source"),f=[],g=0;g<c.length;g++)f.push(c[g].src);this._url=c.length>0?f:[a.src];return}D(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var v=0;v<this._url.length;v++){var x=xe("source");x.src=this._url[v],a.appendChild(x)}}});function b0(r,a,c){return new Mm(r,a,c)}var Om=uu.extend({_initImage:function(){var r=this._image=this._url;re(r,"leaflet-image-layer"),this._zoomAnimated&&re(r,"leaflet-zoom-animated"),this.options.className&&re(r,this.options.className),r.onselectstart=w,r.onmousemove=w}});function M0(r,a,c){return new Om(r,a,c)}var ei=Mn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,a){r&&(r instanceof ve||D(r))?(this._latlng=pe(r),F(this,a)):(F(this,r),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Gt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Gt(this._container,1),this.bringToFront(),this.options.interactive&&(re(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Gt(this._container,0),this._removeTimeout=setTimeout(l(Ne,void 0,this._container),200)):Ne(this._container),this.options.interactive&&(Ue(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=pe(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&_n(this._container),this},bringToBack:function(){return this._map&&yn(this._container),this},_prepareOpen:function(r){var a=this._source;if(!a._map)return!1;if(a instanceof Si){a=null;var c=this._source._layers;for(var f in c)if(c[f]._map){a=c[f];break}if(!a)return!1;this._source=a}if(!r)if(a.getCenter)r=a.getCenter();else if(a.getLatLng)r=a.getLatLng();else if(a.getBounds)r=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")r.innerHTML=a;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),a=X(this.options.offset),c=this._getAnchor();this._zoomAnimated?Je(this._container,r.add(c)):a=a.add(r).add(c);var f=this._containerBottom=-a.y,g=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=f+"px",this._container.style.left=g+"px"}},_getAnchor:function(){return[0,0]}});Te.include({_initOverlay:function(r,a,c,f){var g=a;return g instanceof r||(g=new r(f).setContent(a)),c&&g.setLatLng(c),g}}),Mn.include({_initOverlay:function(r,a,c,f){var g=c;return g instanceof r?(F(g,f),g._source=this):(g=a&&!f?a:new r(f,this),g.setContent(c)),g}});var cu=ei.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,ei.prototype.openOn.call(this,r)},onAdd:function(r){ei.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Xi||this._source.on("preclick",be))},onRemove:function(r){ei.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Xi||this._source.off("preclick",be))},getEvents:function(){var r=ei.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",a=this._container=xe("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=xe("div",r+"-content-wrapper",a);if(this._contentNode=xe("div",r+"-content",c),$r(a),aa(this._contentNode),me(a,"contextmenu",be),this._tipContainer=xe("div",r+"-tip-container",a),this._tip=xe("div",r+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=xe("a",r+"-close-button",a);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',me(f,"click",function(g){at(g),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,a=r.style;a.width="",a.whiteSpace="nowrap";var c=r.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),a.width=c+1+"px",a.whiteSpace="",a.height="";var f=r.offsetHeight,g=this.options.maxHeight,v="leaflet-popup-scrolled";g&&f>g?(a.height=g+"px",re(r,v)):Ue(r,v),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),c=this._getAnchor();Je(this._container,a.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,a=parseInt(Gi(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+a,f=this._containerWidth,g=new $(this._containerLeft,-c-this._containerBottom);g._add(Ti(this._container));var v=r.layerPointToContainerPoint(g),x=X(this.options.autoPanPadding),V=X(this.options.autoPanPaddingTopLeft||x),q=X(this.options.autoPanPaddingBottomRight||x),Q=r.getSize(),te=0,fe=0;v.x+f+q.x>Q.x&&(te=v.x+f-Q.x+q.x),v.x-te-V.x<0&&(te=v.x-V.x),v.y+c+q.y>Q.y&&(fe=v.y+c-Q.y+q.y),v.y-fe-V.y<0&&(fe=v.y-V.y),(te||fe)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([te,fe]))}},_getAnchor:function(){return X(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),O0=function(r,a){return new cu(r,a)};Te.mergeOptions({closePopupOnClick:!0}),Te.include({openPopup:function(r,a,c){return this._initOverlay(cu,r,a,c).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Mn.include({bindPopup:function(r,a){return this._popup=this._initOverlay(cu,this._popup,r,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof Si||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){Kn(r);var a=r.layer||r.target;if(this._popup._source===a&&!(a instanceof Xi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=a,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var hu=ei.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){ei.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){ei.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=ei.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",a=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=xe("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var a,c,f=this._map,g=this._container,v=f.latLngToContainerPoint(f.getCenter()),x=f.layerPointToContainerPoint(r),V=this.options.direction,q=g.offsetWidth,Q=g.offsetHeight,te=X(this.options.offset),fe=this._getAnchor();V==="top"?(a=q/2,c=Q):V==="bottom"?(a=q/2,c=0):V==="center"?(a=q/2,c=Q/2):V==="right"?(a=0,c=Q/2):V==="left"?(a=q,c=Q/2):x.x<v.x?(V="right",a=0,c=Q/2):(V="left",a=q+(te.x+fe.x)*2,c=Q/2),r=r.subtract(X(a,c,!0)).add(te).add(fe),Ue(g,"leaflet-tooltip-right"),Ue(g,"leaflet-tooltip-left"),Ue(g,"leaflet-tooltip-top"),Ue(g,"leaflet-tooltip-bottom"),re(g,"leaflet-tooltip-"+V),Je(g,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Gt(this._container,r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(a)},_getAnchor:function(){return X(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),V0=function(r,a){return new hu(r,a)};Te.include({openTooltip:function(r,a,c){return this._initOverlay(hu,r,a,c).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Mn.include({bindTooltip:function(r,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(hu,this._tooltip,r,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var a=r?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[a](c),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof Si||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&(me(a,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),me(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var a=r.latlng,c,f;this._tooltip.options.sticky&&r.originalEvent&&(c=this._map.mouseEventToContainerPoint(r.originalEvent),f=this._map.containerPointToLayerPoint(c),a=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(a)}});var Vm=$s.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var a=r&&r.tagName==="DIV"?r:document.createElement("div"),c=this.options;if(c.html instanceof Element?(Ft(a),a.appendChild(c.html)):a.innerHTML=c.html!==!1?c.html:"",c.bgPos){var f=X(c.bgPos);a.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function F0(r){return new Vm(r)}$s.Default=ya;var va=Mn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:oe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){F(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Ne(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(_n(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(yn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof $?r:new $(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var a=this.getPane().children,c=-r(-1/0,1/0),f=0,g=a.length,v;f<g;f++)v=a[f].style.zIndex,a[f]!==this._container&&v&&(c=r(c,+v));isFinite(c)&&(this.options.zIndex=c+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!oe.ielt9){Gt(this._container,this.options.opacity);var r=+new Date,a=!1,c=!1;for(var f in this._tiles){var g=this._tiles[f];if(!(!g.current||!g.loaded)){var v=Math.min(1,(r-g.loaded)/200);Gt(g.el,v),v<1?a=!0:(g.active?c=!0:this._onOpaqueTile(g),g.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),a&&(M(this._fadeFrame),this._fadeFrame=k(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=xe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,a=this.options.maxZoom;if(r!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===r?(this._levels[c].el.style.zIndex=a-Math.abs(r-c),this._onUpdateLevel(c)):(Ne(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var f=this._levels[r],g=this._map;return f||(f=this._levels[r]={},f.el=xe("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=a,f.origin=g.project(g.unproject(g.getPixelOrigin()),r).round(),f.zoom=r,this._setZoomTransform(f,g.getCenter(),g.getZoom()),w(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var r,a,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)a=this._tiles[r],a.retain=a.current;for(r in this._tiles)if(a=this._tiles[r],a.current&&!a.active){var f=a.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var a in this._tiles)this._tiles[a].coords.z===r&&this._removeTile(a)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Ne(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,a,c,f){var g=Math.floor(r/2),v=Math.floor(a/2),x=c-1,V=new $(+g,+v);V.z=+x;var q=this._tileCoordsToKey(V),Q=this._tiles[q];return Q&&Q.active?(Q.retain=!0,!0):(Q&&Q.loaded&&(Q.retain=!0),x>f?this._retainParent(g,v,x,f):!1)},_retainChildren:function(r,a,c,f){for(var g=2*r;g<2*r+2;g++)for(var v=2*a;v<2*a+2;v++){var x=new $(g,v);x.z=c+1;var V=this._tileCoordsToKey(x),q=this._tiles[V];if(q&&q.active){q.retain=!0;continue}else q&&q.loaded&&(q.retain=!0);c+1<f&&this._retainChildren(g,v,c+1,f)}},_resetView:function(r){var a=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var a=this.options;return a.minNativeZoom!==void 0&&r<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<r?a.maxNativeZoom:r},_setView:function(r,a,c,f){var g=Math.round(a);this.options.maxZoom!==void 0&&g>this.options.maxZoom||this.options.minZoom!==void 0&&g<this.options.minZoom?g=void 0:g=this._clampZoom(g);var v=this.options.updateWhenZooming&&g!==this._tileZoom;(!f||v)&&(this._tileZoom=g,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),g!==void 0&&this._update(r),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(r,a)},_setZoomTransforms:function(r,a){for(var c in this._levels)this._setZoomTransform(this._levels[c],r,a)},_setZoomTransform:function(r,a,c){var f=this._map.getZoomScale(c,r.zoom),g=r.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(a,c)).round();oe.any3d?wi(r.el,g,f):Je(r.el,g)},_resetGrid:function(){var r=this._map,a=r.options.crs,c=this._tileSize=this.getTileSize(),f=this._tileZoom,g=this._map.getPixelWorldBounds(this._tileZoom);g&&(this._globalTileRange=this._pxBoundsToTileRange(g)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,a.wrapLng[0]],f).x/c.x),Math.ceil(r.project([0,a.wrapLng[1]],f).x/c.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([a.wrapLat[0],0],f).y/c.x),Math.ceil(r.project([a.wrapLat[1],0],f).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var a=this._map,c=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),f=a.getZoomScale(c,this._tileZoom),g=a.project(r,this._tileZoom).floor(),v=a.getSize().divideBy(f*2);return new he(g.subtract(v),g.add(v))},_update:function(r){var a=this._map;if(a){var c=this._clampZoom(a.getZoom());if(r===void 0&&(r=a.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(r),g=this._pxBoundsToTileRange(f),v=g.getCenter(),x=[],V=this.options.keepBuffer,q=new he(g.getBottomLeft().subtract([V,-V]),g.getTopRight().add([V,-V]));if(!(isFinite(g.min.x)&&isFinite(g.min.y)&&isFinite(g.max.x)&&isFinite(g.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Q in this._tiles){var te=this._tiles[Q].coords;(te.z!==this._tileZoom||!q.contains(new $(te.x,te.y)))&&(this._tiles[Q].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(r,c);return}for(var fe=g.min.y;fe<=g.max.y;fe++)for(var Ee=g.min.x;Ee<=g.max.x;Ee++){var Bt=new $(Ee,fe);if(Bt.z=this._tileZoom,!!this._isValidTile(Bt)){var vt=this._tiles[this._tileCoordsToKey(Bt)];vt?vt.current=!0:x.push(Bt)}}if(x.sort(function(Qt,Qs){return Qt.distanceTo(v)-Qs.distanceTo(v)}),x.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var En=document.createDocumentFragment();for(Ee=0;Ee<x.length;Ee++)this._addTile(x[Ee],En);this._level.el.appendChild(En)}}}},_isValidTile:function(r){var a=this._map.options.crs;if(!a.infinite){var c=this._globalTileRange;if(!a.wrapLng&&(r.x<c.min.x||r.x>c.max.x)||!a.wrapLat&&(r.y<c.min.y||r.y>c.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(r);return Ie(this.options.bounds).overlaps(f)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var a=this._map,c=this.getTileSize(),f=r.scaleBy(c),g=f.add(c),v=a.unproject(f,r.z),x=a.unproject(g,r.z);return[v,x]},_tileCoordsToBounds:function(r){var a=this._tileCoordsToNwSe(r),c=new Be(a[0],a[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var a=r.split(":"),c=new $(+a[0],+a[1]);return c.z=+a[2],c},_removeTile:function(r){var a=this._tiles[r];a&&(Ne(a.el),delete this._tiles[r],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){re(r,"leaflet-tile");var a=this.getTileSize();r.style.width=a.x+"px",r.style.height=a.y+"px",r.onselectstart=w,r.onmousemove=w,oe.ielt9&&this.options.opacity<1&&Gt(r,this.options.opacity)},_addTile:function(r,a){var c=this._getTilePos(r),f=this._tileCoordsToKey(r),g=this.createTile(this._wrapCoords(r),l(this._tileReady,this,r));this._initTile(g),this.createTile.length<2&&k(l(this._tileReady,this,r,null,g)),Je(g,c),this._tiles[f]={el:g,coords:r,current:!0},a.appendChild(g),this.fire("tileloadstart",{tile:g,coords:r})},_tileReady:function(r,a,c){a&&this.fire("tileerror",{error:a,tile:c,coords:r});var f=this._tileCoordsToKey(r);c=this._tiles[f],c&&(c.loaded=+new Date,this._map._fadeAnimated?(Gt(c.el,0),M(this._fadeFrame),this._fadeFrame=k(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),a||(re(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),oe.ielt9||!this._map._fadeAnimated?k(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var a=new $(this._wrapX?y(r.x,this._wrapX):r.x,this._wrapY?y(r.y,this._wrapY):r.y);return a.z=r.z,a},_pxBoundsToTileRange:function(r){var a=this.getTileSize();return new he(r.min.unscaleBy(a).floor(),r.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function z0(r){return new va(r)}var Ks=va.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,a){this._url=r,a=F(this,a),a.detectRetina&&oe.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,a){return this._url===r&&a===void 0&&(a=!0),this._url=r,a||this.redraw(),this},createTile:function(r,a){var c=document.createElement("img");return me(c,"load",l(this._tileOnLoad,this,a,c)),me(c,"error",l(this._tileOnError,this,a,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(r),c},getTileUrl:function(r){var a={r:oe.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-r.y;this.options.tms&&(a.y=c),a["-y"]=c}return P(this._url,s(a,this.options))},_tileOnLoad:function(r,a){oe.ielt9?setTimeout(l(r,this,null,a),0):r(null,a)},_tileOnError:function(r,a,c){var f=this.options.errorTileUrl;f&&a.getAttribute("src")!==f&&(a.src=f),r(c,a)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,a=this.options.maxZoom,c=this.options.zoomReverse,f=this.options.zoomOffset;return c&&(r=a-r),r+f},_getSubdomain:function(r){var a=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var r,a;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(a=this._tiles[r].el,a.onload=w,a.onerror=w,!a.complete)){a.src=z;var c=this._tiles[r].coords;Ne(a),delete this._tiles[r],this.fire("tileabort",{tile:a,coords:c})}},_removeTile:function(r){var a=this._tiles[r];if(a)return a.el.setAttribute("src",z),va.prototype._removeTile.call(this,r)},_tileReady:function(r,a,c){if(!(!this._map||c&&c.getAttribute("src")===z))return va.prototype._tileReady.call(this,r,a,c)}});function Fm(r,a){return new Ks(r,a)}var zm=Ks.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,a){this._url=r;var c=s({},this.defaultWmsParams);for(var f in a)f in this.options||(c[f]=a[f]);a=F(this,a);var g=a.detectRetina&&oe.retina?2:1,v=this.getTileSize();c.width=v.x*g,c.height=v.y*g,this.wmsParams=c},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,Ks.prototype.onAdd.call(this,r)},getTileUrl:function(r){var a=this._tileCoordsToNwSe(r),c=this._crs,f=we(c.project(a[0]),c.project(a[1])),g=f.min,v=f.max,x=(this._wmsVersion>=1.3&&this._crs===qs?[g.y,g.x,v.y,v.x]:[g.x,g.y,v.x,v.y]).join(","),V=Ks.prototype.getTileUrl.call(this,r);return V+Z(this.wmsParams,V,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+x},setParams:function(r,a){return s(this.wmsParams,r),a||this.redraw(),this}});function B0(r,a){return new zm(r,a)}Ks.WMS=zm,Fm.wms=B0;var Ai=Mn.extend({options:{padding:.1},initialize:function(r){F(this,r),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),re(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,a){var c=this._map.getZoomScale(a,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),g=this._map.project(this._center,a),v=f.multiplyBy(-c).add(g).subtract(this._map._getNewPixelOrigin(r,a));oe.any3d?wi(this._container,v,c):Je(this._container,v)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,a=this._map.getSize(),c=this._map.containerPointToLayerPoint(a.multiplyBy(-r)).round();this._bounds=new he(c,c.add(a.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Bm=Ai.extend({options:{tolerance:0},getEvents:function(){var r=Ai.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ai.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");me(r,"mousemove",this._onMouseMove,this),me(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),me(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){M(this._redrawRequest),delete this._ctx,Ne(this._container),Ve(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var a in this._layers)r=this._layers[a],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ai.prototype._update.call(this);var r=this._bounds,a=this._container,c=r.getSize(),f=oe.retina?2:1;Je(a,r.min),a.width=f*c.x,a.height=f*c.y,a.style.width=c.x+"px",a.style.height=c.y+"px",oe.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Ai.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[d(r)]=r;var a=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var a=r._order,c=a.next,f=a.prev;c?c.prev=f:this._drawLast=f,f?f.next=c:this._drawFirst=c,delete r._order,delete this._layers[d(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var a=r.options.dashArray.split(/[, ]+/),c=[],f,g;for(g=0;g<a.length;g++){if(f=Number(a[g]),isNaN(f))return;c.push(f)}r.options._dashArray=c}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||k(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var a=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new he,this._redrawBounds.extend(r._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(r._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var a=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,a=this._redrawBounds;if(this._ctx.save(),a){var c=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)r=f.layer,(!a||r._pxBounds&&r._pxBounds.intersects(a))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,a){if(this._drawing){var c,f,g,v,x=r._parts,V=x.length,q=this._ctx;if(V){for(q.beginPath(),c=0;c<V;c++){for(f=0,g=x[c].length;f<g;f++)v=x[c][f],q[f?"lineTo":"moveTo"](v.x,v.y);a&&q.closePath()}this._fillStroke(q,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var a=r._point,c=this._ctx,f=Math.max(Math.round(r._radius),1),g=(Math.max(Math.round(r._radiusY),1)||f)/f;g!==1&&(c.save(),c.scale(1,g)),c.beginPath(),c.arc(a.x,a.y/g,f,0,Math.PI*2,!1),g!==1&&c.restore(),this._fillStroke(c,r)}},_fillStroke:function(r,a){var c=a.options;c.fill&&(r.globalAlpha=c.fillOpacity,r.fillStyle=c.fillColor||c.color,r.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(r.setLineDash&&r.setLineDash(a.options&&a.options._dashArray||[]),r.globalAlpha=c.opacity,r.lineWidth=c.weight,r.strokeStyle=c.color,r.lineCap=c.lineCap,r.lineJoin=c.lineJoin,r.stroke())},_onClick:function(r){for(var a=this._map.mouseEventToLayerPoint(r),c,f,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(a)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(c))&&(f=c);this._fireEvent(f?[f]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,a)}},_handleMouseOut:function(r){var a=this._hoveredLayer;a&&(Ue(this._container,"leaflet-interactive"),this._fireEvent([a],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,a){if(!this._mouseHoverThrottled){for(var c,f,g=this._drawFirst;g;g=g.next)c=g.layer,c.options.interactive&&c._containsPoint(a)&&(f=c);f!==this._hoveredLayer&&(this._handleMouseOut(r),f&&(re(this._container,"leaflet-interactive"),this._fireEvent([f],r,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,a,c){this._map._fireDOMEvent(a,c||a.type,r)},_bringToFront:function(r){var a=r._order;if(a){var c=a.next,f=a.prev;if(c)c.prev=f;else return;f?f.next=c:c&&(this._drawFirst=c),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(r)}},_bringToBack:function(r){var a=r._order;if(a){var c=a.next,f=a.prev;if(f)f.next=c;else return;c?c.prev=f:f&&(this._drawLast=f),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(r)}}});function Um(r){return oe.canvas?new Bm(r):null}var wa=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),U0={_initContainer:function(){this._container=xe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ai.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var a=r._container=wa("shape");re(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",r._path=wa("path"),a.appendChild(r._path),this._updateStyle(r),this._layers[d(r)]=r},_addPath:function(r){var a=r._container;this._container.appendChild(a),r.options.interactive&&r.addInteractiveTarget(a)},_removePath:function(r){var a=r._container;Ne(a),r.removeInteractiveTarget(a),delete this._layers[d(r)]},_updateStyle:function(r){var a=r._stroke,c=r._fill,f=r.options,g=r._container;g.stroked=!!f.stroke,g.filled=!!f.fill,f.stroke?(a||(a=r._stroke=wa("stroke")),g.appendChild(a),a.weight=f.weight+"px",a.color=f.color,a.opacity=f.opacity,f.dashArray?a.dashStyle=D(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=f.lineCap.replace("butt","flat"),a.joinstyle=f.lineJoin):a&&(g.removeChild(a),r._stroke=null),f.fill?(c||(c=r._fill=wa("fill")),g.appendChild(c),c.color=f.fillColor||f.color,c.opacity=f.fillOpacity):c&&(g.removeChild(c),r._fill=null)},_updateCircle:function(r){var a=r._point.round(),c=Math.round(r._radius),f=Math.round(r._radiusY||c);this._setPath(r,r._empty()?"M0 0":"AL "+a.x+","+a.y+" "+c+","+f+" 0,"+65535*360)},_setPath:function(r,a){r._path.v=a},_bringToFront:function(r){_n(r._container)},_bringToBack:function(r){yn(r._container)}},fu=oe.vml?wa:Mr,Ta=Ai.extend({_initContainer:function(){this._container=fu("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=fu("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ne(this._container),Ve(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ai.prototype._update.call(this);var r=this._bounds,a=r.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,c.setAttribute("width",a.x),c.setAttribute("height",a.y)),Je(c,r.min),c.setAttribute("viewBox",[r.min.x,r.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(r){var a=r._path=fu("path");r.options.className&&re(a,r.options.className),r.options.interactive&&re(a,"leaflet-interactive"),this._updateStyle(r),this._layers[d(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Ne(r._path),r.removeInteractiveTarget(r._path),delete this._layers[d(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var a=r._path,c=r.options;a&&(c.stroke?(a.setAttribute("stroke",c.color),a.setAttribute("stroke-opacity",c.opacity),a.setAttribute("stroke-width",c.weight),a.setAttribute("stroke-linecap",c.lineCap),a.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?a.setAttribute("stroke-dasharray",c.dashArray):a.removeAttribute("stroke-dasharray"),c.dashOffset?a.setAttribute("stroke-dashoffset",c.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),c.fill?(a.setAttribute("fill",c.fillColor||c.color),a.setAttribute("fill-opacity",c.fillOpacity),a.setAttribute("fill-rule",c.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(r,a){this._setPath(r,j(r._parts,a))},_updateCircle:function(r){var a=r._point,c=Math.max(Math.round(r._radius),1),f=Math.max(Math.round(r._radiusY),1)||c,g="a"+c+","+f+" 0 1,0 ",v=r._empty()?"M0 0":"M"+(a.x-c)+","+a.y+g+c*2+",0 "+g+-c*2+",0 ";this._setPath(r,v)},_setPath:function(r,a){r._path.setAttribute("d",a)},_bringToFront:function(r){_n(r._path)},_bringToBack:function(r){yn(r._path)}});oe.vml&&Ta.include(U0);function jm(r){return oe.svg||oe.vml?new Ta(r):null}Te.include({getRenderer:function(r){var a=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var a=this._paneRenderers[r];return a===void 0&&(a=this._createRenderer({pane:r}),this._paneRenderers[r]=a),a},_createRenderer:function(r){return this.options.preferCanvas&&Um(r)||jm(r)}});var Hm=Zs.extend({initialize:function(r,a){Zs.prototype.initialize.call(this,this._boundsToLatLngs(r),a)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=Ie(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function j0(r,a){return new Hm(r,a)}Ta.create=fu,Ta.pointsToPath=j,Ci.geometryToLayer=su,Ci.coordsToLatLng=Mh,Ci.coordsToLatLngs=ou,Ci.latLngToCoords=Oh,Ci.latLngsToCoords=au,Ci.getFeature=Gs,Ci.asFeature=lu,Te.mergeOptions({boxZoom:!0});var qm=an.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){me(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ve(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ne(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Nn(),bs(),this._startPoint=this._map.mouseEventToContainerPoint(r),me(document,{contextmenu:Kn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=xe("div","leaflet-zoom-box",this._container),re(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var a=new he(this._point,this._startPoint),c=a.getSize();Je(this._box,a.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Ne(this._box),Ue(this._container,"leaflet-crosshair")),on(),Ms(),Ve(document,{contextmenu:Kn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var a=new Be(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Te.addInitHook("addHandler","boxZoom",qm),Te.mergeOptions({doubleClickZoom:!0});var Wm=an.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var a=this._map,c=a.getZoom(),f=a.options.zoomDelta,g=r.originalEvent.shiftKey?c-f:c+f;a.options.doubleClickZoom==="center"?a.setZoom(g):a.setZoomAround(r.containerPoint,g)}});Te.addInitHook("addHandler","doubleClickZoom",Wm),Te.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var $m=an.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Dn(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}re(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ue(this._map._container,"leaflet-grab"),Ue(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=Ie(this._map.options.maxBounds);this._offsetLimit=we(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var a=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(a),this._prunePositions(a)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,a){return r-(r-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;r.x<a.min.x&&(r.x=this._viscousLimit(r.x,a.min.x)),r.y<a.min.y&&(r.y=this._viscousLimit(r.y,a.min.y)),r.x>a.max.x&&(r.x=this._viscousLimit(r.x,a.max.x)),r.y>a.max.y&&(r.y=this._viscousLimit(r.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,a=Math.round(r/2),c=this._initialWorldOffset,f=this._draggable._newPos.x,g=(f-a+c)%r+a-c,v=(f+a+c)%r-a-c,x=Math.abs(g+c)<Math.abs(v+c)?g:v;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=x},_onDragEnd:function(r){var a=this._map,c=a.options,f=!c.inertia||r.noInertia||this._times.length<2;if(a.fire("dragend",r),f)a.fire("moveend");else{this._prunePositions(+new Date);var g=this._lastPos.subtract(this._positions[0]),v=(this._lastTime-this._times[0])/1e3,x=c.easeLinearity,V=g.multiplyBy(x/v),q=V.distanceTo([0,0]),Q=Math.min(c.inertiaMaxSpeed,q),te=V.multiplyBy(Q/q),fe=Q/(c.inertiaDeceleration*x),Ee=te.multiplyBy(-fe/2).round();!Ee.x&&!Ee.y?a.fire("moveend"):(Ee=a._limitOffset(Ee,a.options.maxBounds),k(function(){a.panBy(Ee,{duration:fe,easeLinearity:x,noMoveStart:!0,animate:!0})}))}}});Te.addInitHook("addHandler","dragging",$m),Te.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Zm=an.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),me(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ve(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,a=document.documentElement,c=r.scrollTop||a.scrollTop,f=r.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(f,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var a=this._panKeys={},c=this.keyCodes,f,g;for(f=0,g=c.left.length;f<g;f++)a[c.left[f]]=[-1*r,0];for(f=0,g=c.right.length;f<g;f++)a[c.right[f]]=[r,0];for(f=0,g=c.down.length;f<g;f++)a[c.down[f]]=[0,r];for(f=0,g=c.up.length;f<g;f++)a[c.up[f]]=[0,-1*r]},_setZoomDelta:function(r){var a=this._zoomKeys={},c=this.keyCodes,f,g;for(f=0,g=c.zoomIn.length;f<g;f++)a[c.zoomIn[f]]=r;for(f=0,g=c.zoomOut.length;f<g;f++)a[c.zoomOut[f]]=-r},_addHooks:function(){me(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ve(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var a=r.keyCode,c=this._map,f;if(a in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(f=this._panKeys[a],r.shiftKey&&(f=X(f).multiplyBy(3)),c.options.maxBounds&&(f=c._limitOffset(X(f),c.options.maxBounds)),c.options.worldCopyJump){var g=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(f)));c.panTo(g)}else c.panBy(f)}else if(a in this._zoomKeys)c.setZoom(c.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;Kn(r)}}});Te.addInitHook("addHandler","keyboard",Zm),Te.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Gm=an.extend({addHooks:function(){me(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ve(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var a=ua(r),c=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var f=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),f),Kn(r)},_performZoom:function(){var r=this._map,a=r.getZoom(),c=this._map.options.zoomSnap||0;r._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),g=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,v=c?Math.ceil(g/c)*c:g,x=r._limitZoom(a+(this._delta>0?v:-v))-a;this._delta=0,this._startTime=null,x&&(r.options.scrollWheelZoom==="center"?r.setZoom(a+x):r.setZoomAround(this._lastMousePos,a+x))}});Te.addInitHook("addHandler","scrollWheelZoom",Gm);var H0=600;Te.mergeOptions({tapHold:oe.touchNative&&oe.safari&&oe.mobile,tapTolerance:15});var Km=an.extend({addHooks:function(){me(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ve(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var a=r.touches[0];this._startPos=this._newPos=new $(a.clientX,a.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(me(document,"touchend",at),me(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),H0),me(document,"touchend touchcancel contextmenu",this._cancel,this),me(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Ve(document,"touchend",at),Ve(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Ve(document,"touchend touchcancel contextmenu",this._cancel,this),Ve(document,"touchmove",this._onMove,this)},_onMove:function(r){var a=r.touches[0];this._newPos=new $(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,a){var c=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});c._simulated=!0,a.target.dispatchEvent(c)}});Te.addInitHook("addHandler","tapHold",Km),Te.mergeOptions({touchZoom:oe.touch,bounceAtZoomLimits:!0});var Qm=an.extend({addHooks:function(){re(this._map._container,"leaflet-touch-zoom"),me(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ue(this._map._container,"leaflet-touch-zoom"),Ve(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var a=this._map;if(!(!r.touches||r.touches.length!==2||a._animatingZoom||this._zooming)){var c=a.mouseEventToContainerPoint(r.touches[0]),f=a.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(c.add(f)._divideBy(2))),this._startDist=c.distanceTo(f),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),me(document,"touchmove",this._onTouchMove,this),me(document,"touchend touchcancel",this._onTouchEnd,this),at(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var a=this._map,c=a.mouseEventToContainerPoint(r.touches[0]),f=a.mouseEventToContainerPoint(r.touches[1]),g=c.distanceTo(f)/this._startDist;if(this._zoom=a.getScaleZoom(g,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&g<1||this._zoom>a.getMaxZoom()&&g>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,g===1)return}else{var v=c._add(f)._divideBy(2)._subtract(this._centerPoint);if(g===1&&v.x===0&&v.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(v),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),M(this._animRequest);var x=l(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=k(x,this,!0),at(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,M(this._animRequest),Ve(document,"touchmove",this._onTouchMove,this),Ve(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Te.addInitHook("addHandler","touchZoom",Qm),Te.BoxZoom=qm,Te.DoubleClickZoom=Wm,Te.Drag=$m,Te.Keyboard=Zm,Te.ScrollWheelZoom=Gm,Te.TapHold=Km,Te.TouchZoom=Qm,n.Bounds=he,n.Browser=oe,n.CRS=ot,n.Canvas=Bm,n.Circle=bh,n.CircleMarker=ru,n.Class=ue,n.Control=Kt,n.DivIcon=Vm,n.DivOverlay=ei,n.DomEvent=Gr,n.DomUtil=Dh,n.Draggable=Dn,n.Evented=Vt,n.FeatureGroup=Si,n.GeoJSON=Ci,n.GridLayer=va,n.Handler=an,n.Icon=$s,n.ImageOverlay=uu,n.LatLng=ve,n.LatLngBounds=Be,n.Layer=Mn,n.LayerGroup=Ws,n.LineUtil=wn,n.Map=Te,n.Marker=iu,n.Mixin=tu,n.Path=Xi,n.Point=$,n.PolyUtil=js,n.Polygon=Zs,n.Polyline=Pi,n.Popup=cu,n.PosAnimation=ha,n.Projection=Jn,n.Rectangle=Hm,n.Renderer=Ai,n.SVG=Ta,n.SVGOverlay=Om,n.TileLayer=Ks,n.Tooltip=hu,n.Transformation=br,n.Util=A,n.VideoOverlay=Mm,n.bind=l,n.bounds=we,n.canvas=Um,n.circle=R0,n.circleMarker=x0,n.control=Yn,n.divIcon=F0,n.extend=s,n.featureGroup=P0,n.geoJSON=bm,n.geoJson=N0,n.gridLayer=z0,n.icon=C0,n.imageOverlay=D0,n.latLng=pe,n.latLngBounds=Ie,n.layerGroup=S0,n.map=Fs,n.marker=A0,n.point=X,n.polygon=L0,n.polyline=k0,n.popup=O0,n.rectangle=j0,n.setOptions=F,n.stamp=d,n.svg=jm,n.svgOverlay=M0,n.tileLayer=Fm,n.tooltip=V0,n.transformation=$n,n.version=i,n.videoOverlay=b0;var q0=window.L;n.noConflict=function(){return window.L=q0,this},window.L=n})})(vd,vd.exports);var kl=vd.exports;const NS=Fy(kl);function Bp(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Up(t,e){return e==null?function(i,s){const o=le.useRef();return o.current||(o.current=t(i,s)),o}:function(i,s){const o=le.useRef();o.current||(o.current=t(i,s));const l=le.useRef(i),{instance:h}=o.current;return le.useEffect(function(){l.current!==i&&(e(h,i,l.current),l.current=i)},[h,i,s]),o}}function DS(t,e){le.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function nT(t){return function(n){const i=Fp(),s=t(zp(n,i),i);return Xw(i.map,n.attribution),tT(s.current,n.eventHandlers),DS(s.current,i),s}}function bS(t,e){const n=Up(t,e),i=nT(n);return xS(i)}function MS(t,e){const n=Up(t),i=LS(n,e);return RS(i)}function OS(t,e){const n=Up(t,e),i=nT(n);return kS(i)}function VS(t,e,n){const{opacity:i,zIndex:s}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),s!=null&&s!==n.zIndex&&t.setZIndex(s)}function iT(){return Fp().map}function FS(t){const e=iT();return le.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function wd(){return wd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},wd.apply(this,arguments)}function zS({bounds:t,boundsOptions:e,center:n,children:i,className:s,id:o,placeholder:l,style:h,whenReady:d,zoom:m,...y},w){const[T]=le.useState({className:s,id:o,style:h}),[b,U]=le.useState(null);le.useImperativeHandle(w,()=>(b==null?void 0:b.map)??null,[b]);const F=le.useCallback(N=>{if(N!==null&&b===null){const P=new kl.Map(N,y);n!=null&&m!=null?P.setView(n,m):t!=null&&P.fitBounds(t,e),d!=null&&P.whenReady(d),U(CS(P))}},[]);le.useEffect(()=>()=>{b==null||b.map.remove()},[b]);const Z=b?nc.createElement(eT,{value:b},i):l??null;return nc.createElement("div",wd({},T,{ref:F}),Z)}const BS=le.forwardRef(zS),US=bS(function({position:e,...n},i){const s=new kl.Marker(e,n);return Bp(s,AS(i,{overlayContainer:s}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),jS=MS(function(e,n){const i=new kl.Popup(e,n.overlayContainer);return Bp(i,n)},function(e,n,{position:i},s){le.useEffect(function(){const{instance:l}=e;function h(m){m.popup===l&&(l.update(),s(!0))}function d(m){m.popup===l&&s(!1)}return n.map.on({popupopen:h,popupclose:d}),n.overlayContainer==null?(i!=null&&l.setLatLng(i),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var y;n.map.off({popupopen:h,popupclose:d}),(y=n.overlayContainer)==null||y.unbindPopup(),n.map.removeLayer(l)}},[e,n,s,i])}),u_=OS(function({url:e,...n},i){const s=new kl.TileLayer(e,zp(n,i));return Bp(s,i)},function(e,n,i){VS(e,n,i);const{url:s}=n;s!=null&&s!==i.url&&e.setUrl(s)}),HS=()=>{};var c_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},qS=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],h=t[n++],d=((s&7)<<18|(o&63)<<12|(l&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},sT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,h=l?t[s+1]:0,d=s+2<t.length,m=d?t[s+2]:0,y=o>>2,w=(o&3)<<4|h>>4;let T=(h&15)<<2|m>>6,b=m&63;d||(b=64,l||(T=64)),i.push(n[y],n[w],n[T],n[b])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],h=s<t.length?n[t.charAt(s)]:0;++s;const m=s<t.length?n[t.charAt(s)]:64;++s;const w=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||h==null||m==null||w==null)throw new WS;const T=o<<2|h>>4;if(i.push(T),m!==64){const b=h<<4&240|m>>2;if(i.push(b),w!==64){const U=m<<6&192|w;i.push(U)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class WS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $S=function(t){const e=rT(t);return sT.encodeByteArray(e,!0)},Ac=function(t){return $S(t).replace(/\./g,"")},ZS=function(t){try{return sT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=()=>GS().__FIREBASE_DEFAULTS__,QS=()=>{if(typeof process>"u"||typeof c_>"u")return;const t=c_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ZS(t[1]);return e&&JSON.parse(e)},jp=()=>{try{return HS()||KS()||QS()||YS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},XS=t=>{var e,n;return(n=(e=jp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},oT=t=>{const e=XS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},aT=()=>{var t;return(t=jp())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lT(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ac(JSON.stringify(n)),Ac(JSON.stringify(l)),""].join(".")}const Ka={};function eP(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ka))Ka[e]?t.emulator.push(e):t.prod.push(e);return t}function tP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let h_=!1;function cT(t,e){if(typeof window>"u"||typeof document>"u"||!oh(window.location.host)||Ka[t]===e||Ka[t]||h_)return;Ka[t]=e;function n(T){return`__firebase__banner__${T}`}const i="__firebase__banner",o=eP().prod.length>0;function l(){const T=document.getElementById(i);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function d(T,b){T.setAttribute("width","24"),T.setAttribute("id",b),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{h_=!0,l()},T}function y(T,b){T.setAttribute("id",b),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=tP(i),b=n("text"),U=document.getElementById(b)||document.createElement("span"),F=n("learnmore"),Z=document.getElementById(F)||document.createElement("a"),N=n("preprendIcon"),P=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const D=T.element;h(D),y(Z,F);const W=m();d(P,N),D.append(P,U,Z,W),document.body.appendChild(D)}o?(U.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iP(){var e;const t=(e=jp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sP(){return!iP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hT(){try{return typeof indexedDB=="object"}catch{return!1}}function fT(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}function oP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="FirebaseError";class ji extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=aP,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ah.prototype.create)}}class ah{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?lP(o,i):"Error",h=`${this.serviceName}: ${l} (${s}).`;return new ji(s,h,i)}}function lP(t,e){return t.replace(uP,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const uP=/\{\$([^}]+)}/g;function No(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const o=t[s],l=e[s];if(f_(o)&&f_(l)){if(!No(o,l))return!1}else if(o!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function f_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=1e3,hP=2,fP=4*60*60*1e3,dP=.5;function d_(t,e=cP,n=hP){const i=e*Math.pow(n,t),s=Math.round(dP*i*(Math.random()-.5)*2);return Math.min(fP,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t){return t&&t._delegate?t._delegate:t}class hi{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new JS;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gP(e))try{this.getOrInitializeService({instanceIdentifier:Yr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=Yr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yr){return this.instances.has(e)}getOptions(e=Yr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&l.resolve(s)}return s}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:mP(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Yr){return this.component?this.component.multipleInstances?e:Yr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mP(t){return t===Yr?void 0:t}function gP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const yP={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},vP=ke.INFO,wP={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},TP=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=wP[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hp{constructor(e){this.name=e,this._logLevel=vP,this._logHandler=TP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const EP=(t,e)=>e.some(n=>t instanceof n);let p_,m_;function IP(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SP(){return m_||(m_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dT=new WeakMap,Td=new WeakMap,pT=new WeakMap,ff=new WeakMap,qp=new WeakMap;function PP(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(mr(t.result)),s()},l=()=>{i(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&dT.set(n,t)}).catch(()=>{}),qp.set(e,t),e}function CP(t){if(Td.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Td.set(t,e)}let Ed={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Td.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AP(t){Ed=t(Ed)}function xP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(df(this),e,...n);return pT.set(i,e.sort?e.sort():[e]),mr(i)}:SP().includes(t)?function(...e){return t.apply(df(this),e),mr(dT.get(this))}:function(...e){return mr(t.apply(df(this),e))}}function RP(t){return typeof t=="function"?xP(t):(t instanceof IDBTransaction&&CP(t),EP(t,IP())?new Proxy(t,Ed):t)}function mr(t){if(t instanceof IDBRequest)return PP(t);if(ff.has(t))return ff.get(t);const e=RP(t);return e!==t&&(ff.set(t,e),qp.set(e,t)),e}const df=t=>qp.get(t);function mT(t,e,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),h=mr(l);return i&&l.addEventListener("upgradeneeded",d=>{i(mr(l.result),d.oldVersion,d.newVersion,mr(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const kP=["get","getKey","getAll","getAllKeys","count"],LP=["put","add","delete","clear"],pf=new Map;function g_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pf.get(e))return pf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=LP.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||kP.includes(n)))return;const o=async function(l,...h){const d=this.transaction(l,s?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),s&&d.done]))[0]};return pf.set(e,o),o}AP(t=>({...t,get:(e,n,i)=>g_(e,n)||t.get(e,n,i),has:(e,n)=>!!g_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DP(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function DP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Id="@firebase/app",__="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new Hp("@firebase/app"),bP="@firebase/app-compat",MP="@firebase/analytics-compat",OP="@firebase/analytics",VP="@firebase/app-check-compat",FP="@firebase/app-check",zP="@firebase/auth",BP="@firebase/auth-compat",UP="@firebase/database",jP="@firebase/data-connect",HP="@firebase/database-compat",qP="@firebase/functions",WP="@firebase/functions-compat",$P="@firebase/installations",ZP="@firebase/installations-compat",GP="@firebase/messaging",KP="@firebase/messaging-compat",QP="@firebase/performance",YP="@firebase/performance-compat",XP="@firebase/remote-config",JP="@firebase/remote-config-compat",eC="@firebase/storage",tC="@firebase/storage-compat",nC="@firebase/firestore",iC="@firebase/ai",rC="@firebase/firestore-compat",sC="firebase",oC="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="[DEFAULT]",aC={[Id]:"fire-core",[bP]:"fire-core-compat",[OP]:"fire-analytics",[MP]:"fire-analytics-compat",[FP]:"fire-app-check",[VP]:"fire-app-check-compat",[zP]:"fire-auth",[BP]:"fire-auth-compat",[UP]:"fire-rtdb",[jP]:"fire-data-connect",[HP]:"fire-rtdb-compat",[qP]:"fire-fn",[WP]:"fire-fn-compat",[$P]:"fire-iid",[ZP]:"fire-iid-compat",[GP]:"fire-fcm",[KP]:"fire-fcm-compat",[QP]:"fire-perf",[YP]:"fire-perf-compat",[XP]:"fire-rc",[JP]:"fire-rc-compat",[eC]:"fire-gcs",[tC]:"fire-gcs-compat",[nC]:"fire-fst",[rC]:"fire-fst-compat",[iC]:"fire-vertex","fire-js":"fire-js",[sC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Map,lC=new Map,Pd=new Map;function y_(t,e){try{t.container.addComponent(e)}catch(n){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fi(t){const e=t.name;if(Pd.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;Pd.set(e,t);for(const n of xc.values())y_(n,t);for(const n of lC.values())y_(n,t);return!0}function Ho(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gT(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new ah("app","Firebase",uC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=oC;function yT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Sd,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw gr.create("bad-app-name",{appName:String(s)});if(n||(n=aT()),!n)throw gr.create("no-options");const o=xc.get(s);if(o){if(No(n,o.options)&&No(i,o.config))return o;throw gr.create("duplicate-app",{appName:s})}const l=new _P(s);for(const d of Pd.values())l.addComponent(d);const h=new cC(n,i,l);return xc.set(s,h),h}function Wp(t=Sd){const e=xc.get(t);if(!e&&t===Sd&&aT())return yT();if(!e)throw gr.create("no-app",{appName:t});return e}function xn(t,e,n){let i=aC[t]??t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(l.join(" "));return}Fi(new hi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="firebase-heartbeat-database",fC=1,_l="firebase-heartbeat-store";let mf=null;function vT(){return mf||(mf=mT(hC,fC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_l)}catch(n){console.warn(n)}}}}).catch(t=>{throw gr.create("idb-open",{originalErrorMessage:t.message})})),mf}async function dC(t){try{const n=(await vT()).transaction(_l),i=await n.objectStore(_l).get(wT(t));return await n.done,i}catch(e){if(e instanceof ji)Vi.warn(e.message);else{const n=gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vi.warn(n.message)}}}async function v_(t,e){try{const i=(await vT()).transaction(_l,"readwrite");await i.objectStore(_l).put(e,wT(t)),await i.done}catch(n){if(n instanceof ji)Vi.warn(n.message);else{const i=gr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vi.warn(i.message)}}}function wT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=1024,mC=30;class gC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yC(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=w_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>mC){const l=vC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Vi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=w_(),{heartbeatsToSend:i,unsentEntries:s}=_C(this._heartbeatsCache.heartbeats),o=Ac(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Vi.warn(n),""}}}function w_(){return new Date().toISOString().substring(0,10)}function _C(t,e=pC){const n=[];let i=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),T_(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),T_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class yC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hT()?fT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return v_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return v_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function T_(t){return Ac(JSON.stringify({version:2,heartbeats:t})).length}function vC(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t){Fi(new hi("platform-logger",e=>new NP(e),"PRIVATE")),Fi(new hi("heartbeat",e=>new gC(e),"PRIVATE")),xn(Id,__,t),xn(Id,__,"esm2020"),xn("fire-js","")}wC("");var TC="firebase",EC="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn(TC,EC,"app");var E_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _r,TT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,I){function C(){}C.prototype=I.prototype,S.F=I.prototype,S.prototype=new C,S.prototype.constructor=S,S.D=function(R,k,M){for(var A=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)A[ue-2]=arguments[ue];return I.prototype[k].apply(R,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,I,C){C||(C=0);const R=Array(16);if(typeof I=="string")for(var k=0;k<16;++k)R[k]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(k=0;k<16;++k)R[k]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=S.g[0],C=S.g[1],k=S.g[2];let M=S.g[3],A;A=I+(M^C&(k^M))+R[0]+3614090360&4294967295,I=C+(A<<7&4294967295|A>>>25),A=M+(k^I&(C^k))+R[1]+3905402710&4294967295,M=I+(A<<12&4294967295|A>>>20),A=k+(C^M&(I^C))+R[2]+606105819&4294967295,k=M+(A<<17&4294967295|A>>>15),A=C+(I^k&(M^I))+R[3]+3250441966&4294967295,C=k+(A<<22&4294967295|A>>>10),A=I+(M^C&(k^M))+R[4]+4118548399&4294967295,I=C+(A<<7&4294967295|A>>>25),A=M+(k^I&(C^k))+R[5]+1200080426&4294967295,M=I+(A<<12&4294967295|A>>>20),A=k+(C^M&(I^C))+R[6]+2821735955&4294967295,k=M+(A<<17&4294967295|A>>>15),A=C+(I^k&(M^I))+R[7]+4249261313&4294967295,C=k+(A<<22&4294967295|A>>>10),A=I+(M^C&(k^M))+R[8]+1770035416&4294967295,I=C+(A<<7&4294967295|A>>>25),A=M+(k^I&(C^k))+R[9]+2336552879&4294967295,M=I+(A<<12&4294967295|A>>>20),A=k+(C^M&(I^C))+R[10]+4294925233&4294967295,k=M+(A<<17&4294967295|A>>>15),A=C+(I^k&(M^I))+R[11]+2304563134&4294967295,C=k+(A<<22&4294967295|A>>>10),A=I+(M^C&(k^M))+R[12]+1804603682&4294967295,I=C+(A<<7&4294967295|A>>>25),A=M+(k^I&(C^k))+R[13]+4254626195&4294967295,M=I+(A<<12&4294967295|A>>>20),A=k+(C^M&(I^C))+R[14]+2792965006&4294967295,k=M+(A<<17&4294967295|A>>>15),A=C+(I^k&(M^I))+R[15]+1236535329&4294967295,C=k+(A<<22&4294967295|A>>>10),A=I+(k^M&(C^k))+R[1]+4129170786&4294967295,I=C+(A<<5&4294967295|A>>>27),A=M+(C^k&(I^C))+R[6]+3225465664&4294967295,M=I+(A<<9&4294967295|A>>>23),A=k+(I^C&(M^I))+R[11]+643717713&4294967295,k=M+(A<<14&4294967295|A>>>18),A=C+(M^I&(k^M))+R[0]+3921069994&4294967295,C=k+(A<<20&4294967295|A>>>12),A=I+(k^M&(C^k))+R[5]+3593408605&4294967295,I=C+(A<<5&4294967295|A>>>27),A=M+(C^k&(I^C))+R[10]+38016083&4294967295,M=I+(A<<9&4294967295|A>>>23),A=k+(I^C&(M^I))+R[15]+3634488961&4294967295,k=M+(A<<14&4294967295|A>>>18),A=C+(M^I&(k^M))+R[4]+3889429448&4294967295,C=k+(A<<20&4294967295|A>>>12),A=I+(k^M&(C^k))+R[9]+568446438&4294967295,I=C+(A<<5&4294967295|A>>>27),A=M+(C^k&(I^C))+R[14]+3275163606&4294967295,M=I+(A<<9&4294967295|A>>>23),A=k+(I^C&(M^I))+R[3]+4107603335&4294967295,k=M+(A<<14&4294967295|A>>>18),A=C+(M^I&(k^M))+R[8]+1163531501&4294967295,C=k+(A<<20&4294967295|A>>>12),A=I+(k^M&(C^k))+R[13]+2850285829&4294967295,I=C+(A<<5&4294967295|A>>>27),A=M+(C^k&(I^C))+R[2]+4243563512&4294967295,M=I+(A<<9&4294967295|A>>>23),A=k+(I^C&(M^I))+R[7]+1735328473&4294967295,k=M+(A<<14&4294967295|A>>>18),A=C+(M^I&(k^M))+R[12]+2368359562&4294967295,C=k+(A<<20&4294967295|A>>>12),A=I+(C^k^M)+R[5]+4294588738&4294967295,I=C+(A<<4&4294967295|A>>>28),A=M+(I^C^k)+R[8]+2272392833&4294967295,M=I+(A<<11&4294967295|A>>>21),A=k+(M^I^C)+R[11]+1839030562&4294967295,k=M+(A<<16&4294967295|A>>>16),A=C+(k^M^I)+R[14]+4259657740&4294967295,C=k+(A<<23&4294967295|A>>>9),A=I+(C^k^M)+R[1]+2763975236&4294967295,I=C+(A<<4&4294967295|A>>>28),A=M+(I^C^k)+R[4]+1272893353&4294967295,M=I+(A<<11&4294967295|A>>>21),A=k+(M^I^C)+R[7]+4139469664&4294967295,k=M+(A<<16&4294967295|A>>>16),A=C+(k^M^I)+R[10]+3200236656&4294967295,C=k+(A<<23&4294967295|A>>>9),A=I+(C^k^M)+R[13]+681279174&4294967295,I=C+(A<<4&4294967295|A>>>28),A=M+(I^C^k)+R[0]+3936430074&4294967295,M=I+(A<<11&4294967295|A>>>21),A=k+(M^I^C)+R[3]+3572445317&4294967295,k=M+(A<<16&4294967295|A>>>16),A=C+(k^M^I)+R[6]+76029189&4294967295,C=k+(A<<23&4294967295|A>>>9),A=I+(C^k^M)+R[9]+3654602809&4294967295,I=C+(A<<4&4294967295|A>>>28),A=M+(I^C^k)+R[12]+3873151461&4294967295,M=I+(A<<11&4294967295|A>>>21),A=k+(M^I^C)+R[15]+530742520&4294967295,k=M+(A<<16&4294967295|A>>>16),A=C+(k^M^I)+R[2]+3299628645&4294967295,C=k+(A<<23&4294967295|A>>>9),A=I+(k^(C|~M))+R[0]+4096336452&4294967295,I=C+(A<<6&4294967295|A>>>26),A=M+(C^(I|~k))+R[7]+1126891415&4294967295,M=I+(A<<10&4294967295|A>>>22),A=k+(I^(M|~C))+R[14]+2878612391&4294967295,k=M+(A<<15&4294967295|A>>>17),A=C+(M^(k|~I))+R[5]+4237533241&4294967295,C=k+(A<<21&4294967295|A>>>11),A=I+(k^(C|~M))+R[12]+1700485571&4294967295,I=C+(A<<6&4294967295|A>>>26),A=M+(C^(I|~k))+R[3]+2399980690&4294967295,M=I+(A<<10&4294967295|A>>>22),A=k+(I^(M|~C))+R[10]+4293915773&4294967295,k=M+(A<<15&4294967295|A>>>17),A=C+(M^(k|~I))+R[1]+2240044497&4294967295,C=k+(A<<21&4294967295|A>>>11),A=I+(k^(C|~M))+R[8]+1873313359&4294967295,I=C+(A<<6&4294967295|A>>>26),A=M+(C^(I|~k))+R[15]+4264355552&4294967295,M=I+(A<<10&4294967295|A>>>22),A=k+(I^(M|~C))+R[6]+2734768916&4294967295,k=M+(A<<15&4294967295|A>>>17),A=C+(M^(k|~I))+R[13]+1309151649&4294967295,C=k+(A<<21&4294967295|A>>>11),A=I+(k^(C|~M))+R[4]+4149444226&4294967295,I=C+(A<<6&4294967295|A>>>26),A=M+(C^(I|~k))+R[11]+3174756917&4294967295,M=I+(A<<10&4294967295|A>>>22),A=k+(I^(M|~C))+R[2]+718787259&4294967295,k=M+(A<<15&4294967295|A>>>17),A=C+(M^(k|~I))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+I&4294967295,S.g[1]=S.g[1]+(k+(A<<21&4294967295|A>>>11))&4294967295,S.g[2]=S.g[2]+k&4294967295,S.g[3]=S.g[3]+M&4294967295}i.prototype.v=function(S,I){I===void 0&&(I=S.length);const C=I-this.blockSize,R=this.C;let k=this.h,M=0;for(;M<I;){if(k==0)for(;M<=C;)s(this,S,M),M+=this.blockSize;if(typeof S=="string"){for(;M<I;)if(R[k++]=S.charCodeAt(M++),k==this.blockSize){s(this,R),k=0;break}}else for(;M<I;)if(R[k++]=S[M++],k==this.blockSize){s(this,R),k=0;break}}this.h=k,this.o+=I},i.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var I=1;I<S.length-8;++I)S[I]=0;I=this.o*8;for(var C=S.length-8;C<S.length;++C)S[C]=I&255,I/=256;for(this.v(S),S=Array(16),I=0,C=0;C<4;++C)for(let R=0;R<32;R+=8)S[I++]=this.g[C]>>>R&255;return S};function o(S,I){var C=h;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=I(S)}function l(S,I){this.h=I;const C=[];let R=!0;for(let k=S.length-1;k>=0;k--){const M=S[k]|0;R&&M==I||(C[k]=M,R=!1)}this.g=C}var h={};function d(S){return-128<=S&&S<128?o(S,function(I){return new l([I|0],I<0?-1:0)}):new l([S|0],S<0?-1:0)}function m(S){if(isNaN(S)||!isFinite(S))return w;if(S<0)return Z(m(-S));const I=[];let C=1;for(let R=0;S>=C;R++)I[R]=S/C|0,C*=4294967296;return new l(I,0)}function y(S,I){if(S.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(S.charAt(0)=="-")return Z(y(S.substring(1),I));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=m(Math.pow(I,8));let R=w;for(let M=0;M<S.length;M+=8){var k=Math.min(8,S.length-M);const A=parseInt(S.substring(M,M+k),I);k<8?(k=m(Math.pow(I,k)),R=R.j(k).add(m(A))):(R=R.j(C),R=R.add(m(A)))}return R}var w=d(0),T=d(1),b=d(16777216);t=l.prototype,t.m=function(){if(F(this))return-Z(this).m();let S=0,I=1;for(let C=0;C<this.g.length;C++){const R=this.i(C);S+=(R>=0?R:4294967296+R)*I,I*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(U(this))return"0";if(F(this))return"-"+Z(this).toString(S);const I=m(Math.pow(S,6));var C=this;let R="";for(;;){const k=W(C,I).g;C=N(C,k.j(I));let M=((C.g.length>0?C.g[0]:C.h)>>>0).toString(S);if(C=k,U(C))return M+R;for(;M.length<6;)M="0"+M;R=M+R}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function U(S){if(S.h!=0)return!1;for(let I=0;I<S.g.length;I++)if(S.g[I]!=0)return!1;return!0}function F(S){return S.h==-1}t.l=function(S){return S=N(this,S),F(S)?-1:U(S)?0:1};function Z(S){const I=S.g.length,C=[];for(let R=0;R<I;R++)C[R]=~S.g[R];return new l(C,~S.h).add(T)}t.abs=function(){return F(this)?Z(this):this},t.add=function(S){const I=Math.max(this.g.length,S.g.length),C=[];let R=0;for(let k=0;k<=I;k++){let M=R+(this.i(k)&65535)+(S.i(k)&65535),A=(M>>>16)+(this.i(k)>>>16)+(S.i(k)>>>16);R=A>>>16,M&=65535,A&=65535,C[k]=A<<16|M}return new l(C,C[C.length-1]&-2147483648?-1:0)};function N(S,I){return S.add(Z(I))}t.j=function(S){if(U(this)||U(S))return w;if(F(this))return F(S)?Z(this).j(Z(S)):Z(Z(this).j(S));if(F(S))return Z(this.j(Z(S)));if(this.l(b)<0&&S.l(b)<0)return m(this.m()*S.m());const I=this.g.length+S.g.length,C=[];for(var R=0;R<2*I;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(let k=0;k<S.g.length;k++){const M=this.i(R)>>>16,A=this.i(R)&65535,ue=S.i(k)>>>16,ze=S.i(k)&65535;C[2*R+2*k]+=A*ze,P(C,2*R+2*k),C[2*R+2*k+1]+=M*ze,P(C,2*R+2*k+1),C[2*R+2*k+1]+=A*ue,P(C,2*R+2*k+1),C[2*R+2*k+2]+=M*ue,P(C,2*R+2*k+2)}for(S=0;S<I;S++)C[S]=C[2*S+1]<<16|C[2*S];for(S=I;S<2*I;S++)C[S]=0;return new l(C,0)};function P(S,I){for(;(S[I]&65535)!=S[I];)S[I+1]+=S[I]>>>16,S[I]&=65535,I++}function D(S,I){this.g=S,this.h=I}function W(S,I){if(U(I))throw Error("division by zero");if(U(S))return new D(w,w);if(F(S))return I=W(Z(S),I),new D(Z(I.g),Z(I.h));if(F(I))return I=W(S,Z(I)),new D(Z(I.g),I.h);if(S.g.length>30){if(F(S)||F(I))throw Error("slowDivide_ only works with positive integers.");for(var C=T,R=I;R.l(S)<=0;)C=z(C),R=z(R);var k=J(C,1),M=J(R,1);for(R=J(R,2),C=J(C,2);!U(R);){var A=M.add(R);A.l(S)<=0&&(k=k.add(C),M=A),R=J(R,1),C=J(C,1)}return I=N(S,k.j(I)),new D(k,I)}for(k=w;S.l(I)>=0;){for(C=Math.max(1,Math.floor(S.m()/I.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),M=m(C),A=M.j(I);F(A)||A.l(S)>0;)C-=R,M=m(C),A=M.j(I);U(M)&&(M=T),k=k.add(M),S=N(S,A)}return new D(k,S)}t.B=function(S){return W(this,S).h},t.and=function(S){const I=Math.max(this.g.length,S.g.length),C=[];for(let R=0;R<I;R++)C[R]=this.i(R)&S.i(R);return new l(C,this.h&S.h)},t.or=function(S){const I=Math.max(this.g.length,S.g.length),C=[];for(let R=0;R<I;R++)C[R]=this.i(R)|S.i(R);return new l(C,this.h|S.h)},t.xor=function(S){const I=Math.max(this.g.length,S.g.length),C=[];for(let R=0;R<I;R++)C[R]=this.i(R)^S.i(R);return new l(C,this.h^S.h)};function z(S){const I=S.g.length+1,C=[];for(let R=0;R<I;R++)C[R]=S.i(R)<<1|S.i(R-1)>>>31;return new l(C,S.h)}function J(S,I){const C=I>>5;I%=32;const R=S.g.length-C,k=[];for(let M=0;M<R;M++)k[M]=I>0?S.i(M+C)>>>I|S.i(M+C+1)<<32-I:S.i(M+C);return new l(k,S.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,TT=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=y,_r=l}).apply(typeof E_<"u"?E_:typeof self<"u"?self:typeof window<"u"?window:{});var Lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ET,Oa,IT,Ku,Cd,ST,PT,CT;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lu=="object"&&Lu];for(var p=0;p<u.length;++p){var _=u[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=n(this);function s(u,p){if(p)e:{var _=i;u=u.split(".");for(var E=0;E<u.length-1;E++){var O=u[E];if(!(O in _))break e;_=_[O]}u=u[u.length-1],E=_[u],p=p(E),p!=E&&p!=null&&e(_,u,{configurable:!0,writable:!0,value:p})}}s("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(u){return u||function(p){var _=[],E;for(E in p)Object.prototype.hasOwnProperty.call(p,E)&&_.push([E,p[E]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function h(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,_){return u.call.apply(u.bind,arguments)}function m(u,p,_){return m=d,m.apply(null,arguments)}function y(u,p){var _=Array.prototype.slice.call(arguments,1);return function(){var E=_.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function w(u,p){function _(){}_.prototype=p.prototype,u.Z=p.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(E,O,H){for(var ee=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)ee[ge-2]=arguments[ge];return p.prototype[O].apply(E,ee)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function b(u){const p=u.length;if(p>0){const _=Array(p);for(let E=0;E<p;E++)_[E]=u[E];return _}return[]}function U(u,p){for(let E=1;E<arguments.length;E++){const O=arguments[E];var _=typeof O;if(_=_!="object"?_:O?Array.isArray(O)?"array":_:"null",_=="array"||_=="object"&&typeof O.length=="number"){_=u.length||0;const H=O.length||0;u.length=_+H;for(let ee=0;ee<H;ee++)u[_+ee]=O[ee]}else u.push(O)}}class F{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function Z(u){l.setTimeout(()=>{throw u},0)}function N(){var u=S;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class P{constructor(){this.h=this.g=null}add(p,_){const E=D.get();E.set(p,_),this.h?this.h.next=E:this.g=E,this.h=E}}var D=new F(()=>new W,u=>u.reset());class W{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let z,J=!1,S=new P,I=()=>{const u=Promise.resolve(void 0);z=()=>{u.then(C)}};function C(){for(var u;u=N();){try{u.h.call(u.g)}catch(_){Z(_)}var p=D;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}J=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};l.addEventListener("test",_,p),l.removeEventListener("test",_,p)}catch{}return u}();function A(u){return/^[\s\xa0]*$/.test(u)}function ue(u,p){k.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}w(ue,k),ue.prototype.init=function(u,p){const _=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(_=="mouseover"?p=u.fromElement:_=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ue.Z.h.call(this)},ue.prototype.h=function(){ue.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ze="closure_listenable_"+(Math.random()*1e6|0),tt=0;function Vt(u,p,_,E,O){this.listener=u,this.proxy=null,this.src=p,this.type=_,this.capture=!!E,this.ha=O,this.key=++tt,this.da=this.fa=!1}function $(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ce(u,p,_){for(const E in u)p.call(_,u[E],E,u)}function X(u,p){for(const _ in u)p.call(void 0,u[_],_,u)}function he(u){const p={};for(const _ in u)p[_]=u[_];return p}const we="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Be(u,p){let _,E;for(let O=1;O<arguments.length;O++){E=arguments[O];for(_ in E)u[_]=E[_];for(let H=0;H<we.length;H++)_=we[H],Object.prototype.hasOwnProperty.call(E,_)&&(u[_]=E[_])}}function Ie(u){this.src=u,this.g={},this.h=0}Ie.prototype.add=function(u,p,_,E,O){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const ee=pe(u,p,E,O);return ee>-1?(p=u[ee],_||(p.fa=!1)):(p=new Vt(p,this.src,H,!!E,O),p.fa=_,u.push(p)),p};function ve(u,p){const _=p.type;if(_ in u.g){var E=u.g[_],O=Array.prototype.indexOf.call(E,p,void 0),H;(H=O>=0)&&Array.prototype.splice.call(E,O,1),H&&($(p),u.g[_].length==0&&(delete u.g[_],u.h--))}}function pe(u,p,_,E){for(let O=0;O<u.length;++O){const H=u[O];if(!H.da&&H.listener==p&&H.capture==!!_&&H.ha==E)return O}return-1}var ot="closure_lm_"+(Math.random()*1e6|0),$t={};function Nr(u,p,_,E,O){if(Array.isArray(p)){for(let H=0;H<p.length;H++)Nr(u,p[H],_,E,O);return null}return _=_t(_),u&&u[ze]?u.J(p,_,h(E)?!!E.capture:!1,O):Dr(u,p,_,!1,E,O)}function Dr(u,p,_,E,O,H){if(!p)throw Error("Invalid event type");const ee=h(O)?!!O.capture:!!O;let ge=j(u);if(ge||(u[ot]=ge=new Ie(u)),_=ge.add(p,_,E,ee,H),_.proxy)return _;if(E=br(),_.proxy=E,E.src=u,E.listener=_,u.addEventListener)M||(O=ee),O===void 0&&(O=!1),u.addEventListener(p.toString(),E,O);else if(u.attachEvent)u.attachEvent(Is(p.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return _}function br(){function u(_){return p.call(u.src,u.listener,_)}const p=Mr;return u}function $n(u,p,_,E,O){if(Array.isArray(p))for(var H=0;H<p.length;H++)$n(u,p[H],_,E,O);else E=h(E)?!!E.capture:!!E,_=_t(_),u&&u[ze]?(u=u.i,H=String(p).toString(),H in u.g&&(p=u.g[H],_=pe(p,_,E,O),_>-1&&($(p[_]),Array.prototype.splice.call(p,_,1),p.length==0&&(delete u.g[H],u.h--)))):u&&(u=j(u))&&(p=u.g[p.toString()],u=-1,p&&(u=pe(p,_,E,O)),(_=u>-1?p[u]:null)&&mi(_))}function mi(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ze])ve(p.i,u);else{var _=u.type,E=u.proxy;p.removeEventListener?p.removeEventListener(_,E,u.capture):p.detachEvent?p.detachEvent(Is(_),E):p.addListener&&p.removeListener&&p.removeListener(E),(_=j(p))?(ve(_,u),_.h==0&&(_.src=null,p[ot]=null)):$(u)}}}function Is(u){return u in $t?$t[u]:$t[u]="on"+u}function Mr(u,p){if(u.da)u=!0;else{p=new ue(p,this);const _=u.listener,E=u.ha||u.src;u.fa&&mi(u),u=_.call(E,p)}return u}function j(u){return u=u[ot],u instanceof Ie?u:null}var Ae="__closure_events_fn_"+(Math.random()*1e9>>>0);function _t(u){return typeof u=="function"?u:(u[Ae]||(u[Ae]=function(p){return u.handleEvent(p)}),u[Ae])}function Ge(){R.call(this),this.i=new Ie(this),this.M=this,this.G=null}w(Ge,R),Ge.prototype[ze]=!0,Ge.prototype.removeEventListener=function(u,p,_,E){$n(this,u,p,_,E)};function nt(u,p){var _,E=u.G;if(E)for(_=[];E;E=E.G)_.push(E);if(u=u.M,E=p.type||p,typeof p=="string")p=new k(p,u);else if(p instanceof k)p.target=p.target||u;else{var O=p;p=new k(E,u),Be(p,O)}O=!0;let H,ee;if(_)for(ee=_.length-1;ee>=0;ee--)H=p.g=_[ee],O=Hi(H,E,!0,p)&&O;if(H=p.g=u,O=Hi(H,E,!0,p)&&O,O=Hi(H,E,!1,p)&&O,_)for(ee=0;ee<_.length;ee++)H=p.g=_[ee],O=Hi(H,E,!1,p)&&O}Ge.prototype.N=function(){if(Ge.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const _=u.g[p];for(let E=0;E<_.length;E++)$(_[E]);delete u.g[p],u.h--}}this.G=null},Ge.prototype.J=function(u,p,_,E){return this.i.add(String(u),p,!1,_,E)},Ge.prototype.K=function(u,p,_,E){return this.i.add(String(u),p,!0,_,E)};function Hi(u,p,_,E){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let O=!0;for(let H=0;H<p.length;++H){const ee=p[H];if(ee&&!ee.da&&ee.capture==_){const ge=ee.listener,De=ee.ha||ee.src;ee.fa&&ve(u.i,ee),O=ge.call(De,E)!==!1&&O}}return O&&!E.defaultPrevented}function Ol(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:l.setTimeout(u,p||0)}function Qo(u){u.g=Ol(()=>{u.g=null,u.i&&(u.i=!1,Qo(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Ch extends R{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Qo(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(u){R.call(this),this.h=u,this.g={}}w(Or,R);var Ss=[];function Yo(u){ce(u.g,function(p,_){this.g.hasOwnProperty(_)&&mi(p)},u),u.g={}}Or.prototype.N=function(){Or.Z.N.call(this),Yo(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ps=l.JSON.stringify,Ah=l.JSON.parse,Vl=class{stringify(u){return l.JSON.stringify(u,void 0)}parse(u){return l.JSON.parse(u,void 0)}};function Xo(){}function Fl(){}var qi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Vr(){k.call(this,"d")}w(Vr,k);function Cs(){k.call(this,"c")}w(Cs,k);var gi={},Wi=null;function As(){return Wi=Wi||new Ge}gi.Ia="serverreachability";function zl(u){k.call(this,gi.Ia,u)}w(zl,k);function $i(u){const p=As();nt(p,new zl(p))}gi.STAT_EVENT="statevent";function Jo(u,p){k.call(this,gi.STAT_EVENT,u),this.stat=p}w(Jo,k);function yt(u){const p=As();nt(p,new Jo(p,u))}gi.Ja="timingevent";function Bl(u,p){k.call(this,gi.Ja,u),this.size=p}w(Bl,k);function Fr(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){u()},p)}function zr(){this.g=!0}zr.prototype.ua=function(){this.g=!1};function xh(u,p,_,E,O,H){u.info(function(){if(u.g)if(H){var ee="",ge=H.split("&");for(let Me=0;Me<ge.length;Me++){var De=ge[Me].split("=");if(De.length>1){const it=De[0];De=De[1];const wn=it.split("_");ee=wn.length>=2&&wn[1]=="type"?ee+(it+"="+De+"&"):ee+(it+"=redacted&")}}}else ee=null;else ee=H;return"XMLHTTP REQ ("+E+") [attempt "+O+"]: "+p+`
`+_+`
`+ee})}function Rh(u,p,_,E,O,H,ee){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+O+"]: "+p+`
`+_+`
`+H+" "+ee})}function Zi(u,p,_,E){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+kh(u,_)+(E?" "+E:"")})}function ea(u,p){u.info(function(){return"TIMEOUT: "+p})}zr.prototype.info=function(){};function kh(u,p){if(!u.g)return p;if(!p)return null;try{const H=JSON.parse(p);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var _=H[u];if(!(_.length<2)){var E=_[1];if(Array.isArray(E)&&!(E.length<1)){var O=E[0];if(O!="noop"&&O!="stop"&&O!="close")for(let ee=1;ee<E.length;ee++)E[ee]=""}}}}return Ps(H)}catch{return p}}var xs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ul={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jl;function Zt(){}w(Zt,Xo),Zt.prototype.g=function(){return new XMLHttpRequest},jl=new Zt;function oe(u){return encodeURIComponent(String(u))}function Hl(u){var p=1;u=u.split(":");const _=[];for(;p>0&&u.length;)_.push(u.shift()),p--;return u.length&&_.push(u.join(":")),_}function Ln(u,p,_,E){this.j=u,this.i=p,this.l=_,this.S=E||1,this.V=new Or(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ta}function ta(){this.i=null,this.g="",this.h=!1}var na={},Br={};function Rs(u,p,_){u.M=1,u.A=Ue(Ft(p)),u.u=_,u.R=!0,_i(u,null)}function _i(u,p){u.F=Date.now(),ks(u),u.B=Ft(u.A);var _=u.B,E=u.S;Array.isArray(E)||(E=[String(E)]),Ms(_.i,"t",E),u.C=0,_=u.j.L,u.h=new ta,u.g=ga(u.j,_?p:null,!u.u),u.P>0&&(u.O=new Ch(m(u.Y,u,u.g),u.P)),p=u.V,_=u.g,E=u.ba;var O="readystatechange";Array.isArray(O)||(O&&(Ss[0]=O.toString()),O=Ss);for(let H=0;H<O.length;H++){const ee=Nr(_,O[H],E||p.handleEvent,!1,p.h||p);if(!ee)break;p.g[ee.key]=ee}p=u.J?he(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),$i(),xh(u.i,u.v,u.B,u.l,u.S,u.u)}Ln.prototype.ba=function(u){u=u.target;const p=this.O;p&&Qn(u)==3?p.j():this.Y(u)},Ln.prototype.Y=function(u){try{if(u==this.g)e:{const ge=Qn(this.g),De=this.g.ya(),Me=this.g.ca();if(!(ge<3)&&(ge!=3||this.g&&(this.h.h||this.g.la()||ua(this.g)))){this.K||ge!=4||De==7||(De==8||Me<=0?$i(3):$i(2)),Ls(this);var p=this.g.ca();this.X=p;var _=ql(this);if(this.o=p==200,Rh(this.i,this.v,this.B,this.l,this.S,ge,p),this.o){if(this.U&&!this.L){t:{if(this.g){var E,O=this.g;if((E=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(E)){var H=E;break t}}H=null}if(u=H)Zi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ia(this,u);else{this.o=!1,this.m=3,yt(12),gn(this),Ur(this);break e}}if(this.R){u=!0;let it;for(;!this.K&&this.C<_.length;)if(it=Lh(this,_),it==Br){ge==4&&(this.m=4,yt(14),u=!1),Zi(this.i,this.l,null,"[Incomplete Response]");break}else if(it==na){this.m=4,yt(15),Zi(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Zi(this.i,this.l,it,null),ia(this,it);if(Wl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ge!=4||_.length!=0||this.h.h||(this.m=1,yt(16),u=!1),this.o=this.o&&u,!u)Zi(this.i,this.l,_,"[Invalid Chunked Response]"),gn(this),Ur(this);else if(_.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),pa(ee),ee.P=!0,yt(11))}}else Zi(this.i,this.l,_,null),ia(this,_);ge==4&&gn(this),this.o&&!this.K&&(ge==4?an(this.j,this):(this.o=!1,ks(this)))}else ca(this.g),p==400&&_.indexOf("Unknown SID")>0?(this.m=3,yt(12)):(this.m=0,yt(13)),gn(this),Ur(this)}}}catch{}finally{}};function ql(u){if(!Wl(u))return u.g.la();const p=ua(u.g);if(p==="")return"";let _="";const E=p.length,O=Qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return gn(u),Ur(u),"";u.h.i=new l.TextDecoder}for(let H=0;H<E;H++)u.h.h=!0,_+=u.h.i.decode(p[H],{stream:!(O&&H==E-1)});return p.length=0,u.h.g+=_,u.C=0,u.h.g}function Wl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Lh(u,p){var _=u.C,E=p.indexOf(`
`,_);return E==-1?Br:(_=Number(p.substring(_,E)),isNaN(_)?na:(E+=1,E+_>p.length?Br:(p=p.slice(E,E+_),u.C=E+_,p)))}Ln.prototype.cancel=function(){this.K=!0,gn(this)};function ks(u){u.T=Date.now()+u.H,$l(u,u.H)}function $l(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Fr(m(u.aa,u),p)}function Ls(u){u.D&&(l.clearTimeout(u.D),u.D=null)}Ln.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ea(this.i,this.B),this.M!=2&&($i(),yt(17)),gn(this),this.m=2,Ur(this)):$l(this,this.T-u)};function Ur(u){u.j.I==0||u.K||an(u.j,u)}function gn(u){Ls(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,Yo(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function ia(u,p){try{var _=u.j;if(_.I!=0&&(_.g==u||jr(_.h,u))){if(!u.L&&jr(_.h,u)&&_.I==3){try{var E=_.Ba.g.parse(p)}catch{E=null}if(Array.isArray(E)&&E.length==3){var O=E;if(O[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)Bs(_),Fs(_);else break e;da(_),yt(18)}}else _.xa=O[1],0<_.xa-_.K&&O[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Fr(m(_.Va,_),6e3));Kl(_.h)<=1&&_.ta&&(_.ta=void 0)}else Xn(_,11)}else if((u.L||_.g==u)&&Bs(_),!A(p))for(O=_.Ba.g.parse(p),p=0;p<O.length;p++){let Me=O[p];const it=Me[0];if(!(it<=_.K))if(_.K=it,Me=Me[1],_.I==2)if(Me[0]=="c"){_.M=Me[1],_.ba=Me[2];const wn=Me[3];wn!=null&&(_.ka=wn,_.j.info("VER="+_.ka));const bn=Me[4];bn!=null&&(_.za=bn,_.j.info("SVER="+_.za));const Tn=Me[5];Tn!=null&&typeof Tn=="number"&&Tn>0&&(E=1.5*Tn,_.O=E,_.j.info("backChannelRequestTimeoutMs_="+E)),E=_;const Jn=u.g;if(Jn){const Hs=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hs){var H=E.h;H.g||Hs.indexOf("spdy")==-1&&Hs.indexOf("quic")==-1&&Hs.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(yi(H,H.h),H.h=null))}if(E.G){const qs=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;qs&&(E.wa=qs,re(E.J,E.G,qs))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),E=_;var ee=u;if(E.na=ma(E,E.L?E.ba:null,E.W),ee.L){ra(E.h,ee);var ge=ee,De=E.O;De&&(ge.H=De),ge.D&&(Ls(ge),ks(ge)),E.g=ee}else fa(E);_.i.length>0&&Yn(_)}else Me[0]!="stop"&&Me[0]!="close"||Xn(_,7);else _.I==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Xn(_,7):Te(_):Me[0]!="noop"&&_.l&&_.l.qa(Me),_.A=0)}}$i(4)}catch{}}var Nh=class{constructor(u,p){this.g=u,this.map=p}};function Zl(u){this.l=u||10,l.PerformanceNavigationTiming?(u=l.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Gl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Kl(u){return u.h?1:u.g?u.g.size:0}function jr(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function yi(u,p){u.g?u.g.add(p):u.h=p}function ra(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Zl.prototype.cancel=function(){if(this.i=sa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function sa(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const _ of u.g.values())p=p.concat(_.G);return p}return b(u.i)}var Gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xe(u,p){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const E=u[_].indexOf("=");let O,H=null;E>=0?(O=u[_].substring(0,E),H=u[_].substring(E+1)):O=u[_],p(O,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Ne(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof Ne?(this.l=u.l,_n(this,u.j),this.o=u.o,this.g=u.g,yn(this,u.u),this.h=u.h,Hr(this,qr(u.i)),this.m=u.m):u&&(p=String(u).match(Gi))?(this.l=!1,_n(this,p[1]||"",!0),this.o=vi(p[2]||""),this.g=vi(p[3]||"",!0),yn(this,p[4]),this.h=vi(p[5]||"",!0),Hr(this,p[6]||"",!0),this.m=vi(p[7]||"")):(this.l=!1,this.i=new Nn(null,this.l))}Ne.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(Zn(p,Ql,!0),":");var _=this.g;return(_||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Zn(p,Ql,!0),"@"),u.push(oe(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Zn(_,_.charAt(0)=="/"?wi:Ns,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Zn(_,Ti)),u.join("")},Ne.prototype.resolve=function(u){const p=Ft(this);let _=!!u.j;_?_n(p,u.j):_=!!u.o,_?p.o=u.o:_=!!u.g,_?p.g=u.g:_=u.u!=null;var E=u.h;if(_)yn(p,u.u);else if(_=!!u.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var O=p.h.lastIndexOf("/");O!=-1&&(E=p.h.slice(0,O+1)+E)}if(O=E,O==".."||O==".")E="";else if(O.indexOf("./")!=-1||O.indexOf("/.")!=-1){E=O.lastIndexOf("/",0)==0,O=O.split("/");const H=[];for(let ee=0;ee<O.length;){const ge=O[ee++];ge=="."?E&&ee==O.length&&H.push(""):ge==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),E&&ee==O.length&&H.push("")):(H.push(ge),E=!0)}E=H.join("/")}else E=O}return _?p.h=E:_=u.i.toString()!=="",_?Hr(p,qr(u.i)):_=!!u.m,_&&(p.m=u.m),p};function Ft(u){return new Ne(u)}function _n(u,p,_){u.j=_?vi(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function yn(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function Hr(u,p,_){p instanceof Nn?(u.i=p,oa(u.i,u.l)):(_||(p=Zn(p,Je)),u.i=new Nn(p,u.l))}function re(u,p,_){u.i.set(p,_)}function Ue(u){return re(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function vi(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Zn(u,p,_){return typeof u=="string"?(u=encodeURI(u).replace(p,Gt),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Gt(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ql=/[#\/\?@]/g,Ns=/[#\?:]/g,wi=/[#\?]/g,Je=/[#\?@]/g,Ti=/#/g;function Nn(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function on(u){u.g||(u.g=new Map,u.h=0,u.i&&xe(u.i,function(p,_){u.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}t=Nn.prototype,t.add=function(u,p){on(this),this.i=null,u=Gn(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(p),this.h+=1,this};function Ds(u,p){on(u),p=Gn(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Ki(u,p){return on(u),p=Gn(u,p),u.g.has(p)}t.forEach=function(u,p){on(this),this.g.forEach(function(_,E){_.forEach(function(O){u.call(p,O,E,this)},this)},this)};function bs(u,p){on(u);let _=[];if(typeof p=="string")Ki(u,p)&&(_=_.concat(u.g.get(Gn(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)_=_.concat(u[p]);return _}t.set=function(u,p){return on(this),this.i=null,u=Gn(this,u),Ki(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=bs(this,u),u.length>0?String(u[0]):p):p};function Ms(u,p,_){Ds(u,p),_.length>0&&(u.i=null,u.g.set(Gn(u,p),b(_)),u.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let E=0;E<p.length;E++){var _=p[E];const O=oe(_);_=bs(this,_);for(let H=0;H<_.length;H++){let ee=O;_[H]!==""&&(ee+="="+oe(_[H])),u.push(ee)}}return this.i=u.join("&")};function qr(u){const p=new Nn;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function Gn(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function oa(u,p){p&&!u.j&&(on(u),u.i=null,u.g.forEach(function(_,E){const O=E.toLowerCase();E!=O&&(Ds(this,E),Ms(this,O,_))},u)),u.j=p}function Os(u,p){const _=new zr;if(l.Image){const E=new Image;E.onload=y(vn,_,"TestLoadImage: loaded",!0,p,E),E.onerror=y(vn,_,"TestLoadImage: error",!1,p,E),E.onabort=y(vn,_,"TestLoadImage: abort",!1,p,E),E.ontimeout=y(vn,_,"TestLoadImage: timeout",!1,p,E),l.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else p(!1)}function Yl(u,p){const _=new zr,E=new AbortController,O=setTimeout(()=>{E.abort(),vn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:E.signal}).then(H=>{clearTimeout(O),H.ok?vn(_,"TestPingServer: ok",!0,p):vn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(O),vn(_,"TestPingServer: error",!1,p)})}function vn(u,p,_,E,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),E(_)}catch{}}function Dh(){this.g=new Vl}function me(u){this.i=u.Sb||null,this.h=u.ab||!1}w(me,Xo),me.prototype.g=function(){return new zt(this.i,this.h)};function zt(u,p){Ge.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(zt,Ge),t=zt.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,Ei(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||l).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Qi(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ve(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ve(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Qi(this):Ei(this),this.readyState==3&&Ve(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,Qi(this))},t.Na=function(u){this.g&&(this.response=u,Qi(this))},t.ga=function(){this.g&&Qi(this)};function Qi(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ei(u)}t.setRequestHeader=function(u,p){this.A.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=p.next();return u.join(`\r
`)};function Ei(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(zt.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Vs(u){let p="";return ce(u,function(_,E){p+=E,p+=":",p+=_,p+=`\r
`}),p}function Wr(u,p,_){e:{for(E in _){var E=!1;break e}E=!0}E||(_=Vs(_),typeof u=="string"?_!=null&&oe(_):re(u,p,_))}function be(u){Ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(be,Ge);var aa=/^https?$/i,$r=["POST","PUT"];t=be.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,p,_,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jl.g(),this.g.onreadystatechange=T(m(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(H){at(this,H);return}if(u=_||"",_=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var O in E)_.set(O,E[O]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const H of E.keys())_.set(H,E.get(H));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),O=l.FormData&&u instanceof l.FormData,!(Array.prototype.indexOf.call($r,p,void 0)>=0)||E||O||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ee]of _)this.g.setRequestHeader(H,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){at(this,H)}};function at(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,Kn(u),Zr(u)}function Kn(u){u.A||(u.A=!0,nt(u,"complete"),nt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,nt(this,"complete"),nt(this,"abort"),Zr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zr(this,!0)),be.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?la(this):this.Xa())},t.Xa=function(){la(this)};function la(u){if(u.h&&typeof o<"u"){if(u.v&&Qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(nt(u,"readystatechange"),Qn(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var E;if(E=H===0){let ee=String(u.D).match(Gi)[1]||null;!ee&&l.self&&l.self.location&&(ee=l.self.location.protocol.slice(0,-1)),E=!aa.test(ee?ee.toLowerCase():"")}_=E}if(_)nt(u,"complete"),nt(u,"success");else{u.o=6;try{var O=Qn(u)>2?u.g.statusText:""}catch{O=""}u.l=O+" ["+u.ca()+"]",Kn(u)}}finally{Zr(u)}}}}function Zr(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,p||nt(u,"ready");try{_.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Qn(u){return u.g?u.g.readyState:0}t.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Ah(p)}};function ua(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ca(u){const p={};u=(u.g&&Qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(A(u[E]))continue;var _=Hl(u[E]);const O=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=p[O]||[];p[O]=H,H.push(_)}X(p,function(E){return E.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(u,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||p}function ha(u){this.za=0,this.i=[],this.j=new zr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gr("baseRetryDelayMs",5e3,u),this.Za=Gr("retryDelaySeedMs",1e4,u),this.Ta=Gr("forwardChannelMaxRetries",2,u),this.va=Gr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Zl(u&&u.concurrentRequestLimit),this.Ba=new Dh,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ha.prototype,t.ka=8,t.I=1,t.connect=function(u,p,_,E){yt(0),this.W=u,this.H=p||{},_&&E!==void 0&&(this.H.OSID=_,this.H.OAID=E),this.F=this.X,this.J=ma(this,null,this.W),Yn(this)};function Te(u){if(Kt(u),u.I==3){var p=u.V++,_=Ft(u.J);if(re(_,"SID",u.M),re(_,"RID",p),re(_,"TYPE","terminate"),Ii(u,_),p=new Ln(u,u.j,p),p.M=2,p.A=Ue(Ft(_)),_=!1,l.navigator&&l.navigator.sendBeacon)try{_=l.navigator.sendBeacon(p.A.toString(),"")}catch{}!_&&l.Image&&(new Image().src=p.A,_=!0),_||(p.g=ga(p.j,null),p.g.ea(p.A)),p.F=Date.now(),ks(p)}Dn(u)}function Fs(u){u.g&&(pa(u),u.g.cancel(),u.g=null)}function Kt(u){Fs(u),u.v&&(l.clearTimeout(u.v),u.v=null),Bs(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&l.clearTimeout(u.m),u.m=null)}function Yn(u){if(!Gl(u.h)&&!u.m){u.m=!0;var p=u.Ea;z||I(),J||(z(),J=!0),S.add(p,u),u.D=0}}function Xl(u,p){return Kl(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Fr(m(u.Ea,u,p),tu(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const O=new Ln(this,this.j,u);let H=this.o;if(this.U&&(H?(H=he(H),Be(H,this.U)):H=this.U),this.u!==null||this.R||(O.J=H,H=null),this.S)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var E=this.i[_];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(p+=E,p>4096){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=eu(this,O,p),_=Ft(this.J),re(_,"RID",u),re(_,"CVER",22),this.G&&re(_,"X-HTTP-Session-Id",this.G),Ii(this,_),H&&(this.R?p="headers="+oe(Vs(H))+"&"+p:this.u&&Wr(_,this.u,H)),yi(this.h,O),this.Ra&&re(_,"TYPE","init"),this.S?(re(_,"$req",p),re(_,"SID","null"),O.U=!0,Rs(O,_,null)):Rs(O,_,p),this.I=2}}else this.I==3&&(u?Jl(this,u):this.i.length==0||Gl(this.h)||Jl(this))};function Jl(u,p){var _;p?_=p.l:_=u.V++;const E=Ft(u.J);re(E,"SID",u.M),re(E,"RID",_),re(E,"AID",u.K),Ii(u,E),u.u&&u.o&&Wr(E,u.u,u.o),_=new Ln(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),p&&(u.i=p.G.concat(u.i)),p=eu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),yi(u.h,_),Rs(_,E,p)}function Ii(u,p){u.H&&ce(u.H,function(_,E){re(p,E,_)}),u.l&&ce({},function(_,E){re(p,E,_)})}function eu(u,p,_){_=Math.min(u.i.length,_);const E=u.l?m(u.l.Ka,u.l,u):null;e:{var O=u.i;let ge=-1;for(;;){const De=["count="+_];ge==-1?_>0?(ge=O[0].g,De.push("ofs="+ge)):ge=0:De.push("ofs="+ge);let Me=!0;for(let it=0;it<_;it++){var H=O[it].g;const wn=O[it].map;if(H-=ge,H<0)ge=Math.max(0,O[it].g-100),Me=!1;else try{H="req"+H+"_"||"";try{var ee=wn instanceof Map?wn:Object.entries(wn);for(const[bn,Tn]of ee){let Jn=Tn;h(Tn)&&(Jn=Ps(Tn)),De.push(H+bn+"="+encodeURIComponent(Jn))}}catch(bn){throw De.push(H+"type="+encodeURIComponent("_badmap")),bn}}catch{E&&E(wn)}}if(Me){ee=De.join("&");break e}}ee=void 0}return u=u.i.splice(0,_),p.G=u,ee}function fa(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;z||I(),J||(z(),J=!0),S.add(p,u),u.A=0}}function da(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Fr(m(u.Da,u),tu(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,zs(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Fr(m(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yt(10),Fs(this),zs(this))};function pa(u){u.B!=null&&(l.clearTimeout(u.B),u.B=null)}function zs(u){u.g=new Ln(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=Ft(u.na);re(p,"RID","rpc"),re(p,"SID",u.M),re(p,"AID",u.K),re(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&re(p,"TO",u.ia),re(p,"TYPE","xmlhttp"),Ii(u,p),u.u&&u.o&&Wr(p,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Ue(Ft(p)),_.u=null,_.R=!0,_i(_,u)}t.Va=function(){this.C!=null&&(this.C=null,Fs(this),da(this),yt(19))};function Bs(u){u.C!=null&&(l.clearTimeout(u.C),u.C=null)}function an(u,p){var _=null;if(u.g==p){Bs(u),pa(u),u.g=null;var E=2}else if(jr(u.h,p))_=p.G,ra(u.h,p),E=1;else return;if(u.I!=0){if(p.o)if(E==1){_=p.u?p.u.length:0,p=Date.now()-p.F;var O=u.D;E=As(),nt(E,new Bl(E,_)),Yn(u)}else fa(u);else if(O=p.m,O==3||O==0&&p.X>0||!(E==1&&Xl(u,p)||E==2&&da(u)))switch(_&&_.length>0&&(p=u.h,p.i=p.i.concat(_)),O){case 1:Xn(u,5);break;case 4:Xn(u,10);break;case 3:Xn(u,6);break;default:Xn(u,2)}}}function tu(u,p){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*p}function Xn(u,p){if(u.j.info("Error code "+p),p==2){var _=m(u.bb,u),E=u.Ua;const O=!E;E=new Ne(E||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||_n(E,"https"),Ue(E),O?Os(E.toString(),_):Yl(E.toString(),_)}else yt(2);u.I=0,u.l&&u.l.pa(p),Dn(u),Kt(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Dn(u){if(u.I=0,u.ja=[],u.l){const p=sa(u.h);(p.length!=0||u.i.length!=0)&&(U(u.ja,p),U(u.ja,u.i),u.h.i.length=0,b(u.i),u.i.length=0),u.l.oa()}}function ma(u,p,_){var E=_ instanceof Ne?Ft(_):new Ne(_);if(E.g!="")p&&(E.g=p+"."+E.g),yn(E,E.u);else{var O=l.location;E=O.protocol,p=p?p+"."+O.hostname:O.hostname,O=+O.port;const H=new Ne(null);E&&_n(H,E),p&&(H.g=p),O&&yn(H,O),_&&(H.h=_),E=H}return _=u.G,p=u.wa,_&&p&&re(E,_,p),re(E,"VER",u.ka),Ii(u,E),E}function ga(u,p,_){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new be(new me({ab:_})):new be(u.ma),p.Fa(u.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Us(){}t=Us.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function js(){}js.prototype.g=function(u,p){return new Rt(u,p)};function Rt(u,p){Ge.call(this),this.g=new ha(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!A(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!A(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Yi(this)}w(Rt,Ge),Rt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rt.prototype.close=function(){Te(this.g)},Rt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Ps(u),u=_);p.i.push(new Nh(p.Ya++,u)),p.I==3&&Yn(p)},Rt.prototype.N=function(){this.g.l=null,delete this.j,Te(this.g),delete this.g,Rt.Z.N.call(this)};function _a(u){Vr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const _ in p){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}w(_a,Vr);function nu(){Cs.call(this),this.status=1}w(nu,Cs);function Yi(u){this.g=u}w(Yi,Us),Yi.prototype.ra=function(){nt(this.g,"a")},Yi.prototype.qa=function(u){nt(this.g,new _a(u))},Yi.prototype.pa=function(u){nt(this.g,new nu)},Yi.prototype.oa=function(){nt(this.g,"b")},js.prototype.createWebChannel=js.prototype.g,Rt.prototype.send=Rt.prototype.o,Rt.prototype.open=Rt.prototype.m,Rt.prototype.close=Rt.prototype.close,CT=function(){return new js},PT=function(){return As()},ST=gi,Cd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xs.NO_ERROR=0,xs.TIMEOUT=8,xs.HTTP_ERROR=6,Ku=xs,Ul.COMPLETE="complete",IT=Ul,Fl.EventType=qi,qi.OPEN="a",qi.CLOSE="b",qi.ERROR="c",qi.MESSAGE="d",Ge.prototype.listen=Ge.prototype.J,Oa=Fl,be.prototype.listenOnce=be.prototype.K,be.prototype.getLastError=be.prototype.Ha,be.prototype.getLastErrorCode=be.prototype.ya,be.prototype.getStatus=be.prototype.ca,be.prototype.getResponseJson=be.prototype.La,be.prototype.getResponseText=be.prototype.la,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Fa,ET=be}).apply(typeof Lu<"u"?Lu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dt.UNAUTHENTICATED=new Dt(null),Dt.GOOGLE_CREDENTIALS=new Dt("google-credentials-uid"),Dt.FIRST_PARTY=new Dt("first-party-uid"),Dt.MOCK_USER=new Dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo="12.9.0";function IC(t){qo=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new Hp("@firebase/firestore");function Xs(){return ds.logLevel}function ie(t,...e){if(ds.logLevel<=ke.DEBUG){const n=e.map($p);ds.debug(`Firestore (${qo}): ${t}`,...n)}}function zi(t,...e){if(ds.logLevel<=ke.ERROR){const n=e.map($p);ds.error(`Firestore (${qo}): ${t}`,...n)}}function ps(t,...e){if(ds.logLevel<=ke.WARN){const n=e.map($p);ds.warn(`Firestore (${qo}): ${t}`,...n)}}function $p(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,AT(t,i,n)}function AT(t,e,n){let i=`FIRESTORE (${qo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw zi(i),new Error(i)}function Oe(t,e,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,t||AT(e,s,i)}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dt.UNAUTHENTICATED))}shutdown(){}}class PC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class CC{constructor(e){this.t=e,this.currentUser=Dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0,42304);let i=this.i;const s=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let o=new ss;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ss,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},h=d=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ss)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Oe(typeof i.accessToken=="string",31837,{l:i}),new xT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string",2055,{h:e}),new Dt(e)}}class AC{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Dt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class xC{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new AC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class I_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gT(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Oe(this.o===void 0,3512);const i=o=>{o.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,ie("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const s=o=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new I_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new I_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=kC(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<n&&(i+=e.charAt(s[o]%62))}return i}}function Pe(t,e){return t<e?-1:t>e?1:0}function Ad(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const s=t.charAt(i),o=e.charAt(i);if(s!==o)return gf(s)===gf(o)?Pe(s,o):gf(s)?1:-1}return Pe(t.length,e.length)}const LC=55296,NC=57343;function gf(t){const e=t.charCodeAt(0);return e>=LC&&e<=NC}function Do(t,e,n){return t.length===e.length&&t.every((i,s)=>n(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="__name__";class ii{constructor(e,n,i){n===void 0?n=0:n>e.length&&de(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&de(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ii.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ii?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let s=0;s<i;s++){const o=ii.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return Pe(e.length,n.length)}static compareSegments(e,n){const i=ii.isNumericId(e),s=ii.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?ii.extractNumericId(e).compare(ii.extractNumericId(n)):Ad(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _r.fromString(e.substring(4,e.length-2))}}class je extends ii{construct(e,n,i){return new je(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ne(G.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new je(n)}static emptyPath(){return new je([])}}const DC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pt extends ii{construct(e,n,i){return new Pt(e,n,i)}static isValidIdentifier(e){return DC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===S_}static keyField(){return new Pt([S_])}static fromServerFormat(e){const n=[];let i="",s=0;const o=()=>{if(i.length===0)throw new ne(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new ne(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ne(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,s+=2}else h==="`"?(l=!l,s++):h!=="."||l?(i+=h,s++):(o(),s++)}if(o(),l)throw new ne(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pt(n)}static emptyPath(){return new Pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(je.fromString(e))}static fromName(e){return new ae(je.fromString(e).popFirst(5))}static empty(){return new ae(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(t,e,n){if(!n)throw new ne(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bC(t,e,n,i){if(e===!0&&i===!0)throw new ne(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function P_(t){if(!ae.isDocumentKey(t))throw new ne(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function C_(t){if(ae.isDocumentKey(t))throw new ne(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kT(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function lh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de(12329,{type:typeof t})}function os(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lh(t);throw new ne(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ll(t,e){if(!kT(t))throw new ne(G.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const s=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const l=t[i];if(s&&typeof l!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${i}' field to equal '${o.value}'`;break}}if(n)throw new ne(G.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=-62135596800,x_=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*x_);return new We(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<A_)throw new ne(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/x_}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:We._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ll(e,We._jsonSchema))return new We(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-A_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:ft("string",We._jsonSchemaVersion),seconds:ft("number"),nanoseconds:ft("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new We(0,0))}static max(){return new _e(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=-1;function MC(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,s=_e.fromTimestamp(i===1e9?new We(n+1,0):new We(n,i));return new Tr(s,ae.empty(),e)}function OC(t){return new Tr(t.readTime,t.key,yl)}class Tr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Tr(_e.min(),ae.empty(),yl)}static max(){return new Tr(_e.max(),ae.empty(),yl)}}function VC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==FC)throw t;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,i)=>{n(e)})}static reject(e){return new K((n,i)=>{i(e)})}static waitFor(e){return new K((n,i)=>{let s=0,o=0,l=!1;e.forEach(h=>{++s,h.next(()=>{++o,l&&o===s&&n()},d=>i(d))}),l=!0,o===s&&n()})}static or(e){let n=K.resolve(!1);for(const i of e)n=n.next(s=>s?K.resolve(s):i());return n}static forEach(e,n){const i=[];return e.forEach((s,o)=>{i.push(n.call(this,s,o))}),this.waitFor(i)}static mapArray(e,n){return new K((i,s)=>{const o=e.length,l=new Array(o);let h=0;for(let d=0;d<o;d++){const m=d;n(e[m]).next(y=>{l[m]=y,++h,h===o&&i(l)},y=>s(y))}})}static doWhile(e,n){return new K((i,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):i()};o()})}}function BC(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $o(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}uh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=-1;function ch(t){return t==null}function Rc(t){return t===0&&1/t==-1/0}function UC(t){return typeof t=="number"&&Number.isInteger(t)&&!Rc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="";function jC(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=R_(e)),e=HC(t.get(n),e);return R_(e)}function HC(t,e){let n=e;const i=t.length;for(let s=0;s<i;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case LT:n+="";break;default:n+=o}}return n}function R_(t){return t+LT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function kr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function NT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||St.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nu(this.root,e,this.comparator,!0)}}class Nu{constructor(e,n,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,n,i,s,o){this.key=e,this.value=n,this.color=i??St.RED,this.left=s??St.EMPTY,this.right=o??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,s,o){return new St(e??this.key,n??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,i),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return St.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,n,i,s,o){return this}insert(e,n,i){return new St(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new L_(this.data.getIterator())}getIteratorFrom(e){return new L_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class L_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.fields=e,e.sort(Pt.comparator)}static empty(){return new cn([])}unionWith(e){let n=new gt(Pt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new DT("Invalid base64 string: "+o):o}}(e);return new xt(n)}static fromUint8Array(e){const n=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const qC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(t){if(Oe(!!t,39018),typeof t=="string"){let e=0;const n=qC.exec(t);if(Oe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ir(t){return typeof t=="string"?xt.fromBase64String(t):xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="server_timestamp",MT="__type__",OT="__previous_value__",VT="__local_write_time__";function Kp(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[MT])==null?void 0:i.stringValue)===bT}function hh(t){const e=t.mapValue.fields[OT];return Kp(e)?hh(e):e}function vl(t){const e=Er(t.mapValue.fields[VT].timestampValue);return new We(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,i,s,o,l,h,d,m,y,w){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=y,this.apiKey=w}}const kc="(default)";class wl{constructor(e,n){this.projectId=e,this.database=n||kc}static empty(){return new wl("","")}get isDefaultDatabase(){return this.database===kc}isEqual(e){return e instanceof wl&&e.projectId===this.projectId&&e.database===this.database}}function $C(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ne(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wl(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="__type__",ZC="__max__",Du={mapValue:{}},zT="__vector__",Lc="value";function Sr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kp(t)?4:KC(t)?9007199254740991:GC(t)?10:11:de(28295,{value:t})}function fi(t,e){if(t===e)return!0;const n=Sr(t);if(n!==Sr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vl(t).isEqual(vl(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=Er(s.timestampValue),h=Er(o.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return Ir(s.bytesValue).isEqual(Ir(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return rt(s.geoPointValue.latitude)===rt(o.geoPointValue.latitude)&&rt(s.geoPointValue.longitude)===rt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return rt(s.integerValue)===rt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=rt(s.doubleValue),h=rt(o.doubleValue);return l===h?Rc(l)===Rc(h):isNaN(l)&&isNaN(h)}return!1}(t,e);case 9:return Do(t.arrayValue.values||[],e.arrayValue.values||[],fi);case 10:case 11:return function(s,o){const l=s.mapValue.fields||{},h=o.mapValue.fields||{};if(k_(l)!==k_(h))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(h[d]===void 0||!fi(l[d],h[d])))return!1;return!0}(t,e);default:return de(52216,{left:t})}}function Tl(t,e){return(t.values||[]).find(n=>fi(n,e))!==void 0}function bo(t,e){if(t===e)return 0;const n=Sr(t),i=Sr(e);if(n!==i)return Pe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(o,l){const h=rt(o.integerValue||o.doubleValue),d=rt(l.integerValue||l.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(t,e);case 3:return N_(t.timestampValue,e.timestampValue);case 4:return N_(vl(t),vl(e));case 5:return Ad(t.stringValue,e.stringValue);case 6:return function(o,l){const h=Ir(o),d=Ir(l);return h.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const h=o.split("/"),d=l.split("/");for(let m=0;m<h.length&&m<d.length;m++){const y=Pe(h[m],d[m]);if(y!==0)return y}return Pe(h.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const h=Pe(rt(o.latitude),rt(l.latitude));return h!==0?h:Pe(rt(o.longitude),rt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return D_(t.arrayValue,e.arrayValue);case 10:return function(o,l){var T,b,U,F;const h=o.fields||{},d=l.fields||{},m=(T=h[Lc])==null?void 0:T.arrayValue,y=(b=d[Lc])==null?void 0:b.arrayValue,w=Pe(((U=m==null?void 0:m.values)==null?void 0:U.length)||0,((F=y==null?void 0:y.values)==null?void 0:F.length)||0);return w!==0?w:D_(m,y)}(t.mapValue,e.mapValue);case 11:return function(o,l){if(o===Du.mapValue&&l===Du.mapValue)return 0;if(o===Du.mapValue)return 1;if(l===Du.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),m=l.fields||{},y=Object.keys(m);d.sort(),y.sort();for(let w=0;w<d.length&&w<y.length;++w){const T=Ad(d[w],y[w]);if(T!==0)return T;const b=bo(h[d[w]],m[y[w]]);if(b!==0)return b}return Pe(d.length,y.length)}(t.mapValue,e.mapValue);default:throw de(23264,{he:n})}}function N_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const n=Er(t),i=Er(e),s=Pe(n.seconds,i.seconds);return s!==0?s:Pe(n.nanos,i.nanos)}function D_(t,e){const n=t.values||[],i=e.values||[];for(let s=0;s<n.length&&s<i.length;++s){const o=bo(n[s],i[s]);if(o)return o}return Pe(n.length,i.length)}function Mo(t){return xd(t)}function xd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Er(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ir(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",s=!0;for(const o of n.values||[])s?s=!1:i+=",",i+=xd(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${xd(n.fields[l])}`;return s+"}"}(t.mapValue):de(61005,{value:t})}function Qu(t){switch(Sr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hh(t);return e?16+Qu(e):16;case 5:return 2*t.stringValue.length;case 6:return Ir(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,o)=>s+Qu(o),0)}(t.arrayValue);case 10:case 11:return function(i){let s=0;return kr(i.fields,(o,l)=>{s+=o.length+Qu(l)}),s}(t.mapValue);default:throw de(13486,{value:t})}}function b_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Rd(t){return!!t&&"integerValue"in t}function Qp(t){return!!t&&"arrayValue"in t}function M_(t){return!!t&&"nullValue"in t}function O_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yu(t){return!!t&&"mapValue"in t}function GC(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[FT])==null?void 0:i.stringValue)===zT}function Qa(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return kr(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Qa(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qa(t.arrayValue.values[n]);return e}return{...t}}function KC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ZC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Yu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qa(n)}setAll(e){let n=Pt.emptyPath(),i={},s=[];e.forEach((l,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,i,s),i={},s=[],n=h.popLast()}l?i[h.lastSegment()]=Qa(l):s.push(h.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,s)}delete(e){const n=this.field(e.popLast());Yu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=n.mapValue.fields[e.get(i)];Yu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,i){kr(n,(s,o)=>e[s]=o);for(const s of i)delete e[s]}clone(){return new Jt(Qa(this.value))}}function BT(t){const e=[];return kr(t.fields,(n,i)=>{const s=new Pt([n]);if(Yu(i)){const o=BT(i.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)}),new cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,i,s,o,l,h){this.key=e,this.documentType=n,this.version=i,this.readTime=s,this.createTime=o,this.data=l,this.documentState=h}static newInvalidDocument(e){return new Mt(e,0,_e.min(),_e.min(),_e.min(),Jt.empty(),0)}static newFoundDocument(e,n,i,s){return new Mt(e,1,n,_e.min(),i,s,0)}static newNoDocument(e,n){return new Mt(e,2,n,_e.min(),_e.min(),Jt.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,_e.min(),_e.min(),Jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n){this.position=e,this.inclusive=n}}function V_(t,e,n){let i=0;for(let s=0;s<t.position.length;s++){const o=e[s],l=t.position[s];if(o.field.isKeyField()?i=ae.comparator(ae.fromName(l.referenceValue),n.key):i=bo(l,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function F_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n="asc"){this.field=e,this.dir=n}}function QC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{}class ht extends UT{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new XC(e,n,i):n==="array-contains"?new tA(e,i):n==="in"?new nA(e,i):n==="not-in"?new iA(e,i):n==="array-contains-any"?new rA(e,i):new ht(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new JC(e,i):new eA(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(bo(n,this.value)):n!==null&&Sr(this.value)===Sr(n)&&this.matchesComparison(bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends UT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Wn(e,n)}matches(e){return jT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jT(t){return t.op==="and"}function HT(t){return YC(t)&&jT(t)}function YC(t){for(const e of t.filters)if(e instanceof Wn)return!1;return!0}function kd(t){if(t instanceof ht)return t.field.canonicalString()+t.op.toString()+Mo(t.value);if(HT(t))return t.filters.map(e=>kd(e)).join(",");{const e=t.filters.map(n=>kd(n)).join(",");return`${t.op}(${e})`}}function qT(t,e){return t instanceof ht?function(i,s){return s instanceof ht&&i.op===s.op&&i.field.isEqual(s.field)&&fi(i.value,s.value)}(t,e):t instanceof Wn?function(i,s){return s instanceof Wn&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,l,h)=>o&&qT(l,s.filters[h]),!0):!1}(t,e):void de(19439)}function WT(t){return t instanceof ht?function(n){return`${n.field.canonicalString()} ${n.op} ${Mo(n.value)}`}(t):t instanceof Wn?function(n){return n.op.toString()+" {"+n.getFilters().map(WT).join(" ,")+"}"}(t):"Filter"}class XC extends ht{constructor(e,n,i){super(e,n,i),this.key=ae.fromName(i.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class JC extends ht{constructor(e,n){super(e,"in",n),this.keys=$T("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class eA extends ht{constructor(e,n){super(e,"not-in",n),this.keys=$T("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $T(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(i=>ae.fromName(i.referenceValue))}class tA extends ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qp(n)&&Tl(n.arrayValue,this.value)}}class nA extends ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tl(this.value.arrayValue,n)}}class iA extends ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Tl(this.value.arrayValue,n)}}class rA extends ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Tl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,n=null,i=[],s=[],o=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=l,this.endAt=h,this.Te=null}}function z_(t,e=null,n=[],i=[],s=null,o=null,l=null){return new sA(t,e,n,i,s,o,l)}function Yp(t){const e=ye(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>kd(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Mo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Mo(i)).join(",")),e.Te=n}return e.Te}function Xp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!QC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!F_(t.startAt,e.startAt)&&F_(t.endAt,e.endAt)}function Ld(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n=null,i=[],s=[],o=null,l="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=l,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function oA(t,e,n,i,s,o,l,h){return new Zo(t,e,n,i,s,o,l,h)}function Jp(t){return new Zo(t)}function B_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aA(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function ZT(t){return t.collectionGroup!==null}function Ya(t){const e=ye(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new gt(Pt.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new El(o,i))}),n.has(Pt.keyField().canonicalString())||e.Ie.push(new El(Pt.keyField(),i))}return e.Ie}function ai(t){const e=ye(t);return e.Ee||(e.Ee=lA(e,Ya(t))),e.Ee}function lA(t,e){if(t.limitType==="F")return z_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new El(s.field,o)});const n=t.endAt?new Nc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Nc(t.startAt.position,t.startAt.inclusive):null;return z_(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Nd(t,e){const n=t.filters.concat([e]);return new Zo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function uA(t,e){const n=t.explicitOrderBy.concat([e]);return new Zo(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Dd(t,e,n){return new Zo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fh(t,e){return Xp(ai(t),ai(e))&&t.limitType===e.limitType}function GT(t){return`${Yp(ai(t))}|lt:${t.limitType}`}function Js(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>WT(s)).join(", ")}]`),ch(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Mo(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Mo(s)).join(",")),`Target(${i})`}(ai(t))}; limitType=${t.limitType})`}function dh(t,e){return e.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):ae.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,s){for(const o of Ya(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(i,s){return!(i.startAt&&!function(l,h,d){const m=V_(l,h,d);return l.inclusive?m<=0:m<0}(i.startAt,Ya(i),s)||i.endAt&&!function(l,h,d){const m=V_(l,h,d);return l.inclusive?m>=0:m>0}(i.endAt,Ya(i),s))}(t,e)}function cA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function KT(t){return(e,n)=>{let i=!1;for(const s of Ya(t)){const o=hA(s,e,n);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function hA(t,e,n){const i=t.field.isKeyField()?ae.comparator(e.key,n.key):function(o,l,h){const d=l.data.field(o),m=h.data.field(o);return d!==null&&m!==null?bo(d,m):de(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return de(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){kr(this.inner,(n,i)=>{for(const[s,o]of i)e(s,o)})}isEmpty(){return NT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=new Xe(ae.comparator);function Bi(){return fA}const QT=new Xe(ae.comparator);function Va(...t){let e=QT;for(const n of t)e=e.insert(n.key,n);return e}function YT(t){let e=QT;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function ts(){return Xa()}function XT(){return Xa()}function Xa(){return new ws(t=>t.toString(),(t,e)=>t.isEqual(e))}const dA=new Xe(ae.comparator),pA=new gt(ae.comparator);function Ce(...t){let e=pA;for(const n of t)e=e.add(n);return e}const mA=new gt(Pe);function gA(){return mA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rc(e)?"-0":e}}function JT(t){return{integerValue:""+t}}function _A(t,e){return UC(e)?JT(e):em(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(){this._=void 0}}function yA(t,e,n){return t instanceof Dc?function(s,o){const l={fields:{[MT]:{stringValue:bT},[VT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Kp(o)&&(o=hh(o)),o&&(l.fields[OT]=o),{mapValue:l}}(n,e):t instanceof Oo?tE(t,e):t instanceof Il?nE(t,e):function(s,o){const l=eE(s,o),h=U_(l)+U_(s.Ae);return Rd(l)&&Rd(s.Ae)?JT(h):em(s.serializer,h)}(t,e)}function vA(t,e,n){return t instanceof Oo?tE(t,e):t instanceof Il?nE(t,e):n}function eE(t,e){return t instanceof bc?function(i){return Rd(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class Dc extends ph{}class Oo extends ph{constructor(e){super(),this.elements=e}}function tE(t,e){const n=iE(e);for(const i of t.elements)n.some(s=>fi(s,i))||n.push(i);return{arrayValue:{values:n}}}class Il extends ph{constructor(e){super(),this.elements=e}}function nE(t,e){let n=iE(e);for(const i of t.elements)n=n.filter(s=>!fi(s,i));return{arrayValue:{values:n}}}class bc extends ph{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function U_(t){return rt(t.integerValue||t.doubleValue)}function iE(t){return Qp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n){this.field=e,this.transform=n}}function TA(t,e){return t.field.isEqual(e.field)&&function(i,s){return i instanceof Oo&&s instanceof Oo||i instanceof Il&&s instanceof Il?Do(i.elements,s.elements,fi):i instanceof bc&&s instanceof bc?fi(i.Ae,s.Ae):i instanceof Dc&&s instanceof Dc}(t.transform,e.transform)}class EA{constructor(e,n){this.version=e,this.transformResults=n}}class li{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new li}static exists(e){return new li(void 0,e)}static updateTime(e){return new li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mh{}function rE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new oE(t.key,li.none()):new Nl(t.key,t.data,li.none());{const n=t.data,i=Jt.empty();let s=new gt(Pt.comparator);for(let o of e.fields)if(!s.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?i.delete(o):i.set(o,l),s=s.add(o)}return new Lr(t.key,i,new cn(s.toArray()),li.none())}}function IA(t,e,n){t instanceof Nl?function(s,o,l){const h=s.value.clone(),d=H_(s.fieldTransforms,o,l.transformResults);h.setAll(d),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):t instanceof Lr?function(s,o,l){if(!Xu(s.precondition,o))return void o.convertToUnknownDocument(l.version);const h=H_(s.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(sE(s)),d.setAll(h),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Ja(t,e,n,i){return t instanceof Nl?function(o,l,h,d){if(!Xu(o.precondition,l))return h;const m=o.value.clone(),y=q_(o.fieldTransforms,d,l);return m.setAll(y),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null}(t,e,n,i):t instanceof Lr?function(o,l,h,d){if(!Xu(o.precondition,l))return h;const m=q_(o.fieldTransforms,d,l),y=l.data;return y.setAll(sE(o)),y.setAll(m),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(w=>w.field))}(t,e,n,i):function(o,l,h){return Xu(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h}(t,e,n)}function SA(t,e){let n=null;for(const i of t.fieldTransforms){const s=e.data.field(i.field),o=eE(i.transform,s||null);o!=null&&(n===null&&(n=Jt.empty()),n.set(i.field,o))}return n||null}function j_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Do(i,s,(o,l)=>TA(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nl extends mh{constructor(e,n,i,s=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Lr extends mh{constructor(e,n,i,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function sE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function H_(t,e,n){const i=new Map;Oe(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const o=t[s],l=o.transform,h=e.data.field(o.field);i.set(o.field,vA(l,h,n[s]))}return i}function q_(t,e,n){const i=new Map;for(const s of t){const o=s.transform,l=n.data.field(s.field);i.set(s.field,yA(o,l,e))}return i}class oE extends mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PA extends mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n,i,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&IA(o,e,i[s])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ja(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ja(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=XT();return this.mutations.forEach(s=>{const o=e.get(s.key),l=o.overlayedDocument;let h=this.applyToLocalView(l,o.mutatedFields);h=n.has(s.key)?null:h;const d=rE(l,h);d!==null&&i.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(_e.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,(n,i)=>j_(n,i))&&Do(this.baseMutations,e.baseMutations,(n,i)=>j_(n,i))}}class tm{constructor(e,n,i,s){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(e,n,i){Oe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let s=function(){return dA}();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,i[l].version);return new tm(e,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Re;function RA(t){switch(t){case G.OK:return de(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return de(15467,{code:t})}}function aE(t){if(t===void 0)return zi("GRPC error has no .code"),G.UNKNOWN;switch(t){case ut.OK:return G.OK;case ut.CANCELLED:return G.CANCELLED;case ut.UNKNOWN:return G.UNKNOWN;case ut.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case ut.INTERNAL:return G.INTERNAL;case ut.UNAVAILABLE:return G.UNAVAILABLE;case ut.UNAUTHENTICATED:return G.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case ut.NOT_FOUND:return G.NOT_FOUND;case ut.ALREADY_EXISTS:return G.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return G.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case ut.ABORTED:return G.ABORTED;case ut.OUT_OF_RANGE:return G.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return G.UNIMPLEMENTED;case ut.DATA_LOSS:return G.DATA_LOSS;default:return de(39323,{code:t})}}(Re=ut||(ut={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=new _r([4294967295,4294967295],0);function W_(t){const e=kA().encode(t),n=new TT;return n.update(e),new Uint8Array(n.digest())}function $_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new _r([n,i],0),new _r([s,o],0)]}class nm{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Fa(`Invalid padding: ${n}`);if(i<0)throw new Fa(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Fa(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Fa(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=_r.fromNumber(this.ge)}ye(e,n,i){let s=e.add(n.multiply(_r.fromNumber(i)));return s.compare(LA)===1&&(s=new _r([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=W_(e),[i,s]=$_(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,s,o);if(!this.we(l))return!1}return!0}static create(e,n,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new nm(o,s,n);return i.forEach(h=>l.insert(h)),l}insert(e){if(this.ge===0)return;const n=W_(e),[i,s]=$_(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,s,o);this.be(l)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Fa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n,i,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const s=new Map;return s.set(e,Dl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new gh(_e.min(),s,new Xe(Pe),Bi(),Ce())}}class Dl{constructor(e,n,i,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Dl(i,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n,i,s){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=s}}class lE{constructor(e,n){this.targetId=e,this.Ce=n}}class uE{constructor(e,n,i=xt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=s}}class Z_{constructor(){this.ve=0,this.Fe=G_(),this.Me=xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ce(),n=Ce(),i=Ce();return this.Fe.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:de(38017,{changeType:o})}}),new Dl(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=G_()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Oe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class NA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bi(),this.He=bu(),this.Je=bu(),this.Ze=new Xe(Pe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:de(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,i=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(Ld(o))if(i===0){const l=new ae(o.path);this.et(n,l,Mt.newNoDocument(l,_e.min()))}else Oe(i===1,20013,{expectedCount:i});else{const l=this._t(n);if(l!==i){const h=this.ut(e),d=h?this.ct(h,e,l):1;if(d!==0){this.it(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let l,h;try{l=Ir(i).toUint8Array()}catch(d){if(d instanceof DT)return ps("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new nm(l,s,o)}catch(d){return ps(d instanceof Fa?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let s=0;return i.forEach(o=>{const l=this.Ge.ht(),h=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(n,o,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((o,l)=>{const h=this.ot(l);if(h){if(o.current&&Ld(h.target)){const d=new ae(h.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,Mt.newNoDocument(d,e))}o.Be&&(n.set(l,o.ke()),o.Ke())}});let i=Ce();this.Je.forEach((o,l)=>{let h=!0;l.forEachWhile(d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(o))}),this.je.forEach((o,l)=>l.setReadTime(e));const s=new gh(e,n,this.Ze,this.je,i);return this.je=Bi(),this.He=bu(),this.Je=bu(),this.Ze=new Xe(Pe),s}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Z_,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new gt(Pe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new gt(Pe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Z_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function bu(){return new Xe(ae.comparator)}function G_(){return new Xe(ae.comparator)}const DA={asc:"ASCENDING",desc:"DESCENDING"},bA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MA={and:"AND",or:"OR"};class OA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bd(t,e){return t.useProto3Json||ch(e)?e:{value:e}}function Mc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function VA(t,e){return Mc(t,e.toTimestamp())}function ui(t){return Oe(!!t,49232),_e.fromTimestamp(function(n){const i=Er(n);return new We(i.seconds,i.nanos)}(t))}function im(t,e){return Md(t,e).canonicalString()}function Md(t,e){const n=function(s){return new je(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function hE(t){const e=je.fromString(t);return Oe(gE(e),10190,{key:e.toString()}),e}function Od(t,e){return im(t.databaseId,e.path)}function _f(t,e){const n=hE(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(dE(n))}function fE(t,e){return im(t.databaseId,e)}function FA(t){const e=hE(t);return e.length===4?je.emptyPath():dE(e)}function Vd(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dE(t){return Oe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function K_(t,e,n){return{name:Od(t,e),fields:n.value.mapValue.fields}}function zA(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:de(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(m,y){return m.useProto3Json?(Oe(y===void 0||typeof y=="string",58123),xt.fromBase64String(y||"")):(Oe(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),xt.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(m){const y=m.code===void 0?G.UNKNOWN:aE(m.code);return new ne(y,m.message||"")}(l);n=new uE(i,s,o,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=_f(t,i.document.name),o=ui(i.document.updateTime),l=i.document.createTime?ui(i.document.createTime):_e.min(),h=new Jt({mapValue:{fields:i.document.fields}}),d=Mt.newFoundDocument(s,o,l,h),m=i.targetIds||[],y=i.removedTargetIds||[];n=new Ju(m,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=_f(t,i.document),o=i.readTime?ui(i.readTime):_e.min(),l=Mt.newNoDocument(s,o),h=i.removedTargetIds||[];n=new Ju([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=_f(t,i.document),o=i.removedTargetIds||[];n=new Ju([],o,s,null)}else{if(!("filter"in e))return de(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,l=new xA(s,o),h=i.targetId;n=new lE(h,l)}}return n}function BA(t,e){let n;if(e instanceof Nl)n={update:K_(t,e.key,e.value)};else if(e instanceof oE)n={delete:Od(t,e.key)};else if(e instanceof Lr)n={update:K_(t,e.key,e.data),updateMask:KA(e.fieldMask)};else{if(!(e instanceof PA))return de(16599,{dt:e.type});n={verify:Od(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,l){const h=l.transform;if(h instanceof Dc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Oo)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Il)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof bc)return{fieldPath:l.field.canonicalString(),increment:h.Ae};throw de(20930,{transform:l.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:VA(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:de(27497)}(t,e.precondition)),n}function UA(t,e){return t&&t.length>0?(Oe(e!==void 0,14353),t.map(n=>function(s,o){let l=s.updateTime?ui(s.updateTime):ui(o);return l.isEqual(_e.min())&&(l=ui(o)),new EA(l,s.transformResults||[])}(n,e))):[]}function jA(t,e){return{documents:[fE(t,e.path)]}}function HA(t,e){const n={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=fE(t,s);const o=function(m){if(m.length!==0)return mE(Wn.create(m,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const l=function(m){if(m.length!==0)return m.map(y=>function(T){return{field:eo(T.field),direction:$A(T.dir)}}(y))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const h=bd(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ft:n,parent:s}}function qA(t){let e=FA(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){Oe(i===1,65062);const y=n.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];n.where&&(o=function(w){const T=pE(w);return T instanceof Wn&&HT(T)?T.getFilters():[T]}(n.where));let l=[];n.orderBy&&(l=function(w){return w.map(T=>function(U){return new El(to(U.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(T))}(n.orderBy));let h=null;n.limit&&(h=function(w){let T;return T=typeof w=="object"?w.value:w,ch(T)?null:T}(n.limit));let d=null;n.startAt&&(d=function(w){const T=!!w.before,b=w.values||[];return new Nc(b,T)}(n.startAt));let m=null;return n.endAt&&(m=function(w){const T=!w.before,b=w.values||[];return new Nc(b,T)}(n.endAt)),oA(e,s,l,o,h,"F",d,m)}function WA(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=to(n.unaryFilter.field);return ht.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=to(n.unaryFilter.field);return ht.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=to(n.unaryFilter.field);return ht.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=to(n.unaryFilter.field);return ht.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}}(t):t.fieldFilter!==void 0?function(n){return ht.create(to(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Wn.create(n.compositeFilter.filters.map(i=>pE(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return de(1026)}}(n.compositeFilter.op))}(t):de(30097,{filter:t})}function $A(t){return DA[t]}function ZA(t){return bA[t]}function GA(t){return MA[t]}function eo(t){return{fieldPath:t.canonicalString()}}function to(t){return Pt.fromServerFormat(t.fieldPath)}function mE(t){return t instanceof ht?function(n){if(n.op==="=="){if(O_(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(M_(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(O_(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(M_(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:ZA(n.op),value:n.value}}}(t):t instanceof Wn?function(n){const i=n.getFilters().map(s=>mE(s));return i.length===1?i[0]:{compositeFilter:{op:GA(n.op),filters:i}}}(t):de(54877,{filter:t})}function KA(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function _E(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,n,i,s,o=_e.min(),l=_e.min(),h=xt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e){this.yt=e}}function YA(t){const e=qA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Dd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(){this.Sn=new JA}addToCollectionParentIndex(e,n){return this.Sn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(Tr.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(Tr.min())}updateCollectionGroup(e,n,i){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class JA{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n]||new gt(je.comparator),o=!s.has(i);return this.index[n]=s.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(e){return(this.index[e]||new gt(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yE=41943040;class Yt{static withCacheSize(e){return new Yt(e,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(yE,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Vo(0)}static ar(){return new Vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="LruGarbageCollector",ex=1048576;function X_([t,e],[n,i]){const s=Pe(t,n);return s===0?Pe(e,i):s}class tx{constructor(e){this.Pr=e,this.buffer=new gt(X_),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();X_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nx{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ie(Y_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$o(n)?ie(Y_,"Ignoring IndexedDB error during garbage collection: ",n):await Wo(n)}await this.Ar(3e5)})}}class ix{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return K.resolve(uh.ce);const i=new tx(n);return this.Vr.forEachTarget(e,s=>i.Er(s.sequenceNumber)).next(()=>this.Vr.mr(e,s=>i.Er(s))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Q_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q_):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,s,o,l,h,d,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,l=Date.now(),this.nthSequenceNumber(e,s))).next(w=>(i=w,h=Date.now(),this.removeTargets(e,i,n))).next(w=>(o=w,d=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(m=Date.now(),Xs()<=ke.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${s} in `+(h-l)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${w} documents in `+(m-d)+`ms
Total Duration: ${m-y}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:w})))}}function rx(t,e){return new ix(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.changes=new ws(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?K.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n,i,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(i!==null&&Ja(i.mutation,s,cn.empty(),We.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ce()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ce()){const s=ts();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,i).next(o=>{let l=Va();return o.forEach((h,d)=>{l=l.insert(h,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const i=ts();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ce()))}populateOverlays(e,n,i){const s=[];return i.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((l,h)=>{n.set(l,h)})})}computeViews(e,n,i,s){let o=Bi();const l=Xa(),h=function(){return Xa()}();return n.forEach((d,m)=>{const y=i.get(m.key);s.has(m.key)&&(y===void 0||y.mutation instanceof Lr)?o=o.insert(m.key,m):y!==void 0?(l.set(m.key,y.mutation.getFieldMask()),Ja(y.mutation,m,y.mutation.getFieldMask(),We.now())):l.set(m.key,cn.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((m,y)=>l.set(m,y)),n.forEach((m,y)=>h.set(m,new ox(y,l.get(m)??null))),h))}recalculateAndSaveOverlays(e,n){const i=Xa();let s=new Xe((l,h)=>l-h),o=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const h of l)h.keys().forEach(d=>{const m=n.get(d);if(m===null)return;let y=i.get(d)||cn.empty();y=h.applyToLocalView(m,y),i.set(d,y);const w=(s.get(h.batchId)||Ce()).add(d);s=s.insert(h.batchId,w)})}).next(()=>{const l=[],h=s.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,y=d.value,w=XT();y.forEach(T=>{if(!o.has(T)){const b=rE(n.get(T),i.get(T));b!==null&&w.set(T,b),o=o.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(e,m,w))}return K.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,s){return aA(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,s):this.getDocumentsMatchingCollectionQuery(e,n,i,s)}getNextDocuments(e,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,s-o.size):K.resolve(ts());let h=yl,d=o;return l.next(m=>K.forEach(m,(y,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),o.get(y)?K.resolve():this.remoteDocumentCache.getEntry(e,y).next(T=>{d=d.insert(y,T)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,d,m,Ce())).next(y=>({batchId:h,changes:YT(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(i=>{let s=Va();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,i,s){const o=n.collectionGroup;let l=Va();return this.indexManager.getCollectionParents(e,o).next(h=>K.forEach(h,d=>{const m=function(w,T){return new Zo(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,i,s).next(y=>{y.forEach((w,T)=>{l=l.insert(w,T)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,s))).next(l=>{o.forEach((d,m)=>{const y=m.getKey();l.get(y)===null&&(l=l.insert(y,Mt.newInvalidDocument(y)))});let h=Va();return l.forEach((d,m)=>{const y=o.get(d);y!==void 0&&Ja(y.mutation,m,cn.empty(),We.now()),dh(n,m)&&(h=h.insert(d,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return K.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ui(s.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(s){return{name:s.name,query:YA(s.bundledQuery),readTime:ui(s.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this.overlays=new Xe(ae.comparator),this.Lr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ts();return K.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((s,o)=>{this.bt(e,n,o)}),K.resolve()}removeOverlaysForBatchId(e,n,i){const s=this.Lr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Lr.delete(i)),K.resolve()}getOverlaysForCollection(e,n,i){const s=ts(),o=n.length+1,l=new ae(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>i&&s.set(d.getKey(),d)}return K.resolve(s)}getOverlaysForCollectionGroup(e,n,i,s){let o=new Xe((m,y)=>m-y);const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let y=o.get(m.largestBatchId);y===null&&(y=ts(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=ts(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,y)=>h.set(m,y)),!(h.size()>=s)););return K.resolve(h)}bt(e,n,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.Lr.get(s.largestBatchId).delete(i.key);this.Lr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new AA(n,i));let o=this.Lr.get(n);o===void 0&&(o=Ce(),this.Lr.set(n,o)),this.Lr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(){this.kr=new gt(wt.Kr),this.qr=new gt(wt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new wt(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Wr(new wt(e,n))}Qr(e,n){e.forEach(i=>this.removeReference(i,n))}Gr(e){const n=new ae(new je([])),i=new wt(n,e),s=new wt(n,e+1),o=[];return this.qr.forEachInRange([i,s],l=>{this.Wr(l),o.push(l.key)}),o}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ae(new je([])),i=new wt(n,e),s=new wt(n,e+1);let o=Ce();return this.qr.forEachInRange([i,s],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new wt(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class wt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ae.comparator(e.key,n.key)||Pe(e.Hr,n.Hr)}static Ur(e,n){return Pe(e.Hr,n.Hr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new gt(wt.Kr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,s){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new CA(o,n,i,s);this.mutationQueue.push(l);for(const h of s)this.Jr=this.Jr.add(new wt(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return K.resolve(l)}lookupMutationBatch(e,n){return K.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,s=this.Xr(i),o=s<0?0:s;return K.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Gp:this.Yn-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new wt(n,0),s=new wt(n,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([i,s],l=>{const h=this.Zr(l.Hr);o.push(h)}),K.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new gt(Pe);return n.forEach(s=>{const o=new wt(s,0),l=new wt(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,l],h=>{i=i.add(h.Hr)})}),K.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,s=i.length+1;let o=i;ae.isDocumentKey(o)||(o=o.child(""));const l=new wt(new ae(o),0);let h=new gt(Pe);return this.Jr.forEachWhile(d=>{const m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===s&&(h=h.add(d.Hr)),!0)},l),K.resolve(this.Yr(h))}Yr(e){const n=[];return e.forEach(i=>{const s=this.Zr(i);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Oe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return K.forEach(n.mutations,s=>{const o=new wt(s.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Jr=i})}nr(e){}containsKey(e,n){const i=new wt(n,0),s=this.Jr.firstAfterOrEqual(i);return K.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.ti=e,this.docs=function(){return new Xe(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,s=this.docs.get(i),o=s?s.size:0,l=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return K.resolve(i?i.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let i=Bi();return n.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():Mt.newInvalidDocument(s))}),K.resolve(i)}getDocumentsMatchingQuery(e,n,i,s){let o=Bi();const l=n.path,h=new ae(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:y}}=d.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||VC(OC(y),i)<=0||(s.has(y.key)||dh(n,y))&&(o=o.insert(y.key,y.mutableCopy()))}return K.resolve(o)}getAllFromCollectionGroup(e,n,i,s){de(9500)}ni(e,n){return K.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new dx(this)}getSize(e){return K.resolve(this.size)}}class dx extends sx{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(i)}),K.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.persistence=e,this.ri=new ws(n=>Yp(n),Xp),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.ii=0,this.si=new rm,this.targetCount=0,this.oi=Vo._r()}forEachTarget(e,n){return this.ri.forEach((i,s)=>n(s)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),K.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Vo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.lr(n),K.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,i){let s=0;const o=[];return this.ri.forEach((l,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.ri.delete(l),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),K.waitFor(o).next(()=>s)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return K.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),K.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(l=>{o.push(s.markPotentiallyOrphaned(e,l))}),K.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return K.resolve(i)}containsKey(e,n){return K.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n){this._i={},this.overlays={},this.ai=new uh(0),this.ui=!1,this.ui=!0,this.ci=new cx,this.referenceDelegate=e(this),this.li=new px(this),this.indexManager=new XA,this.remoteDocumentCache=function(s){return new fx(s)}(i=>this.referenceDelegate.hi(i)),this.serializer=new QA(n),this.Pi=new lx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ux,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new hx(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){ie("MemoryPersistence","Starting transaction:",e);const s=new mx(this.ai.next());return this.referenceDelegate.Ti(),i(s).next(o=>this.referenceDelegate.Ii(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ei(e,n){return K.or(Object.values(this._i).map(i=>()=>i.containsKey(e,n)))}}class mx extends zC{constructor(e){super(),this.currentSequenceNumber=e}}class sm{constructor(e){this.persistence=e,this.Ri=new rm,this.Ai=null}static Vi(e){return new sm(e)}get di(){if(this.Ai)return this.Ai;throw de(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),K.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),K.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(s=>this.di.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.di.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.di,i=>{const s=ae.fromPath(i);return this.mi(e,s).next(o=>{o||n.removeEntry(s,_e.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return K.or([()=>K.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Oc{constructor(e,n){this.persistence=e,this.fi=new ws(i=>jC(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=rx(this,n)}static Vi(e,n){return new Oc(e,n)}Ti(){}Ii(e){return K.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(s=>i+s))}pr(e){let n=0;return this.mr(e,i=>{n++}).next(()=>n)}mr(e,n){return K.forEach(this.fi,(i,s)=>this.wr(e,i,s).next(o=>o?K.resolve():n(s)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ni(e,l=>this.wr(e,l,n).next(h=>{h||(i++,o.removeEntry(l,_e.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),K.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),K.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),K.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Qu(e.data.value)),n}wr(e,n,i){return K.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return K.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n,i,s){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=s}static Es(e,n){let i=Ce(),s=Ce();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new om(e,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return sP()?8:BC(nP())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,s){const o={result:null};return this.gs(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ps(e,n,s,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new gx;return this.ys(e,n,l).next(h=>{if(o.result=h,this.As)return this.ws(e,n,l,h.size)})}).next(()=>o.result)}ws(e,n,i,s){return i.documentReadCount<this.Vs?(Xs()<=ke.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",Js(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),K.resolve()):(Xs()<=ke.DEBUG&&ie("QueryEngine","Query:",Js(n),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ds*s?(Xs()<=ke.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",Js(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(n))):K.resolve())}gs(e,n){if(B_(n))return K.resolve(null);let i=ai(n);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Dd(n,null,"F"),i=ai(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const l=Ce(...o);return this.fs.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,i).next(d=>{const m=this.bs(n,h);return this.Ss(n,m,l,d.readTime)?this.gs(e,Dd(n,null,"F")):this.Ds(e,m,n,d)}))})))}ps(e,n,i,s){return B_(n)||s.isEqual(_e.min())?K.resolve(null):this.fs.getDocuments(e,i).next(o=>{const l=this.bs(n,o);return this.Ss(n,l,i,s)?K.resolve(null):(Xs()<=ke.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Js(n)),this.Ds(e,l,n,MC(s,yl)).next(h=>h))})}bs(e,n){let i=new gt(KT(e));return n.forEach((s,o)=>{dh(e,o)&&(i=i.add(o))}),i}Ss(e,n,i,s){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ys(e,n,i){return Xs()<=ke.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Js(n)),this.fs.getDocumentsMatchingQuery(e,n,Tr.min(),i)}Ds(e,n,i,s){return this.fs.getDocumentsMatchingQuery(e,i,s).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="LocalStore",yx=3e8;class vx{constructor(e,n,i,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new Xe(Pe),this.Fs=new ws(o=>Yp(o),Xp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ax(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function wx(t,e,n,i){return new vx(t,e,n,i)}async function wE(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,n.Os(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],h=[];let d=Ce();for(const m of s){l.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}for(const m of o){h.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(i,d).next(m=>({Ns:m,removedBatchIds:l,addedBatchIds:h}))})})}function Tx(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return function(h,d,m,y){const w=m.batch,T=w.keys();let b=K.resolve();return T.forEach(U=>{b=b.next(()=>y.getEntry(d,U)).next(F=>{const Z=m.docVersions.get(U);Oe(Z!==null,48541),F.version.compareTo(Z)<0&&(w.applyToRemoteDocument(F,m),F.isValidDocument()&&(F.setReadTime(m.commitVersion),y.addEntry(F)))})}),b.next(()=>h.mutationQueue.removeMutationBatch(d,w))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let d=Ce();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d}(e))).next(()=>n.localDocuments.getDocuments(i,s))})}function TE(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function Ex(t,e){const n=ye(t),i=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const h=[];e.targetChanges.forEach((y,w)=>{const T=s.get(w);if(!T)return;h.push(n.li.removeMatchingKeys(o,y.removedDocuments,w).next(()=>n.li.addMatchingKeys(o,y.addedDocuments,w)));let b=T.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(w)!==null?b=b.withResumeToken(xt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):y.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(y.resumeToken,i)),s=s.insert(w,b),function(F,Z,N){return F.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=yx?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(T,b,y)&&h.push(n.li.updateTargetData(o,b))});let d=Bi(),m=Ce();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,y))}),h.push(Ix(o,l,e.documentUpdates).next(y=>{d=y.Bs,m=y.Ls})),!i.isEqual(_e.min())){const y=n.li.getLastRemoteSnapshotVersion(o).next(w=>n.li.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(y)}return K.waitFor(h).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,m)).next(()=>d)}).then(o=>(n.vs=s,o))}function Ix(t,e,n){let i=Ce(),s=Ce();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let l=Bi();return n.forEach((h,d)=>{const m=o.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(h)),d.isNoDocument()&&d.version.isEqual(_e.min())?(e.removeEntry(h,d.readTime),l=l.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),l=l.insert(h,d)):ie(am,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)}),{Bs:l,Ls:s}})}function Sx(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Gp),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Px(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.li.getTargetData(i,e).next(o=>o?(s=o,K.resolve(s)):n.li.allocateTargetId(i).next(l=>(s=new or(e,l,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.vs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i})}async function Fd(t,e,n){const i=ye(t),s=i.vs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!$o(l))throw l;ie(am,`Failed to update sequence numbers for target ${e}: ${l}`)}i.vs=i.vs.remove(e),i.Fs.delete(s.target)}function J_(t,e,n){const i=ye(t);let s=_e.min(),o=Ce();return i.persistence.runTransaction("Execute query","readwrite",l=>function(d,m,y){const w=ye(d),T=w.Fs.get(y);return T!==void 0?K.resolve(w.vs.get(T)):w.li.getTargetData(m,y)}(i,l,ai(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(l,h.targetId).next(d=>{o=d})}).next(()=>i.Cs.getDocumentsMatchingQuery(l,e,n?s:_e.min(),n?o:Ce())).next(h=>(Cx(i,cA(e),h),{documents:h,ks:o})))}function Cx(t,e,n){let i=t.Ms.get(e)||_e.min();n.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.Ms.set(e,i)}class ey{constructor(){this.activeTargetIds=gA()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ax{constructor(){this.vo=new ey,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new ey,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="ConnectivityMonitor";class ny{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ie(ty,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ie(ty,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mu=null;function zd(){return Mu===null?Mu=function(){return 268435456+Math.round(2147483648*Math.random())}():Mu++,"0x"+Mu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="RestConnection",Rx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class kx{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${s}`,this.$o=this.databaseId.database===kc?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Wo(e,n,i,s,o){const l=zd(),h=this.Qo(e,n.toUriEncodedString());ie(yf,`Sending RPC '${e}' ${l}:`,h,i);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,s,o);const{host:m}=new URL(h),y=oh(m);return this.zo(e,h,d,i,y).then(w=>(ie(yf,`Received RPC '${e}' ${l}: `,w),w),w=>{throw ps(yf,`RPC '${e}' ${l} failed with error: `,w,"url: ",h,"request:",i),w})}jo(e,n,i,s,o,l){return this.Wo(e,n,i,s,o)}Go(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),i&&i.headers.forEach((s,o)=>e[o]=s)}Qo(e,n){const i=Rx[e];let s=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt="WebChannelConnection",ka=(t,e,n)=>{t.listen(e,i=>{try{n(i)}catch(s){setTimeout(()=>{throw s},0)}})};class To extends kx{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!To.c_){const e=PT();ka(e,ST.STAT_EVENT,n=>{n.stat===Cd.PROXY?ie(Nt,"STAT_EVENT: detected buffering proxy"):n.stat===Cd.NOPROXY&&ie(Nt,"STAT_EVENT: detected no buffering proxy")}),To.c_=!0}}zo(e,n,i,s,o){const l=zd();return new Promise((h,d)=>{const m=new ET;m.setWithCredentials(!0),m.listenOnce(IT.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Ku.NO_ERROR:const w=m.getResponseJson();ie(Nt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(w)),h(w);break;case Ku.TIMEOUT:ie(Nt,`RPC '${e}' ${l} timed out`),d(new ne(G.DEADLINE_EXCEEDED,"Request time out"));break;case Ku.HTTP_ERROR:const T=m.getStatus();if(ie(Nt,`RPC '${e}' ${l} failed with status:`,T,"response text:",m.getResponseText()),T>0){let b=m.getResponseJson();Array.isArray(b)&&(b=b[0]);const U=b==null?void 0:b.error;if(U&&U.status&&U.message){const F=function(N){const P=N.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(P)>=0?P:G.UNKNOWN}(U.status);d(new ne(F,U.message))}else d(new ne(G.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new ne(G.UNAVAILABLE,"Connection failed."));break;default:de(9055,{l_:e,streamId:l,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ie(Nt,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(s);ie(Nt,`RPC '${e}' ${l} sending request:`,s),m.send(n,"POST",y,i,15)})}T_(e,n,i){const s=zd(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const m=o.join("");ie(Nt,`Creating RPC '${e}' stream ${s}: ${m}`,h);const y=l.createWebChannel(m,h);this.I_(y);let w=!1,T=!1;const b=new Lx({Ho:U=>{T?ie(Nt,`Not sending because RPC '${e}' stream ${s} is closed:`,U):(w||(ie(Nt,`Opening RPC '${e}' stream ${s} transport.`),y.open(),w=!0),ie(Nt,`RPC '${e}' stream ${s} sending:`,U),y.send(U))},Jo:()=>y.close()});return ka(y,Oa.EventType.OPEN,()=>{T||(ie(Nt,`RPC '${e}' stream ${s} transport opened.`),b.i_())}),ka(y,Oa.EventType.CLOSE,()=>{T||(T=!0,ie(Nt,`RPC '${e}' stream ${s} transport closed`),b.o_(),this.E_(y))}),ka(y,Oa.EventType.ERROR,U=>{T||(T=!0,ps(Nt,`RPC '${e}' stream ${s} transport errored. Name:`,U.name,"Message:",U.message),b.o_(new ne(G.UNAVAILABLE,"The operation could not be completed")))}),ka(y,Oa.EventType.MESSAGE,U=>{var F;if(!T){const Z=U.data[0];Oe(!!Z,16349);const N=Z,P=(N==null?void 0:N.error)||((F=N[0])==null?void 0:F.error);if(P){ie(Nt,`RPC '${e}' stream ${s} received error:`,P);const D=P.status;let W=function(S){const I=ut[S];if(I!==void 0)return aE(I)}(D),z=P.message;D==="NOT_FOUND"&&z.includes("database")&&z.includes("does not exist")&&z.includes(this.databaseId.database)&&ps(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),W===void 0&&(W=G.INTERNAL,z="Unknown error status: "+D+" with message "+P.message),T=!0,b.o_(new ne(W,z)),y.close()}else ie(Nt,`RPC '${e}' stream ${s} received:`,Z),b.__(Z)}}),To.u_(),setTimeout(()=>{b.s_()},0),b}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return CT()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t){return new To(t)}function vf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t){return new OA(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */To.c_=!1;class EE{constructor(e,n,i=1e3,s=1.5,o=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=s,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&ie("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="PersistentStream";class IE{constructor(e,n,i,s,o,l,h,d){this.Ci=e,this.b_=i,this.S_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new EE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(zi(n.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.D_===n&&this.G_(i,s)},i=>{e(()=>{const s=new ne(G.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)})})}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.Yo(()=>{i(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{i(()=>this.z_(s))}),this.stream.onMessage(s=>{i(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ie(iy,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(ie(iy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Dx extends IE{constructor(e,n,i,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=zA(this.serializer,e),i=function(o){if(!("targetChange"in o))return _e.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?_e.min():l.readTime?ui(l.readTime):_e.min()}(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=Vd(this.serializer),n.addTarget=function(o,l){let h;const d=l.target;if(h=Ld(d)?{documents:jA(o,d)}:{query:HA(o,d).ft},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=cE(o,l.resumeToken);const m=bd(o,l.expectedCount);m!==null&&(h.expectedCount=m)}else if(l.snapshotVersion.compareTo(_e.min())>0){h.readTime=Mc(o,l.snapshotVersion.toTimestamp());const m=bd(o,l.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const i=WA(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=Vd(this.serializer),n.removeTarget=e,this.K_(n)}}class bx extends IE{constructor(e,n,i,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,l),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Oe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Oe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=UA(e.writeResults,e.commitTime),i=ui(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Vd(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>BA(this.serializer,i))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{}class Ox extends Mx{constructor(e,n,i,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ne(G.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Wo(e,Md(n,i),s,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ne(G.UNKNOWN,o.toString())})}jo(e,n,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.jo(e,Md(n,i),s,l,h,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ne(G.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function Vx(t,e,n,i){return new Ox(t,e,n,i)}class Fx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zi(n),this.aa=!1):ie("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="RemoteStore";class zx{constructor(e,n,i,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo(l=>{i.enqueueAndForget(async()=>{Ts(this)&&(ie(ms,"Restarting streams for network reachability change."),await async function(d){const m=ye(d);m.Ea.add(4),await bl(m),m.Va.set("Unknown"),m.Ea.delete(4),await yh(m)}(this))})}),this.Va=new Fx(i,s)}}async function yh(t){if(Ts(t))for(const e of t.Ra)await e(!0)}async function bl(t){for(const e of t.Ra)await e(!1)}function SE(t,e){const n=ye(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),hm(n)?cm(n):Go(n).O_()&&um(n,e))}function lm(t,e){const n=ye(t),i=Go(n);n.Ia.delete(e),i.O_()&&PE(n,e),n.Ia.size===0&&(i.O_()?i.L_():Ts(n)&&n.Va.set("Unknown"))}function um(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Go(t).Z_(e)}function PE(t,e){t.da.$e(e),Go(t).X_(e)}function cm(t){t.da=new NA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Go(t).start(),t.Va.ua()}function hm(t){return Ts(t)&&!Go(t).x_()&&t.Ia.size>0}function Ts(t){return ye(t).Ea.size===0}function CE(t){t.da=void 0}async function Bx(t){t.Va.set("Online")}async function Ux(t){t.Ia.forEach((e,n)=>{um(t,e)})}async function jx(t,e){CE(t),hm(t)?(t.Va.ha(e),cm(t)):t.Va.set("Unknown")}async function Hx(t,e,n){if(t.Va.set("Online"),e instanceof uE&&e.state===2&&e.cause)try{await async function(s,o){const l=o.cause;for(const h of o.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,l),s.Ia.delete(h),s.da.removeTarget(h))}(t,e)}catch(i){ie(ms,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Vc(t,i)}else if(e instanceof Ju?t.da.Xe(e):e instanceof lE?t.da.st(e):t.da.tt(e),!n.isEqual(_e.min()))try{const i=await TE(t.localStore);n.compareTo(i)>=0&&await function(o,l){const h=o.da.Tt(l);return h.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const y=o.Ia.get(m);y&&o.Ia.set(m,y.withResumeToken(d.resumeToken,l))}}),h.targetMismatches.forEach((d,m)=>{const y=o.Ia.get(d);if(!y)return;o.Ia.set(d,y.withResumeToken(xt.EMPTY_BYTE_STRING,y.snapshotVersion)),PE(o,d);const w=new or(y.target,d,m,y.sequenceNumber);um(o,w)}),o.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(i){ie(ms,"Failed to raise snapshot:",i),await Vc(t,i)}}async function Vc(t,e,n){if(!$o(e))throw e;t.Ea.add(1),await bl(t),t.Va.set("Offline"),n||(n=()=>TE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ie(ms,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await yh(t)})}function AE(t,e){return e().catch(n=>Vc(t,n,e))}async function vh(t){const e=ye(t),n=Pr(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gp;for(;qx(e);)try{const s=await Sx(e.localStore,i);if(s===null){e.Ta.length===0&&n.L_();break}i=s.batchId,Wx(e,s)}catch(s){await Vc(e,s)}xE(e)&&RE(e)}function qx(t){return Ts(t)&&t.Ta.length<10}function Wx(t,e){t.Ta.push(e);const n=Pr(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function xE(t){return Ts(t)&&!Pr(t).x_()&&t.Ta.length>0}function RE(t){Pr(t).start()}async function $x(t){Pr(t).ra()}async function Zx(t){const e=Pr(t);for(const n of t.Ta)e.ea(n.mutations)}async function Gx(t,e,n){const i=t.Ta.shift(),s=tm.from(i,e,n);await AE(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await vh(t)}async function Kx(t,e){e&&Pr(t).Y_&&await async function(i,s){if(function(l){return RA(l)&&l!==G.ABORTED}(s.code)){const o=i.Ta.shift();Pr(i).B_(),await AE(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await vh(i)}}(t,e),xE(t)&&RE(t)}async function ry(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),ie(ms,"RemoteStore received new credentials");const i=Ts(n);n.Ea.add(3),await bl(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await yh(n)}async function Qx(t,e){const n=ye(t);e?(n.Ea.delete(2),await yh(n)):e||(n.Ea.add(2),await bl(n),n.Va.set("Unknown"))}function Go(t){return t.ma||(t.ma=function(n,i,s){const o=ye(n);return o.sa(),new Dx(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Zo:Bx.bind(null,t),Yo:Ux.bind(null,t),t_:jx.bind(null,t),J_:Hx.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),hm(t)?cm(t):t.Va.set("Unknown")):(await t.ma.stop(),CE(t))})),t.ma}function Pr(t){return t.fa||(t.fa=function(n,i,s){const o=ye(n);return o.sa(),new bx(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:$x.bind(null,t),t_:Kx.bind(null,t),ta:Zx.bind(null,t),na:Gx.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await vh(t)):(await t.fa.stop(),t.Ta.length>0&&(ie(ms,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n,i,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,s,o){const l=Date.now()+i,h=new fm(e,n,l,s,o);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dm(t,e){if(zi("AsyncQueue",`${e}: ${t}`),$o(t))return new ne(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{static emptySet(e){return new Eo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ae.comparator(n.key,i.key):(n,i)=>ae.comparator(n.key,i.key),this.keyedMap=Va(),this.sortedSet=new Xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Eo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(){this.ga=new Xe(ae.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):de(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class Fo{constructor(e,n,i,s,o,l,h,d,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,s,o){const l=[];return n.forEach(h=>{l.push({type:0,doc:h})}),new Fo(e,n,Eo.emptySet(n),l,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class Xx{constructor(){this.queries=oy(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const s=ye(n),o=s.queries;s.queries=oy(),o.forEach((l,h)=>{for(const d of h.ba)d.onError(i)})})(this,new ne(G.ABORTED,"Firestore shutting down"))}}function oy(){return new ws(t=>GT(t),fh)}async function Jx(t,e){const n=ye(t);let i=3;const s=e.query;let o=n.queries.get(s);o?!o.Sa()&&e.Da()&&(i=2):(o=new Yx,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const h=dm(l,`Initialization of query '${Js(e.query)}' failed`);return void e.onError(h)}n.queries.set(s,o),o.ba.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&pm(n)}async function eR(t,e){const n=ye(t),i=e.query;let s=3;const o=n.queries.get(i);if(o){const l=o.ba.indexOf(e);l>=0&&(o.ba.splice(l,1),o.ba.length===0?s=e.Da()?0:1:!o.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function tR(t,e){const n=ye(t);let i=!1;for(const s of e){const o=s.query,l=n.queries.get(o);if(l){for(const h of l.ba)h.Fa(s)&&(i=!0);l.wa=s}}i&&pm(n)}function nR(t,e,n){const i=ye(t),s=i.queries.get(e);if(s)for(const o of s.ba)o.onError(n);i.queries.delete(e)}function pm(t){t.Ca.forEach(e=>{e.next()})}var Bd,ay;(ay=Bd||(Bd={})).Ma="default",ay.Cache="cache";class iR{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new Fo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Bd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e){this.key=e}}class LE{constructor(e){this.key=e}}class rR{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ce(),this.mutatedKeys=Ce(),this.eu=KT(e),this.tu=new Eo(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new sy,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=s,h=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,w)=>{const T=s.get(y),b=dh(this.query,w)?w:null,U=!!T&&this.mutatedKeys.has(T.key),F=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let Z=!1;T&&b?T.data.isEqual(b.data)?U!==F&&(i.track({type:3,doc:b}),Z=!0):this.su(T,b)||(i.track({type:2,doc:b}),Z=!0,(d&&this.eu(b,d)>0||m&&this.eu(b,m)<0)&&(h=!0)):!T&&b?(i.track({type:0,doc:b}),Z=!0):T&&!b&&(i.track({type:1,doc:T}),Z=!0,(d||m)&&(h=!0)),Z&&(b?(l=l.add(b),o=F?o.add(y):o.delete(y)):(l=l.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{tu:l,iu:i,Ss:h,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort((y,w)=>function(b,U){const F=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{Vt:Z})}};return F(b)-F(U)}(y.type,w.type)||this.eu(y.doc,w.doc)),this.ou(i),s=s??!1;const h=n&&!s?this._u():[],d=this.Ya.size===0&&this.current&&!s?1:0,m=d!==this.Xa;return this.Xa=d,l.length!==0||m?{snapshot:new Fo(this.query,e.tu,o,l,e.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sy,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ce(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return e.forEach(i=>{this.Ya.has(i)||n.push(new LE(i))}),this.Ya.forEach(i=>{e.has(i)||n.push(new kE(i))}),n}cu(e){this.Za=e.ks,this.Ya=Ce();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const mm="SyncEngine";class sR{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class oR{constructor(e){this.key=e,this.hu=!1}}class aR{constructor(e,n,i,s,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new ws(h=>GT(h),fh),this.Iu=new Map,this.Eu=new Set,this.Ru=new Xe(ae.comparator),this.Au=new Map,this.Vu=new rm,this.du={},this.mu=new Map,this.fu=Vo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lR(t,e,n=!0){const i=VE(t);let s;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await NE(i,e,n,!0),s}async function uR(t,e){const n=VE(t);await NE(n,e,!0,!1)}async function NE(t,e,n,i){const s=await Px(t.localStore,ai(e)),o=s.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let h;return i&&(h=await cR(t,e,o,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&SE(t.remoteStore,s),h}async function cR(t,e,n,i,s){t.pu=(w,T,b)=>async function(F,Z,N,P){let D=Z.view.ru(N);D.Ss&&(D=await J_(F.localStore,Z.query,!1).then(({documents:S})=>Z.view.ru(S,D)));const W=P&&P.targetChanges.get(Z.targetId),z=P&&P.targetMismatches.get(Z.targetId)!=null,J=Z.view.applyChanges(D,F.isPrimaryClient,W,z);return uy(F,Z.targetId,J.au),J.snapshot}(t,w,T,b);const o=await J_(t.localStore,e,!0),l=new rR(e,o.ks),h=l.ru(o.documents),d=Dl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",s),m=l.applyChanges(h,t.isPrimaryClient,d);uy(t,n,m.au);const y=new sR(e,n,l);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),m.snapshot}async function hR(t,e,n){const i=ye(t),s=i.Tu.get(e),o=i.Iu.get(s.targetId);if(o.length>1)return i.Iu.set(s.targetId,o.filter(l=>!fh(l,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Fd(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),n&&lm(i.remoteStore,s.targetId),Ud(i,s.targetId)}).catch(Wo)):(Ud(i,s.targetId),await Fd(i.localStore,s.targetId,!0))}async function fR(t,e){const n=ye(t),i=n.Tu.get(e),s=n.Iu.get(i.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),lm(n.remoteStore,i.targetId))}async function dR(t,e,n){const i=wR(t);try{const s=await function(l,h){const d=ye(l),m=We.now(),y=h.reduce((b,U)=>b.add(U.key),Ce());let w,T;return d.persistence.runTransaction("Locally write mutations","readwrite",b=>{let U=Bi(),F=Ce();return d.xs.getEntries(b,y).next(Z=>{U=Z,U.forEach((N,P)=>{P.isValidDocument()||(F=F.add(N))})}).next(()=>d.localDocuments.getOverlayedDocuments(b,U)).next(Z=>{w=Z;const N=[];for(const P of h){const D=SA(P,w.get(P.key).overlayedDocument);D!=null&&N.push(new Lr(P.key,D,BT(D.value.mapValue),li.exists(!0)))}return d.mutationQueue.addMutationBatch(b,m,N,h)}).next(Z=>{T=Z;const N=Z.applyToLocalDocumentSet(w,F);return d.documentOverlayCache.saveOverlays(b,Z.batchId,N)})}).then(()=>({batchId:T.batchId,changes:YT(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(l,h,d){let m=l.du[l.currentUser.toKey()];m||(m=new Xe(Pe)),m=m.insert(h,d),l.du[l.currentUser.toKey()]=m}(i,s.batchId,n),await Ml(i,s.changes),await vh(i.remoteStore)}catch(s){const o=dm(s,"Failed to persist write");n.reject(o)}}async function DE(t,e){const n=ye(t);try{const i=await Ex(n.localStore,e);e.targetChanges.forEach((s,o)=>{const l=n.Au.get(o);l&&(Oe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Oe(l.hu,14607):s.removedDocuments.size>0&&(Oe(l.hu,42227),l.hu=!1))}),await Ml(n,i,e)}catch(i){await Wo(i)}}function ly(t,e,n){const i=ye(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Tu.forEach((o,l)=>{const h=l.view.va(e);h.snapshot&&s.push(h.snapshot)}),function(l,h){const d=ye(l);d.onlineState=h;let m=!1;d.queries.forEach((y,w)=>{for(const T of w.ba)T.va(h)&&(m=!0)}),m&&pm(d)}(i.eventManager,e),s.length&&i.Pu.J_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function pR(t,e,n){const i=ye(t);i.sharedClientState.updateQueryState(e,"rejected",n);const s=i.Au.get(e),o=s&&s.key;if(o){let l=new Xe(ae.comparator);l=l.insert(o,Mt.newNoDocument(o,_e.min()));const h=Ce().add(o),d=new gh(_e.min(),new Map,new Xe(Pe),l,h);await DE(i,d),i.Ru=i.Ru.remove(o),i.Au.delete(e),gm(i)}else await Fd(i.localStore,e,!1).then(()=>Ud(i,e,n)).catch(Wo)}async function mR(t,e){const n=ye(t),i=e.batch.batchId;try{const s=await Tx(n.localStore,e);ME(n,i,null),bE(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Ml(n,s)}catch(s){await Wo(s)}}async function gR(t,e,n){const i=ye(t);try{const s=await function(l,h){const d=ye(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return d.mutationQueue.lookupMutationBatch(m,h).next(w=>(Oe(w!==null,37113),y=w.keys(),d.mutationQueue.removeMutationBatch(m,w))).next(()=>d.mutationQueue.performConsistencyCheck(m)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(m,y,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>d.localDocuments.getDocuments(m,y))})}(i.localStore,e);ME(i,e,n),bE(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Ml(i,s)}catch(s){await Wo(s)}}function bE(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function ME(t,e,n){const i=ye(t);let s=i.du[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),i.du[i.currentUser.toKey()]=s}}function Ud(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(i=>{t.Vu.containsKey(i)||OE(t,i)})}function OE(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(lm(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),gm(t))}function uy(t,e,n){for(const i of n)i instanceof kE?(t.Vu.addReference(i.key,e),_R(t,i)):i instanceof LE?(ie(mm,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||OE(t,i.key)):de(19791,{wu:i})}function _R(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(ie(mm,"New document in limbo: "+n),t.Eu.add(i),gm(t))}function gm(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ae(je.fromString(e)),i=t.fu.next();t.Au.set(i,new oR(n)),t.Ru=t.Ru.insert(n,i),SE(t.remoteStore,new or(ai(Jp(n.path)),i,"TargetPurposeLimboResolution",uh.ce))}}async function Ml(t,e,n){const i=ye(t),s=[],o=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach((h,d)=>{l.push(i.pu(d,e,n).then(m=>{var y;if((m||n)&&i.isPrimaryClient){const w=m?!m.fromCache:(y=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:y.current;i.sharedClientState.updateQueryState(d.targetId,w?"current":"not-current")}if(m){s.push(m);const w=om.Es(d.targetId,m);o.push(w)}}))}),await Promise.all(l),i.Pu.J_(s),await async function(d,m){const y=ye(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>K.forEach(m,T=>K.forEach(T.Ts,b=>y.persistence.referenceDelegate.addReference(w,T.targetId,b)).next(()=>K.forEach(T.Is,b=>y.persistence.referenceDelegate.removeReference(w,T.targetId,b)))))}catch(w){if(!$o(w))throw w;ie(am,"Failed to update sequence numbers: "+w)}for(const w of m){const T=w.targetId;if(!w.fromCache){const b=y.vs.get(T),U=b.snapshotVersion,F=b.withLastLimboFreeSnapshotVersion(U);y.vs=y.vs.insert(T,F)}}}(i.localStore,o))}async function yR(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){ie(mm,"User change. New user:",e.toKey());const i=await wE(n.localStore,e);n.currentUser=e,function(o,l){o.mu.forEach(h=>{h.forEach(d=>{d.reject(new ne(G.CANCELLED,l))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ml(n,i.Ns)}}function vR(t,e){const n=ye(t),i=n.Au.get(e);if(i&&i.hu)return Ce().add(i.key);{let s=Ce();const o=n.Iu.get(e);if(!o)return s;for(const l of o){const h=n.Tu.get(l);s=s.unionWith(h.view.nu)}return s}}function VE(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pR.bind(null,e),e.Pu.J_=tR.bind(null,e.eventManager),e.Pu.yu=nR.bind(null,e.eventManager),e}function wR(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gR.bind(null,e),e}class Fc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_h(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return wx(this.persistence,new _x,e.initialUser,this.serializer)}Cu(e){return new vE(sm.Vi,this.serializer)}Du(e){return new Ax}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fc.provider={build:()=>new Fc};class TR extends Fc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Oe(this.persistence.referenceDelegate instanceof Oc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new nx(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new vE(i=>Oc.Vi(i,n),this.serializer)}}class jd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ly(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=yR.bind(null,this.syncEngine),await Qx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Xx}()}createDatastore(e){const n=_h(e.databaseInfo.databaseId),i=Nx(e.databaseInfo);return Vx(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,s,o,l,h){return new zx(i,s,o,l,h)}(this.localStore,this.datastore,e.asyncQueue,n=>ly(this.syncEngine,n,0),function(){return ny.v()?new ny:new xx}())}createSyncEngine(e,n){return function(s,o,l,h,d,m,y){const w=new aR(s,o,l,h,d,m);return y&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=ye(s);ie(ms,"RemoteStore shutting down."),o.Ea.add(5),await bl(o),o.Aa.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}jd.provider={build:()=>new jd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="FirestoreClient";class IR{constructor(e,n,i,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=s,this.user=Dt.UNAUTHENTICATED,this.clientId=Zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async l=>{ie(Cr,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(ie(Cr,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=dm(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function wf(t,e){t.asyncQueue.verifyOperationInProgress(),ie(Cr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async s=>{i.isEqual(s)||(await wE(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cy(t,e){t.asyncQueue.verifyOperationInProgress();const n=await SR(t);ie(Cr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>ry(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>ry(e.remoteStore,s)),t._onlineComponents=e}async function SR(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ie(Cr,"Using user provided OfflineComponentProvider");try{await wf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===G.FAILED_PRECONDITION||s.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ps("Error using user provided cache. Falling back to memory cache: "+n),await wf(t,new Fc)}}else ie(Cr,"Using default OfflineComponentProvider"),await wf(t,new TR(void 0));return t._offlineComponents}async function FE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ie(Cr,"Using user provided OnlineComponentProvider"),await cy(t,t._uninitializedComponentsProvider._online)):(ie(Cr,"Using default OnlineComponentProvider"),await cy(t,new jd))),t._onlineComponents}function PR(t){return FE(t).then(e=>e.syncEngine)}async function hy(t){const e=await FE(t),n=e.eventManager;return n.onListen=lR.bind(null,e.syncEngine),n.onUnlisten=hR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fR.bind(null,e.syncEngine),n}function CR(t,e,n,i){const s=new ER(i),o=new iR(e,s,n);return t.asyncQueue.enqueueAndForget(async()=>Jx(await hy(t),o)),()=>{s.Nu(),t.asyncQueue.enqueueAndForget(async()=>eR(await hy(t),o))}}function AR(t,e){const n=new ss;return t.asyncQueue.enqueueAndForget(async()=>dR(await PR(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="ComponentProvider",fy=new Map;function RR(t,e,n,i,s){return new WC(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,zE(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="firestore.googleapis.com",dy=!0;class py{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ne(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BE,this.ssl=dy}else this.host=e.host,this.ssl=e.ssl??dy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ex)throw new ne(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zE(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ne(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ne(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ne(G.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wh{constructor(e,n,i,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new py({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new py(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new SC;switch(i.type){case"firstParty":return new xC(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ne(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=fy.get(n);i&&(ie(xR,"Removing Datastore"),fy.delete(n),i.terminate())}(this),Promise.resolve()}}function kR(t,e,n,i={}){var m;t=os(t,wh);const s=oh(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;s&&(lT(`https://${h}`),cT("Firestore",!0)),o.host!==BE&&o.host!==h&&ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:s,emulatorOptions:i};if(!No(d,l)&&(t._setSettings(d),i.mockUserToken)){let y,w;if(typeof i.mockUserToken=="string")y=i.mockUserToken,w=Dt.MOCK_USER;else{y=uT(i.mockUserToken,(m=t._app)==null?void 0:m.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new ne(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Dt(T)}t._authCredentials=new PC(new xT(y,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Es(this.firestore,e,this._query)}}class dt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Ll(n,dt._jsonSchema))return new dt(e,i||null,new ae(je.fromString(n.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:ft("string",dt._jsonSchemaVersion),referencePath:ft("string")};class yr extends Es{constructor(e,n,i){super(e,n,Jp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new ae(e))}withConverter(e){return new yr(this.firestore,e,this._path)}}function my(t,e,...n){if(t=sn(t),RT("collection","path",e),t instanceof wh){const i=je.fromString(e,...n);return C_(i),new yr(t,null,i)}{if(!(t instanceof dt||t instanceof yr))throw new ne(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(je.fromString(e,...n));return C_(i),new yr(t.firestore,null,i)}}function ec(t,e,...n){if(t=sn(t),arguments.length===1&&(e=Zp.newId()),RT("doc","path",e),t instanceof wh){const i=je.fromString(e,...n);return P_(i),new dt(t,null,new ae(i))}{if(!(t instanceof dt||t instanceof yr))throw new ne(G.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(je.fromString(e,...n));return P_(i),new dt(t.firestore,t instanceof yr?t.converter:null,new ae(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="AsyncQueue";class _y{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new EE(this,"async_queue_retry"),this._c=()=>{const i=vf();i&&ie(gy,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=vf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=vf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ss;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!$o(e))throw e;ie(gy,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,zi("INTERNAL UNHANDLED ERROR: ",yy(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=fm.createAndSchedule(this,e,n,i,o=>this.hc(o));return this.tc.push(s),s}uc(){this.nc&&de(47125,{Pc:yy(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yy(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Sl extends wh{constructor(e,n,i,s){super(e,n,i,s),this.type="firestore",this._queue=new _y,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _y(e),this._firestoreClient=void 0,await e}}}function LR(t,e){const n=typeof t=="object"?t:Wp(),i=typeof t=="string"?t:kc,s=Ho(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=oT("firestore");o&&kR(s,...o)}return s}function UE(t){if(t._terminated)throw new ne(G.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||NR(t),t._firestoreClient}function NR(t){var i,s,o,l;const e=t._freezeSettings(),n=RR(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new IR(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(xt.fromBase64String(e))}catch(n){throw new ne(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pn(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ll(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:ft("string",Pn._jsonSchemaVersion),bytes:ft("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ci._jsonSchemaVersion}}static fromJSON(e){if(Ll(e,ci._jsonSchema))return new ci(e.latitude,e.longitude)}}ci._jsonSchemaVersion="firestore/geoPoint/1.0",ci._jsonSchema={type:ft("string",ci._jsonSchemaVersion),latitude:ft("number"),longitude:ft("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Hn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ll(e,Hn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Hn(e.vectorValues);throw new ne(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hn._jsonSchemaVersion="firestore/vectorValue/1.0",Hn._jsonSchema={type:ft("string",Hn._jsonSchemaVersion),vectorValues:ft("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=/^__.*__$/;class bR{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Lr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nl(e,this.data,n,this.fieldTransforms)}}class jE{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Lr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function HE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{dataSource:t})}}class Eh{constructor(e,n,i,s,o,l){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Eh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return zc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(HE(this.dataSource)&&DR.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class MR{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||_h(e)}createContext(e,n,i,s=!1){return new Eh({dataSource:e,methodName:n,targetDoc:i,path:Pt.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ym(t){const e=t._freezeSettings(),n=_h(t._databaseId);return new MR(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OR(t,e,n,i,s,o={}){const l=t.createContext(o.merge||o.mergeFields?2:0,e,n,s);wm("Data must be an object, but it was:",l,i);const h=qE(i,l);let d,m;if(o.merge)d=new cn(l.fieldMask),m=l.fieldTransforms;else if(o.mergeFields){const y=[];for(const w of o.mergeFields){const T=zo(e,w,n);if(!l.contains(T))throw new ne(G.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);ZE(y,T)||y.push(T)}d=new cn(y),m=l.fieldTransforms.filter(w=>d.covers(w.field))}else d=null,m=l.fieldTransforms;return new bR(new Jt(h),d,m)}class Ih extends Th{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ih}}function VR(t,e,n){return new Eh({dataSource:3,targetDoc:e.settings.targetDoc,methodName:t._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class vm extends Th{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=VR(this,e,!0),i=this.Ac.map(o=>Ko(o,n)),s=new Oo(i);return new wA(e.path,s)}isEqual(e){return e instanceof vm&&No(this.Ac,e.Ac)}}function FR(t,e,n,i){const s=t.createContext(1,e,n);wm("Data must be an object, but it was:",s,i);const o=[],l=Jt.empty();kr(i,(d,m)=>{const y=$E(e,d,n);m=sn(m);const w=s.childContextForFieldPath(y);if(m instanceof Ih)o.push(y);else{const T=Ko(m,w);T!=null&&(o.push(y),l.set(y,T))}});const h=new cn(o);return new jE(l,h,s.fieldTransforms)}function zR(t,e,n,i,s,o){const l=t.createContext(1,e,n),h=[zo(e,i,n)],d=[s];if(o.length%2!=0)throw new ne(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<o.length;T+=2)h.push(zo(e,o[T])),d.push(o[T+1]);const m=[],y=Jt.empty();for(let T=h.length-1;T>=0;--T)if(!ZE(m,h[T])){const b=h[T];let U=d[T];U=sn(U);const F=l.childContextForFieldPath(b);if(U instanceof Ih)m.push(b);else{const Z=Ko(U,F);Z!=null&&(m.push(b),y.set(b,Z))}}const w=new cn(m);return new jE(y,w,l.fieldTransforms)}function BR(t,e,n,i=!1){return Ko(n,t.createContext(i?4:3,e))}function Ko(t,e){if(WE(t=sn(t)))return wm("Unsupported field value:",e,t),qE(t,e);if(t instanceof Th)return function(i,s){if(!HE(s.dataSource))throw s.createError(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(i,s){const o=[];let l=0;for(const h of i){let d=Ko(h,s.childContextForArray(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(t,e)}return function(i,s){if((i=sn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return _A(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=We.fromDate(i);return{timestampValue:Mc(s.serializer,o)}}if(i instanceof We){const o=new We(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Mc(s.serializer,o)}}if(i instanceof ci)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Pn)return{bytesValue:cE(s.serializer,i._byteString)};if(i instanceof dt){const o=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw s.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:im(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Hn)return function(l,h){const d=l instanceof Hn?l.toArray():l;return{mapValue:{fields:{[FT]:{stringValue:zT},[Lc]:{arrayValue:{values:d.map(y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return em(h.serializer,y)})}}}}}}(i,s);if(_E(i))return i._toProto(s.serializer);throw s.createError(`Unsupported field value: ${lh(i)}`)}(t,e)}function qE(t,e){const n={};return NT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):kr(t,(i,s)=>{const o=Ko(s,e.childContextForField(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function WE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof We||t instanceof ci||t instanceof Pn||t instanceof dt||t instanceof Th||t instanceof Hn||_E(t))}function wm(t,e,n){if(!WE(n)||!kT(n)){const i=lh(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function zo(t,e,n){if((e=sn(e))instanceof _m)return e._internalPath;if(typeof e=="string")return $E(t,e);throw zc("Field path arguments must be of type string or ",t,!1,void 0,n)}const UR=new RegExp("[~\\*/\\[\\]]");function $E(t,e,n){if(e.search(UR)>=0)throw zc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _m(...e.split("."))._internalPath}catch{throw zc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zc(t,e,n,i,s){const o=i&&!i.isEmpty(),l=s!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${i}`),l&&(d+=` in document ${s}`),d+=")"),new ne(G.INVALID_ARGUMENT,h+t+d)}function ZE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{convertValue(e,n="none"){switch(Sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return kr(e,(s,o)=>{i[s]=this.convertValue(o,n)}),i}convertVectorValue(e){var i,s,o;const n=(o=(s=(i=e.fields)==null?void 0:i[Lc].arrayValue)==null?void 0:s.values)==null?void 0:o.map(l=>rt(l.doubleValue));return new Hn(n)}convertGeoPoint(e){return new ci(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=hh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(vl(e));default:return null}}convertTimestamp(e){const n=Er(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=je.fromString(e);Oe(gE(i),9688,{name:e});const s=new wl(i.get(1),i.get(3)),o=new ae(i.popFirst(5));return s.isEqual(n)||zi(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE extends jR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}}function vy(...t){return new vm("arrayUnion",t)}const wy="@firebase/firestore",Ty="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const o of i)if(o in s&&typeof s[o]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n,i,s,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(zo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HR extends KE{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tm{}class QE extends Tm{}function WR(t,e,...n){let i=[];e instanceof Tm&&i.push(e),i=i.concat(n),function(o){const l=o.filter(d=>d instanceof Im).length,h=o.filter(d=>d instanceof Em).length;if(l>1||l>0&&h>0)throw new ne(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)t=s._apply(t);return t}class Em extends QE{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Em(e,n,i)}_apply(e){const n=this._parse(e);return YE(e._query,n),new Es(e.firestore,e.converter,Nd(e._query,n))}_parse(e){const n=ym(e.firestore);return function(o,l,h,d,m,y,w){let T;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ne(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Sy(w,y);const U=[];for(const F of w)U.push(Iy(d,o,F));T={arrayValue:{values:U}}}else T=Iy(d,o,w)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Sy(w,y),T=BR(h,l,w,y==="in"||y==="not-in");return ht.create(m,y,T)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Im extends Tm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Im(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Wn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let l=s;const h=o.getFlattenedFilters();for(const d of h)YE(l,d),l=Nd(l,d)}(e._query,n),new Es(e.firestore,e.converter,Nd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sm extends QE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Sm(e,n)}_apply(e){const n=function(s,o,l){if(s.startAt!==null)throw new ne(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ne(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new El(o,l)}(e._query,this._field,this._direction);return new Es(e.firestore,e.converter,uA(e._query,n))}}function $R(t,e="asc"){const n=e,i=zo("orderBy",t);return Sm._create(i,n)}function Iy(t,e,n){if(typeof(n=sn(n))=="string"){if(n==="")throw new ne(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZT(e)&&n.indexOf("/")!==-1)throw new ne(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(je.fromString(n));if(!ae.isDocumentKey(i))throw new ne(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return b_(t,new ae(i))}if(n instanceof dt)return b_(t,n._key);throw new ne(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lh(n)}.`)}function Sy(t,e){if(!Array.isArray(t)||t.length===0)throw new ne(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YE(t,e){const n=function(s,o){for(const l of s)for(const h of l.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ne(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ne(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function ZR(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class za{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class as extends KE{constructor(e,n,i,s,o,l){super(e,n,i,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(zo("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ne(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=as._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}as._jsonSchemaVersion="firestore/documentSnapshot/1.0",as._jsonSchema={type:ft("string",as._jsonSchemaVersion),bundleSource:ft("string","DocumentSnapshot"),bundleName:ft("string"),bundle:ft("string")};class tc extends as{data(e={}){return super.data(e)}}class Io{constructor(e,n,i,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new za(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new tc(this._firestore,this._userDataWriter,i.key,i,new za(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(h=>{const d=new tc(s._firestore,s._userDataWriter,h.doc.key,h.doc,new za(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const d=new tc(s._firestore,s._userDataWriter,h.doc.key,h.doc,new za(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,y=-1;return h.type!==0&&(m=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),h.type!==1&&(l=l.add(h.doc),y=l.indexOf(h.doc.key)),{type:GR(h.type),doc:d,oldIndex:m,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ne(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Io._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Io._jsonSchemaVersion="firestore/querySnapshot/1.0",Io._jsonSchema={type:ft("string",Io._jsonSchemaVersion),bundleSource:ft("string","QuerySnapshot"),bundleName:ft("string"),bundle:ft("string")};function Tf(t,e,n,...i){t=os(t,dt);const s=os(t.firestore,Sl),o=ym(s);let l;return l=typeof(e=sn(e))=="string"||e instanceof _m?zR(o,"updateDoc",t._key,e,n,i):FR(o,"updateDoc",t._key,e),XE(s,[l.toMutation(t._key,li.exists(!0))])}function KR(t,e){const n=os(t.firestore,Sl),i=ec(t),s=ZR(t.converter,e),o=ym(t.firestore);return XE(n,[OR(o,"addDoc",i._key,s,t.converter!==null,{}).toMutation(i._key,li.exists(!1))]).then(()=>i)}function QR(t,...e){var m,y,w;t=sn(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||Ey(e[i])||(n=e[i++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Ey(e[i])){const T=e[i];e[i]=(m=T.next)==null?void 0:m.bind(T),e[i+1]=(y=T.error)==null?void 0:y.bind(T),e[i+2]=(w=T.complete)==null?void 0:w.bind(T)}let o,l,h;if(t instanceof dt)l=os(t.firestore,Sl),h=Jp(t._key.path),o={next:T=>{e[i]&&e[i](YR(l,t,T))},error:e[i+1],complete:e[i+2]};else{const T=os(t,Es);l=os(T.firestore,Sl),h=T._query;const b=new GE(l);o={next:U=>{e[i]&&e[i](new Io(l,b,T,U))},error:e[i+1],complete:e[i+2]},qR(t._query)}const d=UE(l);return CR(d,h,s,o)}function XE(t,e){const n=UE(t);return AR(n,e)}function YR(t,e,n){const i=n.docs.get(e._key),s=new GE(t);return new as(t,s,e._key,i,new za(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){IC(_T),Fi(new hi("firestore",(i,{instanceIdentifier:s,options:o})=>{const l=i.getProvider("app").getImmediate(),h=new Sl(new CC(i.getProvider("auth-internal")),new RC(l,i.getProvider("app-check-internal")),$C(l,s),l);return o={useFetchStreams:n,...o},h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),xn(wy,Ty,e),xn(wy,Ty,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="firebasestorage.googleapis.com",XR="storageBucket",JR=2*60*1e3,ek=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends ji{constructor(e,n,i=0){super(Ef(e),`Firebase Storage: ${n} (${Ef(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ef(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var di;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(di||(di={}));function Ef(t){return"storage/"+t}function tk(){const t="An unknown error occurred, please check the error payload for server response.";return new pi(di.UNKNOWN,t)}function nk(){return new pi(di.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ik(){return new pi(di.CANCELED,"User canceled the upload/download.")}function rk(t){return new pi(di.INVALID_URL,"Invalid URL '"+t+"'.")}function sk(t){return new pi(di.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Py(t){return new pi(di.INVALID_ARGUMENT,t)}function e0(){return new pi(di.APP_DELETED,"The Firebase app was deleted.")}function ok(t){return new pi(di.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Bn.makeFromUrl(e,n)}catch{return new Bn(e,"")}if(i.path==="")return i;throw sk(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function o(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}const l="(/(.*))?$",h=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function m(W){W.path_=decodeURIComponent(W.path)}const y="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",b=new RegExp(`^https?://${w}/${y}/b/${s}/o${T}`,"i"),U={bucket:1,path:3},F=n===JE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,Z="([^?#]*)",N=new RegExp(`^https?://${F}/${s}/${Z}`,"i"),D=[{regex:h,indices:d,postModify:o},{regex:b,indices:U,postModify:m},{regex:N,indices:{bucket:1,path:2},postModify:m}];for(let W=0;W<D.length;W++){const z=D[W],J=z.regex.exec(e);if(J){const S=J[z.indices.bucket];let I=J[z.indices.path];I||(I=""),i=new Bn(S,I),z.postModify(i);break}}if(i==null)throw rk(e);return i}}class ak{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t,e,n){let i=1,s=null,o=null,l=!1,h=0;function d(){return h===2}let m=!1;function y(...Z){m||(m=!0,e.apply(null,Z))}function w(Z){s=setTimeout(()=>{s=null,t(b,d())},Z)}function T(){o&&clearTimeout(o)}function b(Z,...N){if(m){T();return}if(Z){T(),y.call(null,Z,...N);return}if(d()||l){T(),y.call(null,Z,...N);return}i<64&&(i*=2);let D;h===1?(h=2,D=0):D=(i+Math.random())*1e3,w(D)}let U=!1;function F(Z){U||(U=!0,T(),!m&&(s!==null?(Z||(h=2),clearTimeout(s),w(0)):Z||(h=1)))}return w(0),o=setTimeout(()=>{l=!0,F(!0)},n),F}function uk(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t){return t!==void 0}function Cy(t,e,n,i){if(i<e)throw Py(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Py(`Invalid value for '${t}'. Expected ${n} or less.`)}function hk(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}var Bc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Bc||(Bc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n,i,s,o,l,h,d,m,y,w,T=!0,b=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=h,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=w,this.retry=T,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,F)=>{this.resolve_=U,this.reject_=F,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new Ou(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=h=>{const d=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const h=o.getErrorCode()===Bc.NO_ERROR,d=o.getStatus();if(!h||fk(d,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===Bc.ABORT;i(!1,new Ou(!1,null,y));return}const m=this.successCodes_.indexOf(d)!==-1;i(!0,new Ou(m,o))})},n=(i,s)=>{const o=this.resolve_,l=this.reject_,h=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());ck(d)?o(d):o()}catch(d){l(d)}else if(h!==null){const d=tk();d.serverResponse=h.getErrorText(),this.errorCallback_?l(this.errorCallback_(h,d)):l(d)}else if(s.canceled){const d=this.appDelete_?e0():ik();l(d)}else{const d=nk();l(d)}};this.canceled_?n(!1,new Ou(!1,null,!0)):this.backoffId_=lk(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&uk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ou{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function pk(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function mk(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function gk(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _k(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function yk(t,e,n,i,s,o,l=!0,h=!1){const d=hk(t.urlParams),m=t.url+d,y=Object.assign({},t.headers);return gk(y,e),pk(y,n),mk(y,o),_k(y,i),new dk(m,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function wk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n){this._service=e,n instanceof Bn?this._location=n:this._location=Bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Uc(e,n)}get root(){const e=new Bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wk(this._location.path)}get storage(){return this._service}get parent(){const e=vk(this._location.path);if(e===null)return null;const n=new Bn(this._location.bucket,e);return new Uc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw ok(e)}}function Ay(t,e){const n=e==null?void 0:e[XR];return n==null?null:Bn.makeFromBucketSpec(n,t)}function Tk(t,e,n,i={}){t.host=`${e}:${n}`;const s=oh(e);s&&(lT(`https://${t.host}/b`),cT("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:o}=i;o&&(t._overrideAuthToken=typeof o=="string"?o:uT(o,t.app.options.projectId))}class Ek{constructor(e,n,i,s,o,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=JE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=JR,this._maxUploadRetryTime=ek,this._requests=new Set,s!=null?this._bucket=Bn.makeFromBucketSpec(s,this._host):this._bucket=Ay(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Bn.makeFromBucketSpec(this._url,e):this._bucket=Ay(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Cy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Cy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(gT(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Uc(this,e)}_makeRequest(e,n,i,s,o=!0){if(this._deleted)return new ak(e0());{const l=yk(e,this._appId,i,s,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const xy="@firebase/storage",Ry="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="storage";function Ik(t=Wp(),e){t=sn(t);const i=Ho(t,t0).getImmediate({identifier:e}),s=oT("storage");return s&&Sk(i,...s),i}function Sk(t,e,n,i={}){Tk(t,e,n,i)}function Pk(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Ek(n,i,s,e,_T)}function Ck(){Fi(new hi(t0,Pk,"PUBLIC").setMultipleInstances(!0)),xn(xy,Ry,""),xn(xy,Ry,"esm2020")}Ck();const n0="@firebase/installations",Pm="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=1e4,r0=`w:${Pm}`,s0="FIS_v2",Ak="https://firebaseinstallations.googleapis.com/v1",xk=60*60*1e3,Rk="installations",kk="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},gs=new ah(Rk,kk,Lk);function o0(t){return t instanceof ji&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0({projectId:t}){return`${Ak}/projects/${t}/installations`}function l0(t){return{token:t.token,requestStatus:2,expiresIn:Dk(t.expiresIn),creationTime:Date.now()}}async function u0(t,e){const i=(await e.json()).error;return gs.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function c0({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Nk(t,{refreshToken:e}){const n=c0(t);return n.append("Authorization",bk(e)),n}async function h0(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Dk(t){return Number(t.replace("s","000"))}function bk(t){return`${s0} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mk({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=a0(t),s=c0(t),o=e.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&s.append("x-firebase-client",m)}const l={fid:n,authVersion:s0,appId:t.appId,sdkVersion:r0},h={method:"POST",headers:s,body:JSON.stringify(l)},d=await h0(()=>fetch(i,h));if(d.ok){const m=await d.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:l0(m.authToken)}}else throw await u0("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=/^[cdef][\w-]{21}$/,Hd="";function Fk(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=zk(t);return Vk.test(n)?n:Hd}catch{return Hd}}function zk(t){return Ok(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=new Map;function p0(t,e){const n=Sh(t);m0(n,e),Bk(n,e)}function m0(t,e){const n=d0.get(t);if(n)for(const i of n)i(e)}function Bk(t,e){const n=Uk();n&&n.postMessage({key:t,fid:e}),jk()}let ns=null;function Uk(){return!ns&&"BroadcastChannel"in self&&(ns=new BroadcastChannel("[Firebase] FID Change"),ns.onmessage=t=>{m0(t.data.key,t.data.fid)}),ns}function jk(){d0.size===0&&ns&&(ns.close(),ns=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk="firebase-installations-database",qk=1,_s="firebase-installations-store";let If=null;function Cm(){return If||(If=mT(Hk,qk,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(_s)}}})),If}async function jc(t,e){const n=Sh(t),s=(await Cm()).transaction(_s,"readwrite"),o=s.objectStore(_s),l=await o.get(n);return await o.put(e,n),await s.done,(!l||l.fid!==e.fid)&&p0(t,e.fid),e}async function g0(t){const e=Sh(t),i=(await Cm()).transaction(_s,"readwrite");await i.objectStore(_s).delete(e),await i.done}async function Ph(t,e){const n=Sh(t),s=(await Cm()).transaction(_s,"readwrite"),o=s.objectStore(_s),l=await o.get(n),h=e(l);return h===void 0?await o.delete(n):await o.put(h,n),await s.done,h&&(!l||l.fid!==h.fid)&&p0(t,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Am(t){let e;const n=await Ph(t.appConfig,i=>{const s=Wk(i),o=$k(t,s);return e=o.registrationPromise,o.installationEntry});return n.fid===Hd?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Wk(t){const e=t||{fid:Fk(),registrationStatus:0};return _0(e)}function $k(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(gs.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=Zk(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Gk(t)}:{installationEntry:e}}async function Zk(t,e){try{const n=await Mk(t,e);return jc(t.appConfig,n)}catch(n){throw o0(n)&&n.customData.serverCode===409?await g0(t.appConfig):await jc(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Gk(t){let e=await ky(t.appConfig);for(;e.registrationStatus===1;)await f0(100),e=await ky(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await Am(t);return i||n}return e}function ky(t){return Ph(t,e=>{if(!e)throw gs.create("installation-not-found");return _0(e)})}function _0(t){return Kk(t)?{fid:t.fid,registrationStatus:0}:t}function Kk(t){return t.registrationStatus===1&&t.registrationTime+i0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qk({appConfig:t,heartbeatServiceProvider:e},n){const i=Yk(t,n),s=Nk(t,n),o=e.getImmediate({optional:!0});if(o){const m=await o.getHeartbeatsHeader();m&&s.append("x-firebase-client",m)}const l={installation:{sdkVersion:r0,appId:t.appId}},h={method:"POST",headers:s,body:JSON.stringify(l)},d=await h0(()=>fetch(i,h));if(d.ok){const m=await d.json();return l0(m)}else throw await u0("Generate Auth Token",d)}function Yk(t,{fid:e}){return`${a0(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xm(t,e=!1){let n;const i=await Ph(t.appConfig,o=>{if(!y0(o))throw gs.create("not-registered");const l=o.authToken;if(!e&&eL(l))return o;if(l.requestStatus===1)return n=Xk(t,e),o;{if(!navigator.onLine)throw gs.create("app-offline");const h=nL(o);return n=Jk(t,h),h}});return n?await n:i.authToken}async function Xk(t,e){let n=await Ly(t.appConfig);for(;n.authToken.requestStatus===1;)await f0(100),n=await Ly(t.appConfig);const i=n.authToken;return i.requestStatus===0?xm(t,e):i}function Ly(t){return Ph(t,e=>{if(!y0(e))throw gs.create("not-registered");const n=e.authToken;return iL(n)?{...e,authToken:{requestStatus:0}}:e})}async function Jk(t,e){try{const n=await Qk(t,e),i={...e,authToken:n};return await jc(t.appConfig,i),n}catch(n){if(o0(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await g0(t.appConfig);else{const i={...e,authToken:{requestStatus:0}};await jc(t.appConfig,i)}throw n}}function y0(t){return t!==void 0&&t.registrationStatus===2}function eL(t){return t.requestStatus===2&&!tL(t)}function tL(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+xk}function nL(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function iL(t){return t.requestStatus===1&&t.requestTime+i0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rL(t){const e=t,{installationEntry:n,registrationPromise:i}=await Am(e);return i?i.catch(console.error):xm(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sL(t,e=!1){const n=t;return await oL(n),(await xm(n,e)).token}async function oL(t){const{registrationPromise:e}=await Am(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t){if(!t||!t.options)throw Sf("App Configuration");if(!t.name)throw Sf("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Sf(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Sf(t){return gs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="installations",lL="installations-internal",uL=t=>{const e=t.getProvider("app").getImmediate(),n=aL(e),i=Ho(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},cL=t=>{const e=t.getProvider("app").getImmediate(),n=Ho(e,v0).getImmediate();return{getId:()=>rL(n),getToken:s=>sL(n,s)}};function hL(){Fi(new hi(v0,uL,"PUBLIC")),Fi(new hi(lL,cL,"PRIVATE"))}hL();xn(n0,Pm);xn(n0,Pm,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc="analytics",fL="firebase_id",dL="origin",pL=60*1e3,mL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Rm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht=new Hp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},fn=new ah("analytics","Analytics",gL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(t){if(!t.startsWith(Rm)){const e=fn.create("invalid-gtag-resource",{gtagURL:t});return Ht.warn(e.message),""}return t}function w0(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function yL(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function vL(t,e){const n=yL("firebase-js-sdk-policy",{createScriptURL:_L}),i=document.createElement("script"),s=`${Rm}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function wL(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function TL(t,e,n,i,s,o){const l=i[s];try{if(l)await e[l];else{const d=(await w0(n)).find(m=>m.measurementId===s);d&&await e[d.appId]}}catch(h){Ht.error(h)}t("config",s,o)}async function EL(t,e,n,i,s){try{let o=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const h=await w0(n);for(const d of l){const m=h.find(w=>w.measurementId===d),y=m&&e[m.appId];if(y)o.push(y);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",i,s||{})}catch(o){Ht.error(o)}}function IL(t,e,n,i){async function s(o,...l){try{if(o==="event"){const[h,d]=l;await EL(t,e,n,h,d)}else if(o==="config"){const[h,d]=l;await TL(t,e,n,i,h,d)}else if(o==="consent"){const[h,d]=l;t("consent",h,d)}else if(o==="get"){const[h,d,m]=l;t("get",h,d,m)}else if(o==="set"){const[h]=l;t("set",h)}else t(o,...l)}catch(h){Ht.error(h)}}return s}function SL(t,e,n,i,s){let o=function(...l){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(o=window[s]),window[s]=IL(o,t,e,n),{gtagCore:o,wrappedGtag:window[s]}}function PL(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Rm)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=30,AL=1e3;class xL{constructor(e={},n=AL){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const T0=new xL;function RL(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function kL(t){var l;const{appId:e,apiKey:n}=t,i={method:"GET",headers:RL(n)},s=mL.replace("{app-id}",e),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let h="";try{const d=await o.json();(l=d.error)!=null&&l.message&&(h=d.error.message)}catch{}throw fn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:h})}return o.json()}async function LL(t,e=T0,n){const{appId:i,apiKey:s,measurementId:o}=t.options;if(!i)throw fn.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:i};throw fn.create("no-api-key")}const l=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new bL;return setTimeout(async()=>{h.abort()},pL),E0({appId:i,apiKey:s,measurementId:o},l,h,e)}async function E0(t,{throttleEndTimeMillis:e,backoffCount:n},i,s=T0){var h;const{appId:o,measurementId:l}=t;try{await NL(i,e)}catch(d){if(l)return Ht.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:l};throw d}try{const d=await kL(t);return s.deleteThrottleMetadata(o),d}catch(d){const m=d;if(!DL(m)){if(s.deleteThrottleMetadata(o),l)return Ht.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:o,measurementId:l};throw d}const y=Number((h=m==null?void 0:m.customData)==null?void 0:h.httpStatus)===503?d_(n,s.intervalMillis,CL):d_(n,s.intervalMillis),w={throttleEndTimeMillis:Date.now()+y,backoffCount:n+1};return s.setThrottleMetadata(o,w),Ht.debug(`Calling attemptFetch again in ${y} millis`),E0(t,w,i,s)}}function NL(t,e){return new Promise((n,i)=>{const s=Math.max(e-Date.now(),0),o=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(o),i(fn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function DL(t){if(!(t instanceof ji)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class bL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function ML(t,e,n,i,s){if(s&&s.global){t("event",n,i);return}else{const o=await e,l={...i,send_to:o};t("event",n,l)}}async function OL(t,e,n,i){if(i&&i.global){const s={};for(const o of Object.keys(n))s[`user_properties.${o}`]=n[o];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VL(){if(hT())try{await fT()}catch(t){return Ht.warn(fn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ht.warn(fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function FL(t,e,n,i,s,o,l){const h=LL(t);h.then(T=>{n[T.measurementId]=T.appId,t.options.measurementId&&T.measurementId!==t.options.measurementId&&Ht.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>Ht.error(T)),e.push(h);const d=VL().then(T=>{if(T)return i.getId()}),[m,y]=await Promise.all([h,d]);PL(o)||vL(o,m.measurementId),s("js",new Date);const w=(l==null?void 0:l.config)??{};return w[dL]="firebase",w.update=!0,y!=null&&(w[fL]=y),s("config",m.measurementId,w),m.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e){this.app=e}_delete(){return delete So[this.app.options.appId],Promise.resolve()}}let So={},Ny=[];const Dy={};let Pf="dataLayer",BL="gtag",by,km,My=!1;function UL(){const t=[];if(rP()&&t.push("This is a browser extension environment."),oP()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=fn.create("invalid-analytics-context",{errorInfo:e});Ht.warn(n.message)}}function jL(t,e,n){UL();const i=t.options.appId;if(!i)throw fn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ht.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw fn.create("no-api-key");if(So[i]!=null)throw fn.create("already-exists",{id:i});if(!My){wL(Pf);const{wrappedGtag:o,gtagCore:l}=SL(So,Ny,Dy,Pf,BL);km=o,by=l,My=!0}return So[i]=FL(t,Ny,Dy,e,by,Pf,n),new zL(t)}function HL(t=Wp()){t=sn(t);const e=Ho(t,Hc);return e.isInitialized()?e.getImmediate():qL(t)}function qL(t,e={}){const n=Ho(t,Hc);if(n.isInitialized()){const s=n.getImmediate();if(No(e,n.getOptions()))return s;throw fn.create("already-initialized")}return n.initialize({options:e})}function WL(t,e,n){t=sn(t),OL(km,So[t.app.options.appId],e,n).catch(i=>Ht.error(i))}function $L(t,e,n,i){t=sn(t),ML(km,So[t.app.options.appId],e,n,i).catch(s=>Ht.error(s))}const Oy="@firebase/analytics",Vy="0.10.19";function ZL(){Fi(new hi(Hc,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return jL(i,s,n)},"PUBLIC")),Fi(new hi("analytics-internal",t,"PRIVATE")),xn(Oy,Vy),xn(Oy,Vy,"esm2020");function t(e){try{const n=e.getProvider(Hc).getImmediate();return{logEvent:(i,s,o)=>$L(n,i,s,o),setUserProperties:(i,s)=>WL(n,i,s)}}catch(n){throw fn.create("interop-component-reg-failed",{reason:n})}}}ZL();const GL={apiKey:"AIzaSyBKVCTgGiEwdDb4jUUlGmowv9oUex6VNwo",authDomain:"straycat-fc643.firebaseapp.com",projectId:"straycat-fc643",storageBucket:"straycat-fc643.firebasestorage.app",messagingSenderId:"425334696866",appId:"1:425334696866:web:710c1db1aff1807e8160fb",measurementId:"G-C28QQTJ2HH"},Lm=yT(GL),La=LR(Lm);Ik(Lm);HL(Lm);const KL={ko:{appTitle:"  ",headerDescAdding:"      ",headerDescDefault:"     '  '     ",addBtn:"   ",editTitle:"   ",addTitle:"  ",labelName:"",labelDesc:"",placeholderDesc:"ex) ,   ",labelNeeds:"",labelCustomNeeds:"   ",labelFoundDate:" ",labelFirstFound:" ",labelFoundTime:" ",labelCondition:" ",labelStatusSidebar:"",labelNeutered:"",labelPhoto:" URL ()",labelPhone:"  ()",placeholderPhone:"(         )",submitUpdate:" ",submitAdd:" ",submitAdd:" ",toastSubmitted:" !",catSearchPlaceholder:"  ...",optNone:"(  )",optNeuter:" ",optTreat:"  ",optCare:"   ",optCustom:" ",optGood:"",optAvg:"",optThin:"",optVerified:"(TNR )",optNotDone:"",optUnknown:"",foundAt:" (  )",status:"Status",tnr:"TNR",helpReq:"   ",helpers:"  ",helpersList:"   :",btnHelp:"  ",careReq:"   ",careCount:" ",lastMeal:"  :",btnRecordCare:" /  ()",otherNeeds:" :",btnEdit:"  ",careTitle:"   ",careDesc:"     ?  !",labelDate:"",labelTime:"",btnComplete:" ",helpTitle:"  ",helpDesc:"   ?       .",labelContact:"",placeholderContact:"010-0000-0000",btnRegisterHelp:" ",alertThanks:"  !   .",alertCare:"  ! ",alertError:" .",alertSaveError:" .  .",historyTitle:"   ",historyEmpty:"  .",noticeNeuter:"        !"},en:{appTitle:" Stray Cat Map",headerDescAdding:" Click a location on the map to register",headerDescDefault:"Click 'Register New Cat' below, then click on the map to add a cat",addBtn:" Register New Cat",editTitle:" Edit Cat Info",addTitle:" Report a Cat",labelName:"Name",labelDesc:"Description",placeholderDesc:"ex) Mackerel tabby, right eye injured",labelNeeds:"Needs",labelCustomNeeds:"Enter specific needs",labelFoundDate:"Found Date",labelFirstFound:"First Found",labelFoundTime:"Found Time",labelCondition:"Condition",labelStatusSidebar:"Status",labelNeutered:"Neutered",labelPhoto:"Photo URL (Optional)",labelPhone:"Contact (Optional)",placeholderPhone:"(Enter if immediate joint vet visit is needed)",submitUpdate:"Update",submitAdd:"Submit",submitAdd:"Submit",toastSubmitted:"Report submitted!",catSearchPlaceholder:"Search cat by name...",optNone:"None",optNeuter:"Needs Neuter",optTreat:"Needs Treatment",optCare:"Needs Regular Caretaker",optCustom:"Custom Input",optGood:"Good",optAvg:"Average",optThin:"Thin",optVerified:"Verified (TNR Done)",optNotDone:"Not Done",optUnknown:"Unknown",foundAt:" Found:",status:"Status",tnr:"TNR",helpReq:" Help Needed",helpers:"helping",helpersList:" Helpers:",btnHelp:" Offer Help",careReq:" Caretakers Wanted",careCount:"cares",lastMeal:" Last Meal:",btnRecordCare:" Fed/Watered (Record)",otherNeeds:"Other Needs:",btnEdit:" Edit Info",careTitle:" Record Care",careDesc:"Did you feed or water the cat today? Please record the time!",labelDate:"Date",labelTime:"Time",btnComplete:"Complete",helpTitle:" Offer Help",helpDesc:"Can you help? Leave your contact to coordinate with others.",labelContact:"Contact",placeholderContact:"Phone Number",btnRegisterHelp:"Register Help",alertThanks:"Thank you for helping!  Contact registered.",alertCare:"Care record added! ",alertError:"An error occurred.",alertSaveError:"Failed to save. Check console.",historyTitle:" Care History",historyEmpty:"No records yet.",noticeNeuter:" Contact your local district office for neutering support!"}},QL=new NS.DivIcon({className:"custom-cat-icon",html:'<div style="background: white; border: 2px solid #FFD700; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; font-size: 16px; box-shadow: 0 2px 5px rgba(0,0,0,0.2);"></div>',iconSize:[30,30],iconAnchor:[15,15]});function YL({selectedCat:t,markersRef:e,searchResult:n}){const i=iT();return le.useEffect(()=>{if(t&&e.current[t.id]){i.flyTo([t.lat,t.lng],16,{duration:1.5});const s=e.current[t.id];s&&window.innerWidth>=768&&setTimeout(()=>s.openPopup(),1500)}},[t,i,e]),le.useEffect(()=>{n&&i.flyTo([n.lat,n.lng],15,{duration:1.5})},[n,i]),null}function XL({onMapClick:t,isAdding:e,setIsAdding:n}){return FS({click(i){e&&t(i.latlng)},keydown(i){i.originalEvent.key==="Escape"&&n(!1)}}),null}function JL(){const[t,e]=le.useState([]),[n,i]=le.useState(!1),[s,o]=le.useState(!1),[l,h]=le.useState(!1),[d,m]=le.useState(null),[y,w]=le.useState(null),[T,b]=le.useState("ko"),[U,F]=le.useState(!1),[Z,N]=le.useState(null),[P,D]=le.useState(window.innerWidth<768),W=le.useRef({}),z=KL[T],J=()=>{b(j=>j==="ko"?"en":"ko")},[S,I]=le.useState(""),[C,R]=le.useState(""),[k,M]=le.useState(null),A=async()=>{if(C.trim())try{const Ae=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(C)}`)).json();if(Ae&&Ae.length>0){const{lat:_t,lon:Ge}=Ae[0];M({lat:parseFloat(_t),lng:parseFloat(Ge),timestamp:Date.now()})}else alert(z.searchNoResult||"   .")}catch(j){console.error("Search failed:",j),alert("   .")}};le.useEffect(()=>{const j=()=>D(window.innerWidth<768);return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]);const[ue,ze]=le.useState({name:"",desc:"",condition:"",neutered:"(TNR )",photo:"",foundDate:new Date().toISOString().split("T")[0],foundTime:"12:00",needs:"",customNeeds:"",helpers:0,caretakers:0,phone:""}),[tt,Vt]=le.useState(!1),[$,ce]=le.useState(null),[X,he]=le.useState({date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().split(" ")[0].slice(0,5)}),[we,Be]=le.useState(!1),[Ie,ve]=le.useState({phone:""});le.useEffect(()=>{const j=WR(my(La,"cats"),$R("id","desc")),Ae=QR(j,_t=>{const Ge=[];_t.forEach(nt=>{Ge.push({...nt.data(),firestoreId:nt.id})}),e(Ge)});return()=>Ae()},[]);const pe=()=>{i(!0),w(null),ze({name:"",desc:"",condition:"",neutered:"(TNR )",photo:"",foundDate:new Date().toISOString().split("T")[0],foundTime:"12:00",needs:"",customNeeds:"",helpers:0,caretakers:0,phone:""})},ot=j=>{m(j),w(null),ze({name:"",desc:"",condition:"",neutered:"(TNR )",photo:"",foundDate:new Date().toISOString().split("T")[0],foundTime:"12:00",needs:"",customNeeds:"",helpers:0,caretakers:0,phone:""}),o(!0),i(!1)},$t=j=>{w(j.id),ze({name:j.name,desc:j.desc,condition:j.condition,neutered:j.neutered,photo:j.photo,foundDate:j.foundDate||new Date().toISOString().split("T")[0],foundTime:j.foundTime||"12:00",needs:j.needs||"",customNeeds:j.customNeeds||"",helpers:j.helpers||0,caretakers:j.caretakers||0,phone:j.phone||""}),m({lat:j.lat,lng:j.lng}),o(!0)},Nr=j=>{N(j)},Dr=j=>{ce(j),ve({phone:""}),Be(!0)},br=async j=>{if(j.preventDefault(),!!$)try{const Ae=ec(La,"cats",$.firestoreId);await Tf(Ae,{helpers:($.helpers||0)+1,helpersList:vy({phone:Ie.phone,createdAt:new Date})}),Be(!1),alert(z.alertThanks)}catch(Ae){console.error("Error updating helpers:",Ae),alert(z.alertError)}},$n=j=>{ce(j),he({date:new Date().toISOString().split("T")[0],time:new Date().toTimeString().split(" ")[0].slice(0,5)}),Vt(!0)},mi=async j=>{if(j.preventDefault(),!!$)try{const Ae=ec(La,"cats",$.firestoreId);await Tf(Ae,{caretakers:($.caretakers||0)+1,careHistory:vy({date:X.date,time:X.time,createdAt:new Date})}),Vt(!1),alert(z.alertCare)}catch(Ae){console.error("Error updating care history:",Ae),alert(z.alertError)}},Is=async j=>{j.preventDefault();try{if(y){const Ae=ec(La,"cats",t.find(_t=>_t.id===y).firestoreId);await Tf(Ae,ue)}else await KR(my(La,"cats"),{...ue,id:Date.now(),lat:d.lat,lng:d.lng,createdAt:new Date});o(!1),h(!0),ze({name:"",desc:"",condition:"",neutered:"(TNR )",photo:"",foundDate:new Date().toISOString().split("T")[0],foundTime:"12:00",needs:"",customNeeds:"",helpers:0,caretakers:0,phone:""}),w(null),setTimeout(()=>h(!1),3e3)}catch(Ae){console.error("Error saving document: ",Ae),alert(z.alertSaveError)}},Mr=j=>B.jsxs("div",{className:"cat-details-content",children:[j.photo&&B.jsx("img",{src:j.photo,alt:j.name,className:"cat-detail-img"}),B.jsx("h3",{children:j.name}),B.jsxs("p",{className:"cat-detail-meta",children:[z.foundAt," ",j.foundDate," ",j.foundTime]}),B.jsx("p",{className:"cat-detail-desc",children:j.desc}),B.jsxs("div",{className:"cat-badges",children:[B.jsxs("span",{className:"badge",children:[z.status,": ",j.condition]}),B.jsxs("span",{className:"badge",children:[z.tnr,": ",j.neutered]})]}),B.jsx("div",{className:"cat-needs-section",children:j.needs&&j.needs!==""&&B.jsx("div",{className:"needs-box",children:j.needs===" "||j.needs==="  "?B.jsxs(B.Fragment,{children:[B.jsx("span",{className:"needs-urgent",children:z.helpReq}),B.jsxs("div",{className:"needs-text",children:[j.needs," (",j.helpers||0,z.helpers,")"]}),j.helpersList&&j.helpersList.length>0&&B.jsxs("div",{className:"helpers-list",children:[B.jsx("strong",{children:z.helpersList}),B.jsx("ul",{children:j.helpersList.map((Ae,_t)=>B.jsx("li",{children:Ae.phone},_t))})]}),B.jsx("button",{onClick:()=>Dr(j),className:"action-btn help-btn",children:z.btnHelp})]}):j.needs==="   "?B.jsxs(B.Fragment,{children:[B.jsx("span",{className:"care-req-title",children:z.careReq}),B.jsxs("div",{className:"needs-text",children:[j.needs," (",j.caretakers||0,z.careCount,")"]}),j.careHistory&&j.careHistory.length>0&&B.jsxs("div",{className:"care-history",onClick:()=>F(!0),style:{cursor:"pointer",textDecoration:"underline"},children:[z.lastMeal," ",j.careHistory[j.careHistory.length-1].date," ",j.careHistory[j.careHistory.length-1].time]}),B.jsx("button",{onClick:()=>$n(j),className:"action-btn care-btn",children:z.btnRecordCare})]}):j.needs===" "?B.jsxs(B.Fragment,{children:[B.jsx("strong",{children:z.otherNeeds})," ",j.customNeeds]}):B.jsx("span",{children:j.needs})})}),j.phone&&B.jsxs("div",{className:"contact-box",children:[" ",j.phone]}),B.jsx("button",{onClick:()=>$t(j),className:"edit-btn",children:z.btnEdit})]});return B.jsxs("div",{className:"app-container",children:[B.jsx("button",{className:"lang-toggle",onClick:J,children:T==="ko"?"English":""}),B.jsxs("aside",{className:"sidebar",children:[B.jsxs("div",{className:"sidebar-header",children:[B.jsx("h1",{children:z.appTitle}),B.jsx("p",{children:z.headerDescDefault}),B.jsx("div",{className:"sidebar-search",children:B.jsx("input",{type:"text",placeholder:z.catSearchPlaceholder,value:S,onChange:j=>I(j.target.value)})})]}),B.jsxs("div",{className:"cat-list",children:[t.filter(j=>j.name.toLowerCase().includes(S.toLowerCase())).map(j=>B.jsxs("div",{className:"cat-card",onClick:()=>N(j),children:[B.jsxs("div",{className:"cat-info-row",children:[B.jsxs("span",{className:"cat-label",children:[z.labelName,":"]}),B.jsx("span",{className:"cat-value",children:B.jsx("strong",{children:j.name})})]}),B.jsxs("div",{className:"cat-info-row",children:[B.jsxs("span",{className:"cat-label",children:[z.labelFirstFound,":"]}),B.jsx("span",{className:"cat-value",children:j.foundDate})]}),B.jsxs("div",{className:"cat-info-row",children:[B.jsxs("span",{className:"cat-label",children:[z.labelDesc,":"]}),B.jsx("span",{className:"cat-value desc-text",children:j.desc})]}),B.jsxs("div",{className:"cat-info-row",children:[B.jsxs("span",{className:"cat-label",children:[z.labelStatusSidebar,":"]}),B.jsxs("span",{className:"cat-value",children:[B.jsx("span",{className:`status-dot ${j.condition===""?"good":"bad"}`}),j.condition]})]}),j.needs&&j.needs!==""&&j.needs!=="None"&&B.jsxs("div",{className:"cat-info-row needs-row",children:[B.jsxs("span",{className:"cat-label",children:[z.labelNeeds,":"]}),B.jsx("span",{className:"cat-value needs-text",children:j.needs===" "||j.needs==="Custom Input"?j.customNeeds:j.needs})]})]},j.id)),t.filter(j=>j.name.toLowerCase().includes(S.toLowerCase())).length===0&&B.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#999"},children:T==="en"?"No cats found.":"  ."})]})]}),B.jsxs("div",{className:"map-wrapper",children:[B.jsxs(BS,{center:[37.5708,126.9801],zoom:17,minZoom:15,maxBounds:[[33,124],[43,132]],id:"map-container",className:n?"cursor-crosshair":"",zoomControl:!1,children:[B.jsx(u_,{url:"https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png",attribution:" OpenStreetMap",className:"map-base-layer",zIndex:1}),B.jsx(u_,{url:"https://{s}.basemaps.cartocdn.com/light_only_labels/{z}/{x}/{y}{r}.png",className:"map-label-layer",zIndex:100}),B.jsx(XL,{onMapClick:ot,isAdding:n,setIsAdding:i}),B.jsx(YL,{selectedCat:Z,markersRef:W,searchResult:k}),t.map(j=>B.jsx(US,{position:[j.lat,j.lng],icon:QL,ref:Ae=>W.current[j.id]=Ae,eventHandlers:{click:()=>Nr(j)},children:!P&&B.jsx(jS,{children:B.jsx("div",{className:"cat-popup",children:Mr(j)})})},j.id))]}),B.jsxs("div",{className:"search-container",children:[B.jsx("input",{type:"text",className:"search-input",placeholder:z.searchPlaceholder||"Search location...",value:C,onChange:j=>R(j.target.value),onKeyPress:j=>j.key==="Enter"&&A()}),B.jsx("button",{className:"search-btn",onClick:A,children:""})]}),B.jsxs("div",{className:"fab-container",children:[B.jsx("button",{className:"add-fab",onClick:pe,children:B.jsx("span",{children:"+"})}),n&&B.jsx("div",{className:"fab-tooltip",children:z.headerDescAdding})]}),P&&Z&&B.jsx("div",{className:"bottom-sheet-overlay",onClick:()=>N(null),children:B.jsxs("div",{className:"bottom-sheet",onClick:j=>j.stopPropagation(),children:[B.jsx("div",{className:"sheet-handle"}),B.jsx("div",{className:"sheet-content",children:Mr(Z)})]})})]}),s&&B.jsx("div",{className:"modal-overlay",onClick:()=>o(!1),children:B.jsxs("div",{className:"modal-content",onClick:j=>j.stopPropagation(),children:[B.jsx("button",{className:"modal-close-btn",onClick:()=>o(!1),children:""}),B.jsx("h2",{children:y?z.editTitle:z.addTitle}),B.jsxs("form",{onSubmit:Is,children:[B.jsxs("div",{className:"form-group",children:[B.jsx("label",{children:z.labelName}),B.jsx("input",{type:"text",required:!0,value:ue.name,onChange:j=>ze({...ue,name:j.target.value})})]}),B.jsxs("div",{className:"form-group",children:[B.jsx("label",{children:z.labelDesc}),B.jsx("textarea",{required:!0,placeholder:z.placeholderDesc,value:ue.desc,onChange:j=>ze({...ue,desc:j.target.value})})]}),B.jsxs("div",{className:"form-group",children:[B.jsx("label",{children:z.labelNeeds}),B.jsxs("select",{value:ue.needs,onChange:j=>ze({...ue,needs:j.target.value}),children:[B.jsx("option",{value:"",children:z.optNone}),B.jsx("option",{value:" ",children:z.optNeuter}),B.jsx("option",{value:"  ",children:z.optTreat}),B.jsx("option",{value:"   ",children:z.optCare}),B.jsx("option",{value:" ",children:z.optCustom})]}),ue.needs===" "&&B.jsx("p",{style:{marginTop:"5px",fontSize:"0.8rem",color:"#e17055"},children:z.noticeNeuter}),ue.needs===" "&&B.jsx("input",{type:"text",style:{marginTop:"5px"},placeholder:z.labelCustomNeeds,required:!0,value:ue.customNeeds,onChange:j=>ze({...ue,customNeeds:j.target.value})})]}),B.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[B.jsxs("div",{className:"form-group",children:[B.jsx("label",{children:z.labelFoundDate}),B.jsx("input",{type:"date",required:!0,value:ue.foundDate,onChange:j=>ze({...ue,foundDate:j.target.value})})]}),B.jsxs("div",{className:"form-group",children:[B.jsx("label",{children:z.labelFoundTime}),B.jsx("select",{required:!0,value:ue.foundTime,onChange:j=>ze({...ue,foundTime:j.target.value}),children:Array.from({length:24}).map((j,Ae)=>{const _t=Ae.toString().padStart(2,"0");return B.jsx("option",{value:`${_t}:00`,children:`${_t}:00`},Ae)})})]})]}),B.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[B.jsxs("div",{className:"form-group",children:[B.jsx("label",{children:z.labelCondition}),B.jsxs("select",{required:!0,value:ue.condition,onChange:j=>ze({...ue,condition:j.target.value}),children:[B.jsx("option",{value:"",children:z.optGood}),B.jsx("option",{value:"",children:z.optAvg}),B.jsx("option",{value:"",children:z.optThin})]})]}),B.jsxs("div",{className:"form-group",children:[B.jsx("label",{children:z.labelNeutered}),B.jsxs("select",{required:!0,value:ue.neutered,onChange:j=>ze({...ue,neutered:j.target.value}),children:[B.jsx("option",{value:"(TNR )",children:z.optVerified}),B.jsx("option",{value:"",children:z.optNotDone}),B.jsx("option",{value:"",children:z.optUnknown})]})]})]}),B.jsxs("div",{className:"form-group",children:[B.jsx("label",{children:z.labelPhoto}),B.jsx("input",{type:"url",value:ue.photo,onChange:j=>ze({...ue,photo:j.target.value})})]}),B.jsxs("div",{className:"form-group",children:[B.jsx("label",{children:z.labelPhone}),B.jsx("input",{type:"tel",placeholder:z.placeholderPhone,value:ue.phone,onChange:j=>ze({...ue,phone:j.target.value})})]}),B.jsx("button",{type:"submit",className:"submit-btn",children:y?z.submitUpdate:z.submitAdd})]})]})}),tt&&B.jsx("div",{className:"modal-overlay",onClick:()=>Vt(!1),children:B.jsxs("div",{className:"modal-content",onClick:j=>j.stopPropagation(),style:{maxWidth:"300px"},children:[B.jsx("h3",{children:z.careTitle}),B.jsx("p",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"15px"},children:z.careDesc}),B.jsxs("form",{onSubmit:mi,children:[B.jsxs("div",{className:"form-group",children:[B.jsx("label",{children:z.labelDate}),B.jsx("input",{type:"date",required:!0,value:X.date,onChange:j=>he({...X,date:j.target.value})})]}),B.jsxs("div",{className:"form-group",children:[B.jsx("label",{children:z.labelTime}),B.jsx("input",{type:"time",required:!0,value:X.time,onChange:j=>he({...X,time:j.target.value})})]}),B.jsx("button",{type:"submit",className:"submit-btn",style:{background:"#55efc4",color:"#2d3436"},children:z.btnComplete})]})]})}),we&&B.jsx("div",{className:"modal-overlay",onClick:()=>Be(!1),children:B.jsxs("div",{className:"modal-content",onClick:j=>j.stopPropagation(),style:{maxWidth:"300px"},children:[B.jsx("h3",{children:z.helpTitle}),B.jsx("p",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"15px"},children:z.helpDesc}),B.jsxs("form",{onSubmit:br,children:[B.jsxs("div",{className:"form-group",children:[B.jsx("label",{children:z.labelContact}),B.jsx("input",{type:"tel",required:!0,placeholder:z.placeholderContact,value:Ie.phone,onChange:j=>ve({...Ie,phone:j.target.value})})]}),B.jsx("button",{type:"submit",className:"submit-btn",style:{background:"#ff7675",color:"white"},children:z.btnRegisterHelp})]})]})}),U&&Z&&B.jsx("div",{className:"modal-overlay",onClick:()=>F(!1),children:B.jsxs("div",{className:"modal-content",onClick:j=>j.stopPropagation(),style:{maxWidth:"350px",maxHeight:"60vh",overflowY:"auto"},children:[B.jsx("button",{className:"modal-close-btn",onClick:()=>F(!1),children:""}),B.jsx("h3",{children:z.historyTitle}),Z.careHistory&&Z.careHistory.length>0?B.jsx("ul",{className:"history-list",children:[...Z.careHistory].reverse().map((j,Ae)=>B.jsxs("li",{className:"history-item",children:[" ",j.date," ",j.time]},Ae))}):B.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:z.historyEmpty})]})}),l&&B.jsxs("div",{className:"toast",children:[B.jsx("span",{className:"v-mark",children:"V"}),B.jsx("span",{children:z.toastSubmitted})]})]})}Cf.createRoot(document.getElementById("root")).render(B.jsx(nc.StrictMode,{children:B.jsx(JL,{})}));
